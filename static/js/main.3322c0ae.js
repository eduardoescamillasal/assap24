/*! For license information please see main.3322c0ae.js.LICENSE.txt */
(()=>{var e={730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var q,U=Object.assign;function D(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var H=!1;function F(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var c="\n"+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function $(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case T:return"Profiler";case I:return"StrictMode";case _:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function ie(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ie=null;function Te(e){if(e=wo(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function xe(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ee(e,t){return e(t)}function _e(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ee(e,t,n)}finally{Re=!1,(null!==Se||null!==Ie)&&(_e(),Ae())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Me=!1}function Le(e,t,n,r,o,i,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var qe=!1,Ue=null,De=!1,He=null,Fe={onError:function(e){qe=!0,Ue=e}};function $e(e,t,n,r,o,i,a,s,c){qe=!1,Ue=null,Le.apply(Fe,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(je(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Be(o),e;if(a===r)return Be(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ve=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Je=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,kt,St,It,Tt,xt=!1,At=[],Et=null,_t=null,Rt=null,Pt=new Map,Ot=new Map,Mt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function qt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ut(e){var t=bo(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ht(e,t,n){Dt(e)&&n.delete(t)}function Ft(){xt=!1,null!==Et&&Dt(Et)&&(Et=null),null!==_t&&Dt(_t)&&(_t=null),null!==Rt&&Dt(Rt)&&(Rt=null),Pt.forEach(Ht),Ot.forEach(Ht)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function jt(e){function t(t){return $t(t,e)}if(0<At.length){$t(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&$t(Et,e),null!==_t&&$t(_t,e),null!==Rt&&$t(Rt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Mt.shift()}var zt=w.ReactCurrentBatchConfig,Bt=!0;function Kt(e,t,n,r){var o=bt,i=zt.transition;zt.transition=null;try{bt=1,Vt(e,t,n,r)}finally{bt=o,zt.transition=i}}function Wt(e,t,n,r){var o=bt,i=zt.transition;zt.transition=null;try{bt=4,Vt(e,t,n,r)}finally{bt=o,zt.transition=i}}function Vt(e,t,n,r){if(Bt){var o=Gt(e,t,n,r);if(null===o)Br(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Et=qt(Et,e,t,n,r,o),!0;case"dragenter":return _t=qt(_t,e,t,n,r,o),!0;case"mouseover":return Rt=qt(Rt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,qt(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,qt(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&Ct(i),null===(i=Gt(e,t,n,r))&&Br(e,t,r,Qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Qt=null;function Gt(e,t,n,r){if(Qt=null,null!==(e=bo(e=Ce(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=U({},ln,{view:0,detail:0}),hn=on(dn),pn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),gn=on(U({},pn,{dataTransfer:0})),mn=on(U({},dn,{relatedTarget:0})),yn=on(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(U({},ln,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return In}var xn=U({},dn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(xn),En=on(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=on(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Mn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var qn=u&&"TextEvent"in window&&!Ln,Un=u&&(!Nn||Ln&&8<Ln&&11>=Ln),Dn=String.fromCharCode(32),Hn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Vn=null;function Qn(e){Dr(e,0)}function Gn(e){if(V(Co(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Vn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Vn)){var t=[];Kn(t,Vn,e,Ce(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Vn)}function ir(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},Sr={},Ir={};function Tr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var xr=Tr("animationend"),Ar=Tr("animationiteration"),Er=Tr("animationstart"),_r=Tr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),c(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Nr=Pr[Mr];Or(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Or(xr,"onAnimationEnd"),Or(Ar,"onAnimationIteration"),Or(Er,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(_r,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,c,l){if($e.apply(this,arguments),qe){if(!qe)throw Error(i(198));var u=Ue;qe=!1,Ue=null,De||(De=!0,He=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==i&&o.isPropagationStopped())break e;Ur(o,s,l),i=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==i&&o.isPropagationStopped())break e;Ur(o,s,l),i=c}}}if(De)throw e=He,De=!1,He=null,e}function Hr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[$r]){e[$r]=!0,a.forEach((function(t){"selectionchange"!==t&&(qr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Fr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var o=Kt;break;case 4:o=Wt;break;default:o=Vt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(c=a.tag)||6===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=i,o=Ce(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=An;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case xr:case Ar:case Er:c=yn;break;case _r:c=Rn;break;case"scroll":c=hn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Oe(f,h))&&u.push(Kr(f,g,p)))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!bo(l)&&!l[go])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?bo(l):null)&&(l!==(d=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:Co(c),p=null==l?s:Co(l),(s=new u(g,f+"leave",c,n,o)).target=d,s.relatedTarget=p,g=null,bo(o)===r&&((u=new u(h,f+"enter",l,n,o)).target=p,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(h=l,f=0,p=u=c;p;p=Vr(p))f++;for(p=0,g=h;g;g=Vr(g))p++;for(;0<f-p;)u=Vr(u),f--;for(;0<p-f;)h=Vr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vr(u),h=Vr(h)}u=null}else u=null;null!==c&&Qr(a,s,c,u,!1),null!==l&&null!==d&&Qr(a,d,l,u,!0)}if("select"===(c=(s=r?Co(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Yn;else if(Bn(s))if(Jn)m=ar;else{m=or;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Kn(a,m,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?Co(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,o)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(v=en()):(Xt="value"in(Jt=o)?Jt.value:Jt.textContent,jn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=qn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Hn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Nn&&Fn(e,t)?(e=en(),Zt=Xt=Jt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}Dr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift(Kr(e,i,o)),null!=(i=Oe(e,t))&&r.push(Kr(e,i,o))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(c=Oe(n,i))&&a.unshift(Kr(n,c,s)):o||null!=(c=Oe(n,i))&&a.push(Kr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);jt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,go="__reactContainer$"+ho,mo="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Co(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ko(e){return e[fo]||null}var So=[],Io=-1;function To(e){return{current:e}}function xo(e){0>Io||(e.current=So[Io],So[Io]=null,Io--)}function Ao(e,t){Io++,So[Io]=e.current,e.current=t}var Eo={},_o=To(Eo),Ro=To(!1),Po=Eo;function Oo(e,t){var n=e.type.contextTypes;if(!n)return Eo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function No(){xo(Ro),xo(_o)}function Lo(e,t,n){if(_o.current!==Eo)throw Error(i(168));Ao(_o,t),Ao(Ro,n)}function qo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,z(e)||"Unknown",o));return U({},n,r)}function Uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Po=_o.current,Ao(_o,e),Ao(Ro,Ro.current),!0}function Do(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=qo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,xo(Ro),xo(_o),Ao(_o,e)):xo(Ro),Ao(Ro,n)}var Ho=null,Fo=!1,$o=!1;function jo(e){null===Ho?Ho=[e]:Ho.push(e)}function zo(){if(!$o&&null!==Ho){$o=!0;var e=0,t=bt;try{var n=Ho;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ho=null,Fo=!1}catch(o){throw null!==Ho&&(Ho=Ho.slice(e+1)),Ve(Ze,zo),o}finally{bt=t,$o=!1}}return null}var Bo=[],Ko=0,Wo=null,Vo=0,Qo=[],Go=0,Yo=null,Jo=1,Xo="";function Zo(e,t){Bo[Ko++]=Vo,Bo[Ko++]=Wo,Wo=e,Vo=t}function ei(e,t,n){Qo[Go++]=Jo,Qo[Go++]=Xo,Qo[Go++]=Yo,Yo=e;var r=Jo;e=Xo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Jo=1<<32-at(t)+o|n<<o|r,Xo=i+e}else Jo=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Bo[--Ko],Bo[Ko]=null,Vo=Bo[--Ko],Bo[Ko]=null;for(;e===Yo;)Yo=Qo[--Go],Qo[Go]=null,Xo=Qo[--Go],Qo[Go]=null,Jo=Qo[--Go],Qo[Go]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!ci(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&ci(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=lo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=lo(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function gi(e){null===ai?ai=[e]:ai.push(e)}var mi=w.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&bi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Nl(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case k:return(t=Dl(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?l(e,t,n,r):null;case k:return n.key===o?u(e,t,n,r):null;case O:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||L(n))return null!==o?null:d(e,t,n,r,null);vi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function g(o,i,s,c){for(var l=null,u=null,d=i,g=i=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(o,d,s[g],c);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,g),null===u?l=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(o,d),ii&&Zo(o,g),l;if(null===d){for(;g<s.length;g++)null!==(d=h(o,s[g],c))&&(i=a(d,i,g),null===u?l=d:u.sibling=d,u=d);return ii&&Zo(o,g),l}for(d=r(o,d);g<s.length;g++)null!==(m=f(d,o,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=a(m,i,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),l}function m(o,s,c,l){var u=L(c);if("function"!==typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,g=s,m=s=0,y=null,v=c.next();null!==g&&!v.done;m++,v=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(o,g,v.value,l);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(o,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(o,g),ii&&Zo(o,m),u;if(null===g){for(;!v.done;m++,v=c.next())null!==(v=h(o,v.value,l))&&(s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return ii&&Zo(o,m),u}for(g=r(o,g);!v.done;m++,v=c.next())null!==(v=f(g,o,m,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),u}return function e(r,i,a,c){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case C:e:{for(var l=a.key,u=i;null!==u;){if(u.key===l){if((l=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&bi(l)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Ll(a.props.children,r.mode,c,a.key)).return=r,r=i):((c=Nl(a.type,a.key,a.props,null,r.mode,c)).ref=yi(r,i,a),c.return=r,r=c)}return s(r);case k:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Dl(a,r.mode,c)).return=r,r=i}return s(r);case O:return e(r,i,(u=a._init)(a._payload),c)}if(te(a))return g(r,i,a,c);if(L(a))return m(r,i,a,c);vi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Ul(a,r.mode,c)).return=r,r=i),s(r)):n(r,i)}}var Ci=wi(!0),ki=wi(!1),Si=To(null),Ii=null,Ti=null,xi=null;function Ai(){xi=Ti=Ii=null}function Ei(e){var t=Si.current;xo(Si),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t){Ii=e,xi=Ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ti){if(null===Ii)throw Error(i(308));Ti=e,Ii.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Oi=null;function Mi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Mi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qi=!1;function Ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Di(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ec)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Li(e,n)}return null===(o=r.interleaved)?(t.next=t,Mi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Li(e,n)}function $i(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function ji(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var o=e.updateQueue;qi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?i=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==i){var d=o.baseState;for(a=0,u=l=c=null,s=i;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=U({},d,h);break e;case 2:qi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);qc|=a,e.lanes=a,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Ki={},Wi=To(Ki),Vi=To(Ki),Qi=To(Ki);function Gi(e){if(e===Ki)throw Error(i(174));return e}function Yi(e,t){switch(Ao(Qi,t),Ao(Vi,e),Ao(Wi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xo(Wi),Ao(Wi,t)}function Ji(){xo(Wi),xo(Vi),xo(Qi)}function Xi(e){Gi(Qi.current);var t=Gi(Wi.current),n=ce(t,e.type);t!==n&&(Ao(Vi,e),Ao(Wi,n))}function Zi(e){Vi.current===e&&(xo(Wi),xo(Vi))}var ea=To(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,aa=0,sa=null,ca=null,la=null,ua=!1,da=!1,ha=0,pa=0;function fa(){throw Error(i(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:es,e=n(r,o),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(i(301));a+=1,la=ca=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Xa,t=null!==ca&&null!==ca.next,aa=0,la=ca=sa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function ba(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function wa(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ca,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,sa.lanes|=d,qc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,qc|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ia(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,qa(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Pa(9,xa.bind(null,n,r,o,t),void 0,null),null===_c)throw Error(i(349));0!==(30&aa)||Ta(n,t,o)}return o}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,r){t.value=n,t.getSnapshot=r,Ea(t)&&_a(e)}function Aa(e,t,n){return n((function(){Ea(t)&&_a(e)}))}function Ea(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function _a(e){var t=Li(e,1);null!==t&&nl(t,e,1,-1)}function Ra(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return ba().memoizedState}function Ma(e,t,n,r){var o=va();sa.flags|=e,o.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==ca){var a=ca.memoizedState;if(i=a.destroy,null!==r&&ga(r,a.deps))return void(o.memoizedState=Pa(t,n,i,r))}sa.flags|=e,o.memoizedState=Pa(1|t,n,i,r)}function La(e,t){return Ma(8390656,8,e,t)}function qa(e,t){return Na(2048,8,e,t)}function Ua(e,t){return Na(4,2,e,t)}function Da(e,t){return Na(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Ha.bind(null,t,e),n)}function $a(){}function ja(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,qc|=n,e.baseState=!0),t)}function Ka(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Wa(){return ba().memoizedState}function Va(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Ya(t,n);else if(null!==(n=Ni(e,t,n,r))){nl(n,e,r,el()),Ja(n,t,r)}}function Qa(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Ya(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(o.next=o,Mi(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=Ni(e,t,o,r))&&(nl(n,e,r,o=el()),Ja(n,t,r))}}function Ga(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xa={readContext:Pi,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:Pi,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Va.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ra,useDebugValue:$a,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ka.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=va();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===_c)throw Error(i(349));0!==(30&aa)||Ta(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,La(Aa.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,xa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=_c.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=(Jo&~(1<<32-at(Jo)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pi,useCallback:ja,useContext:Pi,useEffect:qa,useImperativeHandle:Fa,useInsertionEffect:Ua,useLayoutEffect:Da,useMemo:za,useReducer:Ca,useRef:Oa,useState:function(){return Ca(wa)},useDebugValue:$a,useDeferredValue:function(e){return Ba(ba(),ca.memoizedState,e)},useTransition:function(){return[Ca(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ia,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Pi,useCallback:ja,useContext:Pi,useEffect:qa,useImperativeHandle:Fa,useInsertionEffect:Ua,useLayoutEffect:Da,useMemo:za,useReducer:ka,useRef:Oa,useState:function(){return ka(wa)},useDebugValue:$a,useDeferredValue:function(e){var t=ba();return null===ca?t.memoizedState=e:Ba(t,ca.memoizedState,e)},useTransition:function(){return[ka(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ia,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Hi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nl(t,e,o,r),$i(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Hi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nl(t,e,o,r),$i(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Hi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fi(e,o,r))&&(nl(t,e,r,n),$i(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,i))}function as(e,t,n){var r=!1,o=Eo,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(o=Mo(t)?Po:_o.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oo(e,o):Eo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ui(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Pi(i):(i=Mo(t)?Po:_o.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),zi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Hi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bc||(Bc=!0,Kc=r),ds(0,t)},n}function fs(e,t,n){(n=Hi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Hi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?ki(t,null,n,r):Ci(t,e.child,n,r)}function Cs(e,t,n,r,o){n=n.render;var i=t.ref;return Ri(t,o),r=ma(e,t,n,r,i,o),n=ya(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bs(e,t,o))}function ks(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ol(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Bs(e,t,o)}return t.flags|=1,(e=Ml(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Bs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return xs(e,t,n,r,o)}function Is(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Mc,Oc),Oc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Mc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ao(Mc,Oc),Oc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ao(Mc,Oc),Oc|=r;return ws(e,t,o,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,o){var i=Mo(n)?Po:_o.current;return i=Oo(t,i),Ri(t,o),n=ma(e,t,n,r,i,o),r=ya(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bs(e,t,o))}function As(e,t,n,r,o){if(Mo(n)){var i=!0;Uo(t)}else i=!1;if(Ri(t,o),null===t.stateNode)zs(e,t),as(t,n,r),cs(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Pi(l):l=Oo(t,l=Mo(n)?Po:_o.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&ss(t,a,r,l),qi=!1;var h=t.memoizedState;a.state=h,zi(t,r,a,o),c=t.memoizedState,s!==r||h!==c||Ro.current||qi?("function"===typeof u&&(rs(t,n,u,r),c=t.memoizedState),(s=qi||is(t,n,s,r,h,c,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Di(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),a.props=l,d=t.pendingProps,h=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Pi(c):c=Oo(t,c=Mo(n)?Po:_o.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==c)&&ss(t,a,r,c),qi=!1,h=t.memoizedState,a.state=h,zi(t,r,a,o);var f=t.memoizedState;s!==d||h!==f||Ro.current||qi?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(l=qi||is(t,n,l,r,h,f,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,i,o)}function Es(e,t,n,r,o,i){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Do(t,n,!1),Bs(e,t,i);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Do(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),Yi(e,t.containerInfo)}function Rs(e,t,n,r,o){return fi(),gi(o),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Os,Ms,Ns,Ls={dehydrated:null,treeContext:null,retryLane:0};function qs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ao(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,s?(o=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=ql(c,o,0,null),e=Ll(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=qs(n),t.memoizedState=Ls,e):Ds(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=ql({mode:"visible",children:r.children},o,0,null),(a=Ll(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ci(t,e.child,null,s),t.child.memoizedState=qs(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Hs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,Hs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(c=0!==(s&e.childLanes),bs||c){if(null!==(r=_c)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Li(e,o),nl(r,e,o,-1))}return gl(),Hs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Al.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Qo[Go++]=Jo,Qo[Go++]=Xo,Qo[Go++]=Yo,Jo=e.id,Xo=e.overflow,Yo=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,c,o,r,a,n);if(s){s=o.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Ml(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ml(r,s):(s=Ll(s,c,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,c=null===(c=e.child.memoizedState)?qs(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,o}return e=(s=e.child).sibling,o=Ml(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ds(e,t){return(t=ql({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&gi(r),Ci(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function $s(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function js(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ao(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$s(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$s(t,!0,n,null,i);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Mo(t.type)&&No(),Ws(t),null;case 3:return r=t.stateNode,Ji(),xo(Ro),xo(_o),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(al(ai),ai=null))),Os(e,t),Ws(t),null;case 5:Zi(t);var o=Gi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=Gi(Wi.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[fo]=a,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)Hr(Lr[o],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Y(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":oe(r,a),Hr("invalid",r)}for(var c in ve(n,a),o=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Hr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[po]=t,e[fo]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),o=r;break;case"iframe":case"object":case"embed":Hr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)Hr(Lr[o],e);o=r;break;case"source":Hr("error",e),o=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),o=r;break;case"details":Hr("toggle",e),o=r;break;case"input":Y(e,r),o=G(e,r),Hr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=U({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Hr("invalid",e)}for(a in ve(n,o),l=o)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Hr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Qi.current),Gi(Wi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ws(t),null;case 13:if(xo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==ai&&(al(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Nc&&(Nc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Ji(),Os(e,t),null===e&&jr(t.stateNode.containerInfo),Ws(t),null;case 10:return Ei(t.type._context),Ws(t),null;case 19:if(xo(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Ks(a,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ta(e))){for(t.flags|=128,Ks(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ao(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>jc&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!ii)return Ws(t),null}else 2*Je()-a.renderingStartTime>jc&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,Ao(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oc)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qs(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),xo(Ro),xo(_o),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(xo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xo(ea),null;case 4:return Ji(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gi(Wi.current);var i,a=null;switch(n){case"input":o=G(e,o),r=G(e,r),a=[];break;case"select":o=U({},o,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Hr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Il(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Il(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ec(t,n,i)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[mo],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=uc,o=dc;uc=null,hc(e,t,n),dc=o,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),jt(e)):co(uc,n.stateNode));break;case 4:r=uc,o=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=o;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ec(n,t,a),o=o.next}while(o!==r)}hc(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Il(n,t,s)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hc(e,t,n),Ys=r):hc(e,t,n);break;default:hc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=El.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(i(160));pc(a,s,o),uc=null,dc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(u){Il(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(m){Il(e,e.return,m)}try{nc(5,e,e.return)}catch(m){Il(e,e.return,m)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(m){Il(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&J(o,a),be(c,s);var u=be(c,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?me(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(c){case"input":X(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(o,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[fo]=a}catch(m){Il(e,e.return,m)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(m){Il(e,e.return,m)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){Il(e,e.return,m)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||($c=Je())),4&r&&fc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,gc(t,e),Ys=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(f=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:Zs(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Il(r,n,m)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){Cc(h);continue}}null!==f?(f.return=p,Xs=f):Cc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",s))}catch(m){Il(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Il(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),yc(e),4&r&&fc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),lc(e,sc(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(i(161))}}catch(s){Il(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Xs=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var o=Xs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Gs;if(!a){var s=o.alternate,c=null!==s&&null!==s.memoizedState||Ys;s=Gs;var l=Ys;if(Gs=a,(Ys=c)&&!l)for(Xs=o;null!==Xs;)c=(a=Xs).child,22===a.tag&&null!==a.memoizedState?kc(o):null!==c?(c.return=a,Xs=c):kc(o);for(;null!==i;)Xs=i,bc(i,t,n),i=i.sibling;Xs=o,Gs=s,Ys=l}wc(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Xs=i):wc(e)}}function wc(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&oc(t)}catch(p){Il(t,t.return,p)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Cc(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function kc(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Il(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){Il(t,o,c)}}var i=t.return;try{oc(t)}catch(c){Il(t,i,c)}break;case 5:var a=t.return;try{oc(t)}catch(c){Il(t,a,c)}}}catch(c){Il(t,t.return,c)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sc,Ic=Math.ceil,Tc=w.ReactCurrentDispatcher,xc=w.ReactCurrentOwner,Ac=w.ReactCurrentBatchConfig,Ec=0,_c=null,Rc=null,Pc=0,Oc=0,Mc=To(0),Nc=0,Lc=null,qc=0,Uc=0,Dc=0,Hc=null,Fc=null,$c=0,jc=1/0,zc=null,Bc=!1,Kc=null,Wc=null,Vc=!1,Qc=null,Gc=0,Yc=0,Jc=null,Xc=-1,Zc=0;function el(){return 0!==(6&Ec)?Je():-1!==Xc?Xc:Xc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ec)&&0!==Pc?Pc&-Pc:null!==mi.transition?(0===Zc&&(Zc=gt()),Zc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yc)throw Yc=0,Jc=null,Error(i(185));yt(e,n,r),0!==(2&Ec)&&e===_c||(e===_c&&(0===(2&Ec)&&(Uc|=n),4===Nc&&sl(e,Pc)),rl(e,r),1===n&&0===Ec&&0===(1&t.mode)&&(jc=Je()+500,Fo&&zo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,c=o[a];-1===c?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===_c?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fo=!0,jo(e)}(cl.bind(null,e)):jo(cl.bind(null,e)),ao((function(){0===(6&Ec)&&zo()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_l(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Xc=-1,Zc=0,0!==(6&Ec))throw Error(i(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ht(e,e===_c?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var o=Ec;Ec|=2;var a=fl();for(_c===e&&Pc===t||(zc=null,jc=Je()+500,hl(e,t));;)try{vl();break}catch(c){pl(e,c)}Ai(),Tc.current=a,Ec=o,null!==Rc?t=0:(_c=null,Pc=0,t=Nc)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=il(e,o))),1===t)throw n=Lc,hl(e,0),sl(e,r),rl(e,Je()),n;if(6===t)sl(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=ml(e,r))&&(0!==(a=ft(e))&&(r=a,t=il(e,a))),1===t))throw n=Lc,hl(e,0),sl(e,r),rl(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Cl(e,Fc,zc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=$c+500-Je())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Cl.bind(null,e,Fc,zc),t);break}Cl(e,Fc,zc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ic(r/1960))-r)){e.timeoutHandle=ro(Cl.bind(null,e,Fc,zc),r);break}Cl(e,Fc,zc);break;default:throw Error(i(329))}}}return rl(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=Hc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Fc,Fc=n,null!==t&&al(t)),e}function al(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function sl(e,t){for(t&=~Dc,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ec))throw Error(i(327));kl();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Lc,hl(e,0),sl(e,t),rl(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,Fc,zc),rl(e,Je()),null}function ll(e,t){var n=Ec;Ec|=1;try{return e(t)}finally{0===(Ec=n)&&(jc=Je()+500,Fo&&zo())}}function ul(e){null!==Qc&&0===Qc.tag&&0===(6&Ec)&&kl();var t=Ec;Ec|=1;var n=Ac.transition,r=bt;try{if(Ac.transition=null,bt=1,e)return e()}finally{bt=r,Ac.transition=n,0===(6&(Ec=t))&&zo()}}function dl(){Oc=Mc.current,xo(Mc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&No();break;case 3:Ji(),xo(Ro),xo(_o),ra();break;case 5:Zi(r);break;case 4:Ji();break;case 13:case 19:xo(ea);break;case 10:Ei(r.type._context);break;case 22:case 23:dl()}n=n.return}if(_c=e,Rc=e=Ml(e.current,null),Pc=Oc=t,Nc=0,Lc=null,Dc=Uc=qc=0,Fc=Hc=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Oi=null}return e}function pl(e,t){for(;;){var n=Rc;try{if(Ai(),oa.current=Xa,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,la=ca=sa=null,da=!1,ha=0,xc.current=null,null===n||null===n.return){Nc=1,Lc=t,Rc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ms(s);if(null!==f){f.flags&=-257,ys(f,s,c,0,t),1&f.mode&&gs(a,u,t),l=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){gs(a,u,t),gl();break e}l=Error(i(426))}else if(ii&&1&c.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,c,0,t),gi(ls(l,c));break e}}a=l=ls(l,c),4!==Nc&&(Nc=2),null===Hc?Hc=[a]:Hc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,ji(a,ps(0,l,t));break e;case 1:c=l;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,ji(a,fs(a,c,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(w){t=w,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function fl(){var e=Tc.current;return Tc.current=Xa,null===e?Xa:e}function gl(){0!==Nc&&3!==Nc&&2!==Nc||(Nc=4),null===_c||0===(268435455&qc)&&0===(268435455&Uc)||sl(_c,Pc)}function ml(e,t){var n=Ec;Ec|=2;var r=fl();for(_c===e&&Pc===t||(zc=null,hl(e,t));;)try{yl();break}catch(o){pl(e,o)}if(Ai(),Ec=n,Tc.current=r,null!==Rc)throw Error(i(261));return _c=null,Pc=0,Nc}function yl(){for(;null!==Rc;)bl(Rc)}function vl(){for(;null!==Rc&&!Ge();)bl(Rc)}function bl(e){var t=Sc(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?wl(e):Rc=t,xc.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vs(n,t,Oc)))return void(Rc=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Nc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Nc&&(Nc=5)}function Cl(e,t,n){var r=bt,o=Ac.transition;try{Ac.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Qc);if(0!==(6&Ec))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===_c&&(Rc=_c=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vc||(Vc=!0,_l(tt,(function(){return kl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ac.transition,Ac.transition=null;var s=bt;bt=1;var c=Ec;Ec|=4,xc.current=null,function(e,t){if(eo=Bt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(C){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(c=s+o),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(c=s),p===a&&++d===r&&(l=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Bt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(C){Il(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}g=tc,tc=!1}(e,n),mc(n,e),fr(to),Bt=!!eo,to=eo=null,e.current=n,vc(n,e,o),Ye(),Ec=c,bt=s,Ac.transition=a}else e.current=n;if(Vc&&(Vc=!1,Qc=e,Gc=o),a=e.pendingLanes,0===a&&(Wc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Bc)throw Bc=!1,e=Kc,Kc=null,e;0!==(1&Gc)&&0!==e.tag&&kl(),a=e.pendingLanes,0!==(1&a)?e===Jc?Yc++:(Yc=0,Jc=e):Yc=0,zo()}(e,t,n,r)}finally{Ac.transition=o,bt=r}return null}function kl(){if(null!==Qc){var e=wt(Gc),t=Ac.transition,n=bt;try{if(Ac.transition=null,bt=16>e?16:e,null===Qc)var r=!1;else{if(e=Qc,Qc=null,Gc=0,0!==(6&Ec))throw Error(i(331));var o=Ec;for(Ec|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var p=(d=Xs).sibling,f=d.return;if(ic(d),d===u){Xs=null;break}if(null!==p){p.return=f,Xs=p;break}Xs=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Xs=v;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(c=Xs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(k){Il(c,c.return,k)}if(c===s){Xs=null;break e}var C=c.sibling;if(null!==C){C.return=c.return,Xs=C;break e}Xs=c.return}}if(Ec=o,zo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(k){}r=!0}return r}finally{bt=n,Ac.transition=t}}return!1}function Sl(e,t,n){e=Fi(e,t=ps(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Il(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Fi(t,e=fs(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,_c===e&&(Pc&n)===n&&(4===Nc||3===Nc&&(130023424&Pc)===Pc&&500>Je()-$c?hl(e,0):Dc|=n),rl(e,t)}function xl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Li(e,t))&&(yt(e,t,n),rl(e,n))}function Al(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xl(e,n)}function El(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),xl(e,n)}function _l(e,t){return Ve(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ll(n.children,o,a,t);case I:s=8,o|=8;break;case T:return(e=Pl(12,n,t,2|o)).elementType=T,e.lanes=a,e;case _:return(e=Pl(13,n,t,o)).elementType=_,e.lanes=a,e;case R:return(e=Pl(19,n,t,o)).elementType=R,e.lanes=a,e;case M:return ql(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case A:s=9;break e;case E:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ll(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Dl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,o,i,a,s,c){return e=new Hl(e,t,n,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ui(i),e}function $l(e){if(!e)return Eo;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return qo(e,n,t)}return t}function jl(e,t,n,r,o,i,a,s,c){return(e=Fl(n,r,!0,e,0,i,0,s,c)).context=$l(null),n=e.current,(i=Hi(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function zl(e,t,n,r){var o=t.current,i=el(),a=tl(o);return n=$l(n),null===t.context?t.context=n:t.pendingContext=n,(t=Hi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(o,t,a))&&(nl(e,o,a,i),$i(e,o,a)),a}function Bl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:_s(t),fi();break;case 5:Xi(t);break;case 1:Mo(t.type)&&Uo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ao(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ao(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ao(ea,1&ea.current),null!==(e=Bs(e,t,n))?e.sibling:null);Ao(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return js(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Bs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var o=Oo(t,_o.current);Ri(t,n),o=ma(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Uo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ui(t),o.updater=os,t.stateNode=o,o._reactInternals=t,cs(t,r,e,n),t=Es(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),o){case 0:t=xs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(_s(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Di(e,t),zi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,o=ls(Error(i(423)),t));break e}if(r!==o){t=Rs(e,t,r,n,o=ls(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=ki(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Bs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Us(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ao(Si,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Ro.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Hi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_i(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),_i(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ri(t,n),r=r(o=Pi(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),ks(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),zs(e,t),t.tag=1,Mo(r)?(e=!0,Uo(t)):e=!1,Ri(t,n),as(t,r,o),cs(t,r,o,n),Es(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return Is(e,t,n)}throw Error(i(156,t.tag))};var Vl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Gl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Bl(a);s.call(e)}}zl(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Bl(a);i.call(e)}}var a=jl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=a,e[go]=a.current,jr(8===e.nodeType?e.parentNode:e),ul(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Bl(c);s.call(e)}}var c=Fl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[go]=c.current,jr(8===e.nodeType?e.parentNode:e),ul((function(){zl(t,c,n,r)})),c}(n,t,e,o,r);return Bl(a)}Gl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zl(e,t,null,null)},Gl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){zl(null,e,null,null)})),t[go]=null}},Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ut(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Je()),0===(6&Ec)&&(jc=Je()+500,zo()))}break;case 13:ul((function(){var t=Li(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},kt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Li(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},It=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(i(90));V(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=ll,_e=ul;var eu={usingClientEntryPoint:!1,Events:[wo,Co,ko,xe,Ae,ll]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(i(299));var n=!1,r="",o=Vl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,o),e[go]=t.current,jr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(i(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Vl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=jl(t,null,e,1,null!=n?n:null,o,0,a,s),e[go]=t.current,jr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(i(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(i(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,o)&&!I.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===i?"."+E(c,0):i,C(a)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),_(a,t,o,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",C(e))for(var l=0;l<e.length;l++){var u=i+E(s=e[l],l);c+=_(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=_(s=s.value,t,o,u=i+E(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function R(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!I.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<o&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function C(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,M(k);else{var t=r(u);null!==t&&N(C,t.startTime-e)}}function k(e,n){g=!1,m&&(m=!1,v(x),x=-1),f=!0;var i=p;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!_());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&o(l),w(n)}else o(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&N(C,d.startTime-n),c=!1}return c}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,T=null,x=-1,A=5,E=-1;function _(){return!(t.unstable_now()-E<A)}function R(){if(null!==T){var e=t.unstable_now();E=e;var n=!0;try{n=T(!0,e)}finally{n?S():(I=!1,T=null)}}else I=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=R,S=function(){O.postMessage(null)}}else S=function(){y(R,0)};function M(e){T=e,I||(I=!0,S())}function N(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,M(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(l)&&e===r(u)&&(m?(v(x),x=-1):m=!0,N(C,i-a))):(e.sortIndex=s,n(l,e),g||f||(g=!0,M(k))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/assap24/",(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(950);const o={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},i=400,a=499,s=500,c=599,l=[o.OPENID_SCOPE,o.PROFILE_SCOPE,o.OFFLINE_ACCESS_SCOPE],u=[...l,o.EMAIL_SCOPE],d="Content-Type",h="Retry-After",p="X-AnchorMailbox",f="x-ms-request-id",g="x-ms-httpver",m="idtoken",y="client.info",v="adal.idtoken",b="error",w="error.description",C="active-account",k="active-account-filters",S="common",I="organizations",T="consumers",x="access_token",A="xms_cc",E={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},_={PLAIN:"plain",S256:"S256"},R={QUERY:"query",FRAGMENT:"fragment"},P={...R,FORM_POST:"form_post"},O="authorization_code",M="refresh_token",N="MSSTS",L="ADFS",q="Generic",U="-",D=".",H={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},F="appmetadata",$="1",j="authority-metadata",z=86400,B="config",K="cache",W="network",V="hardcoded_values",Q={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},G={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Y=60,J=3600,X="throttling",Z="retry-after, h429",ee="invalid_grant",te="client_mismatch",ne="username",re="password",oe=200,ie=400,ae="1",se="3",ce="4",le="2",ue="4",de="5",he="0",pe="1",fe="2",ge="3",me="4",ye="pop";var ve;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(ve||(ve={}));class be{constructor(e,t,n){this.level=ve.Info;const r=e||be.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:ve.Info,this.correlationId=r.correlationId||o.EMPTY_STRING,this.packageName=t||o.EMPTY_STRING,this.packageVersion=n||o.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ve.Info}}clone(e,t,n){return new be({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ve[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:ve.Error,containsPii:!1,correlationId:t||o.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:ve.Error,containsPii:!0,correlationId:t||o.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:ve.Warning,containsPii:!1,correlationId:t||o.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:ve.Warning,containsPii:!0,correlationId:t||o.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:ve.Info,containsPii:!1,correlationId:t||o.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:ve.Info,containsPii:!0,correlationId:t||o.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:ve.Verbose,containsPii:!1,correlationId:t||o.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:ve.Verbose,containsPii:!0,correlationId:t||o.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:ve.Trace,containsPii:!1,correlationId:t||o.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:ve.Trace,containsPii:!0,correlationId:t||o.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const we="AAD",Ce="OIDC",ke="none",Se="unexpected_error",Ie="post_request_failed",Te={[Se]:"Unexpected error in authentication.",[Ie]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class xe extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,xe.prototype),this.errorCode=e||o.EMPTY_STRING,this.errorMessage=t||o.EMPTY_STRING,this.subError=n||o.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Ae(e,t){return new xe(e,t?`${Te[e]} ${t}`:Te[e])}const Ee="client_info_decoding_error",_e="client_info_empty_error",Re="token_parsing_error",Pe="null_or_empty_token",Oe="endpoints_resolution_error",Me="network_error",Ne="openid_config_error",Le="hash_not_deserialized",qe="invalid_state",Ue="state_mismatch",De="state_not_found",He="nonce_mismatch",Fe="auth_time_not_found",$e="max_age_transpired",je="multiple_matching_tokens",ze="multiple_matching_accounts",Be="multiple_matching_appMetadata",Ke="request_cannot_be_made",We="cannot_remove_empty_scope",Ve="cannot_append_scopeset",Qe="empty_input_scopeset",Ge="device_code_polling_cancelled",Ye="device_code_expired",Je="device_code_unknown_error",Xe="no_account_in_silent_request",Ze="invalid_cache_record",et="invalid_cache_environment",tt="no_account_found",nt="no_crypto_object",rt="unexpected_credential_type",ot="invalid_assertion",it="invalid_client_credential",at="token_refresh_required",st="user_timeout_reached",ct="token_claims_cnf_required_for_signedjwt",lt="authorization_code_missing_from_server_response",ut="binding_key_not_removed",dt="end_session_endpoint_not_supported",ht="key_id_missing",pt="no_network_connectivity",ft="user_canceled",gt="missing_tenant_id_error",mt="method_not_implemented",yt="nested_app_auth_bridge_disabled",vt={[Ee]:"The client info could not be parsed/decoded correctly",[_e]:"The client info was empty",[Re]:"Token cannot be parsed",[Pe]:"The token is null or empty",[Oe]:"Endpoints cannot be resolved",[Me]:"Network request failed",[Ne]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Le]:"The hash parameters could not be deserialized",[qe]:"State was not the expected format",[Ue]:"State mismatch error",[De]:"State not found",[He]:"Nonce mismatch error",[Fe]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[$e]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[je]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ze]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Be]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Ke]:"Token request cannot be made without authorization code or refresh token.",[We]:"Cannot remove null or empty scope from ScopeSet",[Ve]:"Cannot append ScopeSet",[Qe]:"Empty input ScopeSet cannot be processed",[Ge]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Ye]:"Device code is expired.",[Je]:"Device code stopped polling for unknown reasons.",[Xe]:"Please pass an account object, silent flow is not supported without account information",[Ze]:"Cache record object was null or undefined.",[et]:"Invalid environment when attempting to create cache entry",[tt]:"No account found in cache for given key.",[nt]:"No crypto object detected.",[rt]:"Unexpected credential type.",[ot]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[it]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[at]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[st]:"User defined timeout for device code polling reached",[ct]:"Cannot generate a POP jwt if the token_claims are not populated",[lt]:"Server response does not contain an authorization code to proceed",[ut]:"Could not remove the credential's binding key from storage.",[dt]:"The provided authority does not support logout",[ht]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[pt]:"No network connectivity. Check your internet connection.",[ft]:"User cancelled the flow.",[gt]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[mt]:"This method has not been implemented",[yt]:"The nested app auth bridge is disabled"};class bt extends xe{constructor(e,t){super(e,t?`${vt[e]}: ${t}`:vt[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,bt.prototype)}}function wt(e,t){return new bt(e,t)}const Ct={createNewGuid:()=>{throw wt(mt)},base64Decode:()=>{throw wt(mt)},base64Encode:()=>{throw wt(mt)},base64UrlEncode:()=>{throw wt(mt)},encodeKid:()=>{throw wt(mt)},async getPublicKeyThumbprint(){throw wt(mt)},async removeTokenBindingKey(){throw wt(mt)},async clearKeystore(){throw wt(mt)},async signJwt(){throw wt(mt)},async hashString(){throw wt(mt)}},kt="@azure/msal-common",St="14.15.0";function It(e,t){const n=function(e){if(!e)throw wt(Pe);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw wt(Re);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw wt(Re)}}function Tt(e,t){if(0===t||Date.now()-3e5>e+t)throw wt($e)}function xt(){return Math.round((new Date).getTime()/1e3)}function At(e,t){const n=Number(e)||0;return xt()+t>n}function Et(e){return[qt(e),Ut(e),Dt(e),Ht(e),Ft(e)].join(U).toLowerCase()}function _t(e,t,n,r,o){return{credentialType:H.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function Rt(e,t,n,r,o,i,a,s,c,l,u,d,h,p,f){const g={homeAccountId:e,credentialType:H.ACCESS_TOKEN,secret:n,cachedAt:xt().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||G.BEARER};if(d&&(g.userAssertionHash=d),l&&(g.refreshOn=l.toString()),p&&(g.requestedClaims=p,g.requestedClaimsHash=f),g.tokenType?.toLowerCase()!==G.BEARER.toLowerCase())switch(g.credentialType=H.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case G.POP:const e=It(n,c);if(!e?.cnf?.kid)throw wt(ct);g.keyId=e.cnf.kid;break;case G.SSH:g.keyId=h}return g}function Pt(e,t,n,r,o,i,a){const s={credentialType:H.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(s.userAssertionHash=i),o&&(s.familyId=o),a&&(s.expiresOn=a.toString()),s}function Ot(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Mt(e){return!!e&&(Ot(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===H.ACCESS_TOKEN||e.credentialType===H.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function Nt(e){return!!e&&(Ot(e)&&e.hasOwnProperty("realm")&&e.credentialType===H.ID_TOKEN)}function Lt(e){return!!e&&(Ot(e)&&e.credentialType===H.REFRESH_TOKEN)}function qt(e){return[e.homeAccountId,e.environment].join(U).toLowerCase()}function Ut(e){const t=e.credentialType===H.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(U).toLowerCase()}function Dt(e){return(e.target||"").toLowerCase()}function Ht(e){return(e.requestedClaimsHash||"").toLowerCase()}function Ft(e){return e.tokenType&&e.tokenType.toLowerCase()!==G.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function $t(){return xt()+z}function jt(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function zt(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function Bt(e){return e.expiresAt<=xt()}const Kt="redirect_uri_empty",Wt="claims_request_parsing_error",Vt="authority_uri_insecure",Qt="url_parse_error",Gt="empty_url_error",Yt="empty_input_scopes_error",Jt="invalid_prompt_value",Xt="invalid_claims",Zt="token_request_empty",en="logout_request_empty",tn="invalid_code_challenge_method",nn="pkce_params_missing",rn="invalid_cloud_discovery_metadata",on="invalid_authority_metadata",an="untrusted_authority",sn="missing_ssh_jwk",cn="missing_ssh_kid",ln="missing_nonce_authentication_header",un="invalid_authentication_header",dn="cannot_set_OIDCOptions",hn="cannot_allow_native_broker",pn="authority_mismatch",fn={[Kt]:"A redirect URI is required for all calls, and none has been set.",[Wt]:"Could not parse the given claims request object.",[Vt]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Qt]:"URL could not be parsed into appropriate segments.",[Gt]:"URL was empty or null.",[Yt]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Jt]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Xt]:"Given claims parameter must be a stringified JSON object.",[Zt]:"Token request was empty and not found in cache.",[en]:"The logout request was null or undefined.",[tn]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[nn]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[rn]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[on]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[an]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[sn]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[cn]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[ln]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[un]:"Invalid authentication header provided",[dn]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[hn]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[pn]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class gn extends xe{constructor(e){super(e,fn[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,gn.prototype)}}function mn(e){return new gn(e)}class yn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class vn{constructor(e){const t=e?yn.trimArrayEntries([...e]):[],n=t?yn.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||o.EMPTY_STRING).split(" ");return new vn(t)}static createSearchScopes(e){const t=new vn(e);return t.containsOnlyOIDCScopes()?t.removeScope(o.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw mn(Yt)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new vn(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return u.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw wt(Ve)}}removeScope(e){if(!e)throw wt(We);this.scopes.delete(e.trim())}removeOIDCScopes(){u.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw wt(Qe);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw wt(Qe);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return o.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function bn(e,t){if(!e)throw wt(_e);try{const n=t(e);return JSON.parse(n)}catch(n){throw wt(Ee)}}function wn(e){if(!e)throw wt(Ee);const t=e.split(D,2);return{uid:t[0],utid:t.length<2?o.EMPTY_STRING:t[1]}}function Cn(e,t){return!!e&&!!t&&e===t.split(".")[1]}function kn(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:a,acr:s}=r,c=o||a||s||"";return{tenantId:c,localAccountId:t||n||"",name:i,isHomeTenant:Cn(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:Cn(n,e)}}function Sn(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...i}=kn(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...i,idTokenClaims:n,idToken:r},o}return o}const In=0,Tn=1,xn=2,An=3;function En(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class _n{generateAccountId(){return[this.homeAccountId,this.environment].join(U).toLowerCase()}generateAccountKey(){return _n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(U).toLowerCase()}static createAccount(e,t,n){const r=new _n;let o;t.authorityType===Tn?r.authorityType=L:t.protocolMode===we?r.authorityType=N:r.authorityType=q,e.clientInfo&&n&&(o=bn(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const i=e.environment||t&&t.getPreferredCache();if(!i)throw wt(et);r.environment=i,r.realm=o?.utid||En(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,s=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=a||s||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=kn(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new _n;return r.authorityType=e.authorityType||q,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==Tn&&t!==xn){if(e)try{const t=bn(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(i){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function Rn(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Pn(e){if(!e||e.indexOf("=")<0)return null;try{const t=Rn(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw wt(Le)}return null}class On{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw mn(Gt);e.includes("#")||(this._urlString=On.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return yn.endsWith(t,"?")?t=t.slice(0,-1):yn.endsWith(t,"?/")&&(t=t.slice(0,-2)),yn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw mn(Qt)}if(!e.HostNameAndPort||!e.PathSegments)throw mn(Qt);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw mn(Vt)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return On.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==S&&n[0]!==I||(n[0]=e),On.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw mn(Qt);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw mn(Qt);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===o.FORWARD_SLASH){const n=new On(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new On(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Pn(e)}}const Mn={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Nn={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Ln=new Set;function qn(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=Un(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function Un(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}Nn.metadata.forEach((e=>{e.aliases.forEach((e=>{Ln.add(e)}))}));const Dn="cache_quota_exceeded",Hn="cache_error_unknown",Fn={[Dn]:"Exceeded cache storage capacity.",[Hn]:"Unexpected error occurred when using cache storage."};class $n extends Error{constructor(e,t){const n=t||(Fn[e]?Fn[e]:Fn[Hn]);super(`${e}: ${n}`),Object.setPrototypeOf(this,$n.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class jn{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(kt,St),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,i=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const a=this.getIdToken(e,t,n.tenantId);return a&&(o=It(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(i=Sn(e,n,o,a?.secret),i)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const i=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const a=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,i,e,n);t&&a.push(t)})),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw wt(Ze);try{e.account&&this.setAccount(e.account),e.idToken&&!1!==t?.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&!1!==t?.accessToken&&await this.saveAccessToken(e.accessToken),e.refreshToken&&!1!==t?.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,n),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new $n(Dn)):new $n(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,n),new $n(Hn))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=vn.fromString(e.target),o=[];n.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,t,!1))return;const n=this.getAccessTokenCredential(e);if(n&&this.credentialMatchesFilter(n,t)){vn.fromString(n.target).intersectingScopeSets(r)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},i=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));i&&0===i.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(U).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(U).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(H.ID_TOKEN.toLowerCase())&&-1===t.indexOf(H.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(H.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(H.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(H.REFRESH_TOKEN.toLowerCase())>-1){const e=`${H.REFRESH_TOKEN}${U}${this.clientId}${U}`,n=`${H.REFRESH_TOKEN}${U}${$}${U}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===H.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===G.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}updateOutdatedCachedAccount(e,t,n){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const r=this.getAccountKeys().filter((e=>e.startsWith(t.homeAccountId))),o=[];r.forEach((e=>{const t=this.getCachedAccountEntity(e);t&&o.push(t)}));const i=o.find((e=>Cn(e.realm,e.homeAccountId)))||o[0];i.tenantProfiles=o.map((e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:Cn(e.realm,e.homeAccountId)})));const a=jn.toObject(new _n,{...i}),s=a.generateAccountKey();return r.forEach((t=>{t!==s&&this.removeOutdatedAccount(e)})),this.setAccount(a),n?.verbose("Updated an outdated account entity in the cache"),a}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===H.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===G.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw wt(ut)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=_n.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:H.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(i,t),s=a.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=a;if(!n){const n=new Map;a.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,i){this.commonLogger.trace("CacheManager - getAccessToken called");const a=vn.createSearchScopes(t.scopes),s=t.authenticationScheme||G.BEARER,c=s&&s.toLowerCase()!==G.BEARER.toLowerCase()?H.ACCESS_TOKEN_WITH_AUTH_SCHEME:H.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,l)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(Et(e))})),o&&i&&o.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?$:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:H.REFRESH_TOKEN,clientId:this.clientId,familyId:i},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,a)&&c.push(t)}}));const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&r&&o&&r.addFields({multiMatchedRT:l},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw wt(Be);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==$)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new On(r).getUrlComponents().HostNameAndPort;n=qn(o,e.cloudDiscoveryMetadata?.metadata,B,t)||qn(o,Nn.metadata,V,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==H.ACCESS_TOKEN&&e.credentialType!==H.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return vn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(F)}isAuthorityMetadata(e){return-1!==e.indexOf(j)}generateAuthorityMetadataCacheKey(e){return`${j}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class zn extends jn{setAccount(){throw wt(mt)}getAccount(){throw wt(mt)}getCachedAccountEntity(){throw wt(mt)}setIdTokenCredential(){throw wt(mt)}getIdTokenCredential(){throw wt(mt)}setAccessTokenCredential(){throw wt(mt)}getAccessTokenCredential(){throw wt(mt)}setRefreshTokenCredential(){throw wt(mt)}getRefreshTokenCredential(){throw wt(mt)}setAppMetadata(){throw wt(mt)}getAppMetadata(){throw wt(mt)}setServerTelemetry(){throw wt(mt)}getServerTelemetry(){throw wt(mt)}setAuthorityMetadata(){throw wt(mt)}getAuthorityMetadata(){throw wt(mt)}getAuthorityMetadataKeys(){throw wt(mt)}setThrottlingCache(){throw wt(mt)}getThrottlingCache(){throw wt(mt)}removeItem(){throw wt(mt)}getKeys(){throw wt(mt)}getAccountKeys(){throw wt(mt)}getTokenKeys(){throw wt(mt)}async clear(){throw wt(mt)}updateCredentialCacheKey(){throw wt(mt)}removeOutdatedAccount(){throw wt(mt)}}const Bn={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Kn={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ve.Info,correlationId:o.EMPTY_STRING},Wn={claimsBasedCachingEnabled:!1},Vn={async sendGetRequestAsync(){throw wt(mt)},async sendPostRequestAsync(){throw wt(mt)}},Qn={sku:o.SKU,version:St,cpu:o.EMPTY_STRING,os:o.EMPTY_STRING},Gn={clientSecret:o.EMPTY_STRING,clientAssertion:void 0},Yn={azureCloudInstance:ke,tenant:`${o.DEFAULT_COMMON_TENANT}`},Jn={application:{appName:"",appVersion:""}};function Xn(e){return e.authOptions.authority.options.protocolMode===Ce}const Zn={sendGetRequestAsync:()=>Promise.reject(wt(mt)),sendPostRequestAsync:()=>Promise.reject(wt(mt))},er="acquireTokenByCode",tr="acquireTokenByRefreshToken",nr="acquireTokenSilent",rr="acquireTokenSilentAsync",or="acquireTokenPopup",ir="acquireTokenPreRedirect",ar="acquireTokenRedirect",sr="cryptoOptsGetPublicKeyThumbprint",cr="cryptoOptsSignJwt",lr="silentCacheClientAcquireToken",ur="silentIframeClientAcquireToken",dr="awaitConcurrentIframe",hr="silentRefreshClientAcquireToken",pr="ssoSilent",fr="standardInteractionClientGetDiscoveredAuthority",gr="fetchAccountIdWithNativeBroker",mr="nativeInteractionClientAcquireToken",yr="refreshTokenClientExecutePostToTokenEndpoint",vr="authorizationCodeClientExecutePostToTokenEndpoint",br="refreshTokenClientExecuteTokenRequest",wr="refreshTokenClientAcquireToken",Cr="refreshTokenClientAcquireTokenWithCachedRefreshToken",kr="refreshTokenClientAcquireTokenByRefreshToken",Sr="refreshTokenClientCreateTokenRequestBody",Ir="acquireTokenFromCache",Tr="silentFlowClientAcquireCachedToken",xr="silentFlowClientGenerateResultFromCacheRecord",Ar="acquireTokenBySilentIframe",Er="initializeBaseRequest",_r="initializeSilentRequest",Rr="initializeClientApplication",Pr="silentIframeClientTokenHelper",Or="silentHandlerInitiateAuthRequest",Mr="silentHandlerMonitorIframeForHash",Nr="silentHandlerLoadFrame",Lr="silentHandlerLoadFrameSync",qr="standardInteractionClientCreateAuthCodeClient",Ur="standardInteractionClientGetClientConfiguration",Dr="standardInteractionClientInitializeAuthorizationRequest",Hr="standardInteractionClientInitializeAuthorizationCodeRequest",Fr="getAuthCodeUrl",$r="handleCodeResponseFromServer",jr="handleCodeResponse",zr="updateTokenEndpointAuthority",Br="authClientAcquireToken",Kr="authClientExecuteTokenRequest",Wr="authClientCreateTokenRequestBody",Vr="authClientCreateQueryString",Qr="popTokenGenerateCnf",Gr="popTokenGenerateKid",Yr="handleServerTokenResponse",Jr="deserializeResponse",Xr="authorityFactoryCreateDiscoveredInstance",Zr="authorityResolveEndpointsAsync",eo="authorityGetCloudDiscoveryMetadataFromNetwork",to="authorityUpdateCloudDiscoveryMetadata",no="authorityGetEndpointMetadataFromNetwork",ro="authorityUpdateEndpointMetadata",oo="authorityUpdateMetadataWithRegionalInformation",io="regionDiscoveryDetectRegion",ao="regionDiscoveryGetRegionFromIMDS",so="regionDiscoveryGetCurrentVersion",co="acquireTokenByCodeAsync",lo="handleRedirectPromise",uo="handleNativeRedirectPromise",ho="nativeMessageHandlerHandshake",po="removeHiddenIframe",fo="clearTokensAndKeysWithClaims",go="cacheManagerGetRefreshToken",mo="generatePkceCodes",yo="generateCodeVerifier",vo="generateCodeChallengeFromVerifier",bo="sha256Digest",wo="getRandomValues",Co=(new Map([[er,"ATByCode"],[tr,"ATByRT"],[nr,"ATS"],[rr,"ATSAsync"],[or,"ATPopup"],[ar,"ATRedirect"],[sr,"CryptoGetPKThumb"],[cr,"CryptoSignJwt"],[lr,"SltCacheClientAT"],[ur,"SltIframeClientAT"],[hr,"SltRClientAT"],[pr,"SsoSlt"],[fr,"StdIntClientGetDiscAuth"],[gr,"FetchAccIdWithNtvBroker"],[mr,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[yr,"RTClientExecPost"],[vr,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[br,"RTClientExecTReq"],[wr,"RTClientAT"],[Cr,"RTClientATWithCachedRT"],[kr,"RTClientATByRT"],[Sr,"RTClientCreateTReqBody"],[Ir,"ATFromCache"],[Tr,"SltFlowClientATCached"],[xr,"SltFlowClientGenResFromCache"],[Ar,"ATBySltIframe"],[Er,"InitBaseReq"],[_r,"InitSltReq"],[Rr,"InitClientApplication"],[Pr,"SIClientTHelper"],[Or,"SHandlerInitAuthReq"],[Mr,"SltHandlerMonitorIframeForHash"],[Nr,"SHandlerLoadFrame"],[Lr,"SHandlerLoadFrameSync"],[qr,"StdIntClientCreateAuthCodeClient"],[Ur,"StdIntClientGetClientConf"],[Dr,"StdIntClientInitAuthReq"],[Hr,"StdIntClientInitAuthCodeReq"],[Fr,"GetAuthCodeUrl"],[$r,"HandleCodeResFromServer"],[jr,"HandleCodeResp"],[zr,"UpdTEndpointAuth"],[Br,"AuthClientAT"],[Kr,"AuthClientExecTReq"],[Wr,"AuthClientCreateTReqBody"],[Vr,"AuthClientCreateQueryStr"],[Qr,"PopTGenCnf"],[Gr,"PopTGenKid"],[Yr,"HandleServerTRes"],[Jr,"DeserializeRes"],[Xr,"AuthFactCreateDiscInst"],[Zr,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[eo,"AuthGetCDMetaFromNet"],[to,"AuthUpdCDMeta"],[no,"AuthUpdCDMetaFromNet"],[ro,"AuthUpdEndpointMeta"],[oo,"AuthUpdMetaWithRegInfo"],[io,"RegDiscDetectReg"],[ao,"RegDiscGetRegFromIMDS"],[so,"RegDiscGetCurrentVer"],[co,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[lo,"HandleRedirectPromise"],[uo,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[ho,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[po,"RemoveHiddenIframe"],[fo,"ClearTAndKeysWithClaims"],[go,"CacheManagerGetRT"],[mo,"GenPkceCodes"],[yo,"GenCodeVerifier"],[vo,"GenCodeChallengeFromVerifier"],[bo,"Sha256Digest"],[wo,"GetRandomValues"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]);class ko{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class So{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Co,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new ko}}startPerformanceMeasurement(){return new ko}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const Io="invalid_grant",To=483,xo=600,Ao="msal",Eo=30,_o="msal.js.browser",Ro="53ee284d-920a-4b59-9d30-a60315b26836",Po="ppnbnpeolgkicgegkbkbjmhlideopiji",Oo="MATS",Mo="Handshake",No="HandshakeResponse",Lo="GetToken",qo="Response",Uo="localStorage",Do="sessionStorage",Ho="memoryStorage",Fo="GET",$o="POST",jo="authority",zo="request.state",Bo="nonce.id_token",Ko="request.origin",Wo="urlHash",Vo="request.params",Qo="interaction.status",Go="ccs.credential",Yo="request.correlationId",Jo="request.native",Xo="msal.account.keys",Zo="msal.token.keys",ei="wrapper.sku",ti="wrapper.version",ni=861,ri=862,oi=863,ii=865,ai=866,si=61,ci=961,li=962;var ui;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(ui||(ui={}));const di={scopes:l},hi="msal.db",pi=`${hi}.keys`,fi=0,gi=1,mi=2,yi=3,vi=4,bi=5,wi=[fi,bi,vi];class Ci{navigateInternal(e,t){return Ci.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Ci.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}const ki="pkce_not_created",Si="crypto_nonexistent",Ii="empty_navigate_uri",Ti="hash_empty_error",xi="no_state_in_hash",Ai="hash_does_not_contain_known_properties",Ei="unable_to_parse_state",_i="state_interaction_type_mismatch",Ri="interaction_in_progress",Pi="popup_window_error",Oi="empty_window_error",Mi="user_cancelled",Ni="monitor_popup_timeout",Li="monitor_window_timeout",qi="redirect_in_iframe",Ui="block_iframe_reload",Di="block_nested_popups",Hi="iframe_closed_prematurely",Fi="silent_logout_unsupported",$i="no_account_error",ji="silent_prompt_value_error",zi="no_token_request_cache_error",Bi="unable_to_parse_token_request_cache_error",Ki="no_cached_authority_error",Wi="auth_request_not_set_error",Vi="invalid_cache_type",Qi="non_browser_environment",Gi="database_not_open",Yi="no_network_connectivity",Ji="post_request_failed",Xi="get_request_failed",Zi="failed_to_parse_response",ea="unable_to_load_token",ta="crypto_key_not_found",na="auth_code_required",ra="auth_code_or_nativeAccountId_required",oa="spa_code_and_nativeAccountId_present",ia="database_unavailable",aa="unable_to_acquire_token_from_native_platform",sa="native_handshake_timeout",ca="native_extension_not_installed",la="native_connection_not_established",ua="uninitialized_public_client_application",da="native_prompt_not_supported",ha="invalid_base64_string",pa="invalid_pop_token_request",fa="For more visit: aka.ms/msaljs/browser-errors",ga={[ki]:"The PKCE code challenge and verifier could not be generated.",[Si]:"The crypto object or function is not available.",[Ii]:"Navigation URI is empty. Please check stack trace for more info.",[Ti]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${fa}`,[xi]:"Hash does not contain state. Please verify that the request originated from msal.",[Ai]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${fa}`,[Ei]:"Unable to parse state. Please verify that the request originated from msal.",[_i]:"Hash contains state but the interaction type does not match the caller.",[Ri]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${fa}`,[Pi]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Oi]:"window.open returned null or undefined window object.",[Mi]:"User cancelled the flow.",[Ni]:`Token acquisition in popup failed due to timeout.  ${fa}`,[Li]:`Token acquisition in iframe failed due to timeout.  ${fa}`,[qi]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Ui]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${fa}`,[Di]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Hi]:"The iframe being monitored was closed prematurely.",[Fi]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[$i]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[ji]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[zi]:"No token request found in cache.",[Bi]:"The cached token request could not be parsed.",[Ki]:"No cached authority found.",[Wi]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Vi]:"Invalid cache type",[Qi]:"Login and token requests are not supported in non-browser environments.",[Gi]:"Database is not open!",[Yi]:"No network connectivity. Check your internet connection.",[Ji]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Xi]:"Network request failed. Please check the network trace to determine root cause.",[Zi]:"Failed to parse network response. Check network trace.",[ea]:"Error loading token to cache.",[ta]:"Cryptographic Key or Keypair not found in browser storage.",[na]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[ra]:"An authorization code or nativeAccountId must be provided to this flow.",[oa]:"Request cannot contain both spa code and native account id.",[ia]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[aa]:`Unable to acquire token from native platform.  ${fa}`,[sa]:"Timed out while attempting to establish connection to browser extension",[ca]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[la]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${fa}`,[ua]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${fa}`,[da]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[ha]:"Invalid base64 encoded string.",[pa]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."};class ma extends xe{constructor(e){super(e,ga[e]),Object.setPrototypeOf(this,ma.prototype),this.name="BrowserAuthError"}}function ya(e){return new ma(e)}class va{async sendGetRequestAsync(e,t){let n;try{n=await fetch(e,{method:Fo,headers:this.getFetchHeaders(t)})}catch(r){throw window.navigator.onLine?ya(Xi):ya(Yi)}try{return{headers:this.getHeaderDict(n.headers),body:await n.json(),status:n.status}}catch(r){throw ya(Zi)}}async sendPostRequestAsync(e,t){const n=t&&t.body||o.EMPTY_STRING;let r;try{r=await fetch(e,{method:$o,headers:this.getFetchHeaders(t),body:n})}catch(i){throw window.navigator.onLine?ya(Ji):ya(Yi)}try{return{headers:this.getHeaderDict(r.headers),body:await r.json(),status:r.status}}catch(i){throw ya(Zi)}}getFetchHeaders(e){const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.keys(n).forEach((e=>{t.append(e,n[e])})),t}getHeaderDict(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}}const ba=1e4;const wa="3.26.1";class Ca{static loggerCallback(e,t){switch(e){case ve.Error:return void console.error(t);case ve.Info:return void console.info(t);case ve.Verbose:return void console.debug(t);case ve.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:i,telemetry:a}=e;const s={clientId:o.EMPTY_STRING,authority:`${o.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:o.EMPTY_STRING,authorityMetadata:o.EMPTY_STRING,redirectUri:o.EMPTY_STRING,postLogoutRedirectUri:o.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:we,OIDCOptions:{serverResponseType:R.FRAGMENT,defaultScopes:[o.OPENID_SCOPE,o.PROFILE_SCOPE,o.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:ke,tenant:o.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},c={cacheLocation:Do,temporaryCacheLocation:Do,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==Uo),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:ve.Info,piiLoggingEnabled:!1},u={...{...Bn,loggerOptions:l,networkClient:t?new va:Zn,navigationClient:new Ci,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||6e4,iframeHashTimeout:i?.loadFrameTimeout||ba,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:Eo},...i,loggerOptions:i?.loggerOptions||l},d={application:{appName:o.EMPTY_STRING,appVersion:o.EMPTY_STRING},client:new So};n?.protocolMode!==Ce&&n?.OIDCOptions&&new be(u.loggerOptions).warning(JSON.stringify(mn(dn)));if(n?.protocolMode&&n.protocolMode!==we&&u?.allowNativeBroker)throw mn(hn);return{auth:{...s,...n,OIDCOptions:{...s.OIDCOptions,...n?.OIDCOptions}},cache:{...c,...r},system:u,telemetry:{...d,...a}}}(e,this.browserEnvironment);try{t=window[Do]}catch(c){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),i="true"===r||"false"!==r&&void 0,a={...this.config.system.loggerOptions},s=n&&Object.keys(ve).includes(n)?ve[n]:void 0;s&&(a.loggerCallback=Ca.loggerCallback,a.logLevel=s),void 0!==i&&(a.piiLoggingEnabled=i),this.logger=new be(a,"@azure/msal-browser",wa),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class ka extends Ca{getModuleName(){return ka.MODULE_NAME}getId(){return ka.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}ka.MODULE_NAME="",ka.ID="StandardOperatingContext";const Sa="missing_kid_error",Ia="missing_alg_error",Ta={[Sa]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Ia]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class xa extends xe{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,xa.prototype)}}function Aa(e){return new xa(e,Ta[e])}class Ea{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Aa(Sa);if(!e.alg)throw Aa(Ia);const t=new Ea({typ:e.typ||ye,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}function _a(e){return encodeURIComponent(Pa(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ra(e){return Oa(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pa(e){return Oa((new TextEncoder).encode(e))}function Oa(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function Ma(e){return(new TextDecoder).decode(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw ya(ha)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}(e))}const Na="SHA-256",La=new Uint8Array([1,0,1]),qa="0123456789abcdef",Ua=new Uint32Array(1),Da={name:"RSASSA-PKCS1-v1_5",hash:Na,modulusLength:2048,publicExponent:La};async function Ha(e,t,n){t?.addQueueMeasurement(bo,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Na,r)}function Fa(e){return window.crypto.getRandomValues(e)}function $a(){return window.crypto.getRandomValues(Ua),Ua[0]}function ja(){const e=Date.now(),t=1024*$a()+(1023&$a()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=$a();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let s=0;s<n.length;s++)a+=qa.charAt(n[s]>>>4),a+=qa.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(a+="-");return a}async function za(e){return window.crypto.subtle.exportKey("jwk",e)}async function Ba(e){const t=await Ha(e);return Ra(new Uint8Array(t))}class Ka{constructor(){this.dbName=hi,this.version=1,this.tableName=pi,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(ya(ia))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(ya(Gi));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(ya(Gi));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(ya(Gi));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(ya(Gi));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(ya(Gi));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(hi),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Wa{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Va{constructor(e){this.inMemoryCache=new Wa,this.indexedDBCache=new Ka,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof ma&&e.errorCode===ia))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Qa{constructor(e,t){this.logger=e,function(e){if(!("crypto"in window))throw e.error("BrowserCrypto: crypto interface is unavailable"),ya(Si);e.verbose("BrowserCrypto: modern crypto interface available")}(e),this.cache=new Va(this.logger),this.performanceClient=t}createNewGuid(){return ja()}base64Encode(e){return Pa(e)}base64Decode(e){return Ma(e)}base64UrlEncode(e){return _a(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(sr,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(Da,e,t)}(Qa.EXTRACTABLE,Qa.POP_KEY_USAGES),r=await za(n.publicKey),o=Ga({e:r.e,kty:r.kty,n:r.n}),i=await this.hashString(o),a=await za(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,Da,t,n)}(a,!1,["sign"]);return await this.cache.setItem(i,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(cr,r),i=await this.cache.getItem(t);if(!i)throw ya(ta);const a=await za(i.publicKey),s=Ga(a),c=_a(JSON.stringify({kid:t})),l=_a(Ea.getShrHeaderString({...n?.header,alg:a.alg,kid:c}));e.cnf={jwk:JSON.parse(s)};const u=`${l}.${_a(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(Da,e,t)}(i.privateKey,d),p=`${u}.${Ra(new Uint8Array(h))}`;return o&&o.end({success:!0}),p}async hashString(e){return Ba(e)}}function Ga(e){return JSON.stringify(e,Object.keys(e).sort())}Qa.POP_KEY_USAGES=["sign","verify"],Qa.EXTRACTABLE=!0;const Ya=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...arguments);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(a){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(a))}catch(a){n.trace("Unable to print error message.")}throw i?.end({success:!1},a),a}},Ja=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1},e),e}))};class Xa{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(io,this.correlationId);let n=e;if(n)t.region_source=se;else{const e=Xa.IMDS_OPTIONS;try{const r=await Ja(this.getRegionFromIMDS.bind(this),ao,this.logger,this.performanceClient,this.correlationId)(o.IMDS_VERSION,e);if(r.status===oe&&(n=r.body,t.region_source=ce),r.status===ie){const r=await Ja(this.getCurrentVersion.bind(this),so,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=ae,null;const o=await Ja(this.getRegionFromIMDS.bind(this),ao,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===oe&&(n=o.body,t.region_source=ce)}}catch(r){return t.region_source=ae,null}}return n||(t.region_source=ae),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(ao,this.correlationId),this.networkInterface.sendGetRequestAsync(`${o.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,o.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(so,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${o.IMDS_ENDPOINT}?format=json`,e);return t.status===ie&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}Xa.IMDS_OPTIONS={headers:{Metadata:"true"}};class Za{constructor(e,t,n,r,o,i,a,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=s||!1,this.regionDiscovery=new Xa(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(o.CIAM_AUTH_URL))return An;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case o.ADFS:return Tn;case o.DSTS:return xn}return In}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new On(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw wt(Oe)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw wt(Oe)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw wt(Oe)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw wt(dt);return this.replacePath(this.metadata.end_session_endpoint)}throw wt(Oe)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw wt(Oe)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw wt(Oe)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Za.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===In&&this.protocolMode===we}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new On(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new On(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose(`Replacing tenant domain name ${i} with id ${e}`),i=e)}e!==i&&(t=t.replace(`/${i}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Tn||this.protocolMode!==we&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Zr,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Ja(this.updateCloudDiscoveryMetadata.bind(this),to,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Ja(this.updateEndpointMetadata.bind(this),ro,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:$t(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==K&&n?.source!==K&&(e.expiresAt=$t(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(ro,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===V&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){jt(e,await Ja(this.updateMetadataWithRegionalInformation.bind(this),oo,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Ja(this.getEndpointMetadataFromNetwork.bind(this),no,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Ja(this.updateMetadataWithRegionalInformation.bind(this),oo,this.logger,this.performanceClient,this.correlationId)(n)),jt(e,n,!0),W;throw wt(Ne,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),jt(e,t,!1),{source:B};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return jt(e,t,!1),{source:V,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Bt(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:K}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new On(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw mn(on)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(no,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Mn?Mn[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(oo,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==o.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=le,this.regionDiscoveryMetadata.region_used=t,Za.replaceWithRegionalInformation(e,t);const n=await Ja(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),io,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=ue,this.regionDiscoveryMetadata.region_used=n,Za.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=de}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(to,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Ja(this.getCloudDiscoveryMetadataFromNetwork.bind(this),eo,this.logger,this.performanceClient,this.correlationId)();if(n)return zt(e,n,!0),W;throw mn(an)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||o.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||o.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||o.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),zt(e,t,!1),B;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Un(Nn.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),zt(e,t,!1),V;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=Bt(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),K):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===An)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Za.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Un(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),mn(rn)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Za.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(eo,this.correlationId);const e=`${o.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let i,a;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))i=r.body,a=i.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),i=r.body,i.error===o.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Un(a,this.hostnameAndPort)}catch(r){if(r instanceof xe)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Za.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&On.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==ke){const e=t.tenant?t.tenant:o.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return o.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw wt(Oe)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Ln.has(e)}static isPublicCloudAuthority(e){return o.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new On(e);r.validateAsUri();const i=r.getUrlComponents();let a=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(a=`${t}.${o.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=On.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:a}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Za.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Za.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Za.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new On(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(o.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${o.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function es(e){return e.endsWith(o.FORWARD_SLASH)?e:`${e}${o.FORWARD_SLASH}`}Za.reservedTenantDomains=new Set(["{tenant}","{tenantid}",S,T,I]);const ts="no_tokens_found",ns="native_account_unavailable",rs="refresh_token_expired",os="bad_token",is=["interaction_required","consent_required","login_required",os],as=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],ss={[ts]:"No refresh token found in the cache. Please sign-in.",[ns]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[rs]:"Refresh token has expired.",[os]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class cs extends xe{constructor(e,t,n,r,i,a,s,c){super(e,t,n),Object.setPrototypeOf(this,cs.prototype),this.timestamp=r||o.EMPTY_STRING,this.traceId=i||o.EMPTY_STRING,this.correlationId=a||o.EMPTY_STRING,this.claims=s||o.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function ls(e,t,n){const r=!!e&&is.indexOf(e)>-1,o=!!n&&as.indexOf(n)>-1,i=!!t&&is.some((e=>t.indexOf(e)>-1));return r||i||o}function us(e){return new cs(e,ss[e])}class ds{static setRequestState(e,t,n){const r=ds.generateLibraryState(e,n);return t?`${r}${o.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw wt(nt);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw wt(nt);if(!t)throw wt(qe);try{const n=t.split(o.RESOURCE_DELIM),r=n[0],i=n.length>1?n.slice(1).join(o.RESOURCE_DELIM):o.EMPTY_STRING,a=e.base64Decode(r),s=JSON.parse(a);return{userRequestState:i||o.EMPTY_STRING,libraryState:s}}catch(n){throw wt(qe)}}}const hs="home_account_id",ps="UPN",fs="storage_not_supported",gs="stubbed_public_client_application_called",ms="in_mem_redirect_unavailable",ys={[fs]:"Given storage configuration option was not supported.",[gs]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[ms]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class vs extends xe{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,vs.prototype)}}function bs(e){return new vs(e,ys[e])}class ws{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==Uo&&e!==Do||!window[e])throw bs(fs)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}function Cs(e,t){if(!t)return null;try{return ds.parseRequestState(e,t).libraryState.meta}catch(n){throw wt(qe)}}class ks extends jn{constructor(e,t,n,r,o,i){super(e,n,r,o),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=t,this.logger=r,this.internalStorage=new Wa,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=i}setupBrowserStorage(e){switch(e){case Uo:case Do:try{return new ws(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=Ho,new Wa}setupTemporaryCacheStorage(e,t){switch(t){case Uo:case Do:try{return new ws(e||Do)}catch(n){return this.logger.verbose(n),this.internalStorage}default:return this.internalStorage}}migrateCacheEntries(){const e=`${o.CACHE_PREFIX}.${m}`,t=`${o.CACHE_PREFIX}.${y}`,n=`${o.CACHE_PREFIX}.${b}`,r=`${o.CACHE_PREFIX}.${w}`,i=[this.browserStorage.getItem(e),this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r)];[m,y,b,w].forEach(((e,t)=>{const n=i[t];n&&this.setTemporaryCache(e,n,!0)}))}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(Xo),t=this.getItem(`${Zo}.${this.clientId}`);if(e&&t)return void this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");this.browserStorage.getKeys().forEach((e=>{if(this.isCredentialKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("credentialType"))switch(n.credentialType){case H.ID_TOKEN:if(Nt(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,H.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${e}`);break;case H.ACCESS_TOKEN:case H.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(Mt(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,H.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${e}`);break;case H.REFRESH_TOKEN:if(Lt(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,H.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${e}`)}}}if(this.isAccountKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);n&&_n.isAccountEntity(n)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${e} found, saving key to account key map`),this.addAccountKeyToMap(e))}}}))}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&_n.isAccountEntity(n)?jn.toObject(new _n,n):(this.removeAccountKeyFromMap(e),null)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(Xo);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(Xo,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(Xo,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,H.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,H.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,H.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${Zo}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case H.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case H.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case H.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wt(rt)}this.setItem(`${Zo}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case H.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case H.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case H.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wt(rt)}this.setItem(`${Zo}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,H.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&Nt(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,H.ID_TOKEN),null)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=Et(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,H.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,H.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&Mt(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,H.ACCESS_TOKEN),null)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=Et(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,H.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,H.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&Lt(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,H.REFRESH_TOKEN),null)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=Et(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,H.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(F)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[F,t,n].join(U).toLowerCase()}(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(Q.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(j)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(ei,e),this.internalStorage.setItem(ti,t)}getWrapperMetadata(){return[this.internalStorage.getItem(ei)||o.EMPTY_STRING,this.internalStorage.getItem(ti)||o.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(k),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const e=this.generateCacheKey(C),t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const n=this.getAccountInfoFilteredBy({localAccountId:t});return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(n),n):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(k),n=this.generateCacheKey(C);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(X));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.getItemCookie(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===Uo){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(o.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(o.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(fo,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,t,n){let r=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){r+=`expires=${this.getCookieExpirationTime(n)};`}this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r}getItemCookie(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length,e.length))}return o.EMPTY_STRING}clearMsalCookies(){const e=`${o.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach((t=>{for(;" "===t.charAt(0);)t=t.substring(1);if(0===t.indexOf(e)){const e=t.split("=")[0];this.clearItemCookie(e)}}))}clearItemCookie(e){this.setItemCookie(e,o.EMPTY_STRING,-1)}getCookieExpirationTime(e){const t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):yn.startsWith(e,o.CACHE_PREFIX)||yn.startsWith(e,v)?e:`${o.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=ds.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${jo}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=ds.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Bo}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=ds.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${zo}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:hs};this.setTemporaryCache(Go,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:ps};this.setTemporaryCache(Go,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(Vo)),this.removeTemporaryItem(this.generateCacheKey(Ko)),this.removeTemporaryItem(this.generateCacheKey(Wo)),this.removeTemporaryItem(this.generateCacheKey(Yo)),this.removeTemporaryItem(this.generateCacheKey(Go)),this.removeTemporaryItem(this.generateCacheKey(Jo)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||o.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(zo))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=Cs(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Pa(JSON.stringify(e));this.setTemporaryCache(Vo,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(Vo,!0);if(!t)throw ya(zi);let n;try{n=JSON.parse(Ma(t))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),ya(Bi)}if(this.removeTemporaryItem(this.generateCacheKey(Vo)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw ya(Ki);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Jo,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${o.CACHE_PREFIX}.${Qo}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${o.CACHE_PREFIX}.${Qo}`;if(e){if(this.getInteractionInProgress())throw ya(Ri);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(v);e&&(this.browserStorage.removeItem(v),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(m,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(m)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const e=It(n,Ma);if(e.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),e.preferred_username;if(e.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),e.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=Et(t);if(e!==n){const r=this.getItem(e);if(r)return this.browserStorage.removeItem(e),this.setItem(n,r),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){const n=_t(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:Rt(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,Ma,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof $n&&this.performanceClient&&n)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},n)}catch(r){}throw r}}}function Ss(){return window.parent!==window}function Is(){return window.location.href.split("?")[0].split("#")[0]}function Ts(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${Ao}.`))throw ya(Di)}function xs(){if("undefined"===typeof window)throw ya(Qi)}function As(e){if(!e)throw ya(ua)}function Es(e){xs(),function(){if(On.hashContainsKnownProperties(window.location.hash)&&Ss())throw ya(Ui)}(),Ts(),As(e)}function _s(e,t){if(Es(e),function(e){if(Ss()&&!e)throw ya(qi)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Ho&&!t.cache.storeAuthStateInCookie)throw bs(ms)}function Rs(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const Ps="msal:initializeStart",Os="msal:initializeEnd",Ms="msal:accountAdded",Ns="msal:accountRemoved",Ls="msal:activeAccountChanged",qs="msal:loginStart",Us="msal:loginSuccess",Ds="msal:loginFailure",Hs="msal:acquireTokenStart",Fs="msal:acquireTokenSuccess",$s="msal:acquireTokenFailure",js="msal:acquireTokenFromNetworkStart",zs="msal:ssoSilentStart",Bs="msal:ssoSilentSuccess",Ks="msal:ssoSilentFailure",Ws="msal:acquireTokenByCodeStart",Vs="msal:acquireTokenByCodeSuccess",Qs="msal:acquireTokenByCodeFailure",Gs="msal:handleRedirectStart",Ys="msal:handleRedirectEnd",Js="msal:popupOpened",Xs="msal:logoutStart",Zs="msal:logoutSuccess",ec="msal:logoutFailure",tc="msal:logoutEnd",nc="msal:restoreFromBFCache";class rc{constructor(e){this.eventCallbacks=new Map,this.logger=e||new be({})}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||ja();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){if("undefined"!==typeof window){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.eventCallbacks.forEach(((t,n)=>{let[r,i]=t;(0===i.length||i.includes(e))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e}`),r.apply(null,[o]))}))}}}class oc extends xe{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,oc.prototype)}}class ic{static generateThrottlingStorageKey(e){return`${X}.${JSON.stringify(e)}`}static preProcess(e,t){const n=ic.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new oc(r.errorCodes?.join(" ")||o.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(ic.checkResponseStatus(n)||ic.checkResponseForRetryAfter(n)){const r={throttleTime:ic.calculateThrottleTime(parseInt(n.headers[h])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(ic.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(h)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Y),n+J))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(o);e.removeItem(i)}}class ac{constructor(e,t){this.networkClient=e,this.cacheManager=t}async sendPostRequest(e,t,n){let r;ic.preProcess(this.cacheManager,e);try{r=await this.networkClient.sendPostRequestAsync(t,n)}catch(o){throw o instanceof xe?o:wt(Me)}return ic.postProcess(this.cacheManager,e,r),r}}const sc="client_id",cc="response_type",lc="token_type",uc="req_cnf",dc="return_spa_code",hc="x-client-xtra-sku";class pc{static validateRedirectUri(e){if(!e)throw mn(Kt)}static validatePrompt(e){const t=[];for(const n in E)t.push(E[n]);if(t.indexOf(e)<0)throw mn(Jt)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw mn(Xt)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw mn(nn);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([_.PLAIN,_.S256].indexOf(e)<0)throw mn(tn)}}class fc{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(cc,encodeURIComponent(o.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(cc,encodeURIComponent(`${o.TOKEN_RESPONSE_TYPE} ${o.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||P.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],o=new vn(r);this.parameters.set("scope",encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(sc,encodeURIComponent(e))}addRedirectUri(e){pc.validateRedirectUri(e),this.parameters.set("redirect_uri",encodeURIComponent(e))}addPostLogoutRedirectUri(e){pc.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(p,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(p,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);pc.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){pc.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(pc.validateCodeChallengeParams(e,t),!e||!t)throw mn(nn);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach((e=>{let[t,n]=e;!this.parameters.has(t)&&n&&this.parameters.set(t,n)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw mn(Xt)}else n={};return t&&t.length>0&&(n.hasOwnProperty(x)||(n[x]={}),n[x][A]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(ne,encodeURIComponent(e))}addPassword(e){this.parameters.set(re,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(lc,G.POP),this.parameters.set(uc,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(lc,G.SSH),this.parameters.set(uc,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",Z)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),e.join("&")}}async function gc(e,t,n,r,o,i,a){a?.addQueueMeasurement(Xr,i);const s=Za.transformCIAMAuthority(es(e)),c=new Za(s,t,n,r,o,i,a);try{return await Ja(c.resolveEndpointsAsync.bind(c),Zr,o,a,i)(),c}catch(l){throw wt(Oe)}}class mc{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:i,networkInterface:a,cryptoInterface:s,clientCredentials:c,libraryInfo:l,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:p}=e;const f={...Kn,...r};return{authOptions:(g=t,{clientCapabilities:[],azureCloudOptions:Yn,skipAuthorityMetadataCache:!1,instanceAware:!1,...g}),systemOptions:{...Bn,...n},loggerOptions:f,cacheOptions:{...Wn,...o},storageInterface:i||new zn(t.clientId,Ct,new be(f)),networkInterface:a||Vn,cryptoInterface:s||Ct,clientCredentials:c||Gn,libraryInfo:{...Qn,...l},telemetry:{...Jn,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:p||null};var g}(e),this.logger=new be(this.config.loggerOptions,kt,St),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new ac(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[d]=o.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case hs:try{const n=wn(e.credential);t[p]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case ps:t[p]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){i&&this.performanceClient?.addQueueMeasurement(i,o);const a=await this.networkManager.sendPostRequest(r,e,{body:t,headers:n});return this.performanceClient?.addFields({refreshTokenSize:a.body.refresh_token?.length||0,httpVerToken:a.headers?.[g]||""},o),this.config.serverTelemetryManager&&a.status<500&&429!==a.status&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(zr,t);const n=`https://${e}/${this.authority.tenant}/`,r=await gc(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new fc;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}const yc="sw";class vc{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(Qr,e.correlationId);const n=await Ja(this.generateKid.bind(this),Qr,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(Gr,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:yc}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:a,shrNonce:s,shrOptions:c}=n,l=i?new On(i):void 0,u=l?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:xt(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...r},t,c,n.correlationId)}}class bc{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class wc{constructor(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?wt(De,"Cached State"):wt(De,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw wt(qe,e.state)}try{r=decodeURIComponent(t)}catch(o){throw wt(qe,e.state)}if(n!==r)throw wt(Ue);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+5):void 0}(e);if(ls(e.error,e.error_description,e.suberror))throw new cs(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new oc(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||o.NOT_AVAILABLE} - Timestamp: ${e.timestamp||o.NOT_AVAILABLE} - Description: ${e.error_description||o.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||o.NOT_AVAILABLE} - Trace ID: ${e.trace_id||o.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,l=new oc(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=s&&e.status<=c)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${l}`);if(t&&e.status&&e.status>=i&&e.status<=a)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${l}`);if(ls(e.error,e.error_description,e.suberror))throw new cs(e.error,e.error_description,e.suberror,e.timestamp||o.EMPTY_STRING,e.trace_id||o.EMPTY_STRING,e.correlation_id||o.EMPTY_STRING,e.claims||o.EMPTY_STRING,r);throw l}}async handleServerTokenResponse(e,t,n,r,i,a,s,c,l){let u,d;if(this.performanceClient?.addQueueMeasurement(Yr,e.correlation_id),e.id_token){if(u=It(e.id_token||o.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&u.nonce!==i.nonce)throw wt(He);if(r.maxAge||0===r.maxAge){const e=u.auth_time;if(!e)throw wt(Fe);Tt(e,r.maxAge)}}this.homeAccountIdentifier=_n.generateHomeAccountId(e.client_info||o.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),i&&i.state&&(d=ds.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const h=this.generateCacheRecord(e,t,n,r,u,a,i);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new bc(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),s&&!c&&h.account){const e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await wc.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,void 0,l)}await this.cacheStorage.saveCacheRecord(h,r.storeInCache,r.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return wc.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,e,l)}generateCacheRecord(e,t,n,r,o,i,a){const s=t.getPreferredCache();if(!s)throw wt(et);const c=En(o);let l,u;e.id_token&&o&&(l=_t(this.homeAccountIdentifier,s,e.id_token,this.clientId,c||""),u=Cc(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,c,a,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?vn.fromString(e.scope):new vn(r.scopes||[]),a=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+a,p=h+l,f=u&&u>0?n+u:void 0;d=Rt(this.homeAccountIdentifier,s,e.access_token,this.clientId,c||t.tenant||"",o.printScopes(),h,p,this.cryptoObj.base64Decode,f,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=Pt(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,i,t)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:h,appMetadata:p}}static async generateAuthenticationResult(e,t,n,r,i,a,s,c,l){let u,d,h=o.EMPTY_STRING,p=[],f=null,g=o.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==G.POP||i.popKid)h=n.accessToken.secret;else{const t=new vc(e),{secret:r,keyId:o}=n.accessToken;if(!o)throw wt(ht);h=await t.signPopToken(r,o,i)}p=vn.fromString(n.accessToken.target).asArray(),f=new Date(1e3*Number(n.accessToken.expiresOn)),u=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(d=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(g=n.appMetadata.familyId===$?$:"");const m=a?.oid||a?.sub||"",y=a?.tid||"";c?.spa_accountid&&n.account&&(n.account.nativeAccountId=c?.spa_accountid);const v=n.account?Sn(n.account.getAccountInfo(),void 0,a,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:m,tenantId:y,scopes:p,account:v,idToken:n?.idToken?.secret||"",idTokenClaims:a||{},accessToken:h,fromCache:r,expiresOn:f,extExpiresOn:u,refreshOn:d,correlationId:i.correlationId,requestId:l||o.EMPTY_STRING,familyId:g,tokenType:n.accessToken?.tokenType||o.EMPTY_STRING,state:s?s.userRequestState:o.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||o.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||o.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}}}function Cc(e,t,n,r,o,i,a,s,c,l,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d,u));const p=h||_n.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:i,environment:a,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},t,r),f=p.tenantProfiles||[],g=s||p.realm;if(g&&!f.find((e=>e.tenantId===g))){const e=kn(n,p.localAccountId,g,o);f.push(e)}return p.tenantProfiles=f,p}async function kc(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class Sc extends mc{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(Fr,e.correlationId);const t=await Ja(this.createAuthCodeUrlQueryString.bind(this),Vr,this.logger,this.performanceClient,e.correlationId)(e);return On.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(Br,e.correlationId),!e.code)throw wt(Ke);const n=xt(),r=await Ja(this.executeTokenRequest.bind(this),Kr,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[f],i=new wc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),Ja(i.handleServerTokenResponse.bind(i),Yr,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new wc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw wt(lt);return e}getLogoutUri(e){if(!e)throw mn(en);const t=this.createLogoutUrlQueryString(e);return On.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Kr,t.correlationId);const n=this.createTokenQueryParameters(t),r=On.appendQueryString(e.tokenEndpoint,n),o=await Ja(this.createTokenRequestBody.bind(this),Wr,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=bn(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${D}${e.utid}`,type:hs}}catch(c){this.logger.verbose("Could not parse client info for CCS Header: "+c)}const a=this.createTokenRequestHeaders(i||t.ccsCredential),s={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return Ja(this.executePostToTokenEndpoint.bind(this),vr,this.logger,this.performanceClient,t.correlationId)(r,o,a,s,t.correlationId,vr)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Wr,e.correlationId);const t=new fc;if(t.addClientId(e.tokenBodyParameters?.[sc]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):pc.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Xn(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await kc(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(O),t.addClientInfo(),e.authenticationScheme===G.POP){const n=new vc(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ja(n.generateCnf.bind(n),Qr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===G.SSH){if(!e.sshJwk)throw mn(sn);t.addSshJwk(e.sshJwk)}const n=e.correlationId||this.config.cryptoInterface.createNewGuid();let r;if(t.addCorrelationId(n),(!yn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=bn(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${t.uid}${D}${t.utid}`,type:hs}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case hs:try{const e=wn(r.credential);t.addCcsOid(e)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case ps:t.addCcsUpn(r.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[dc]||t.addExtraQueryParameters({[dc]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){this.performanceClient?.addQueueMeasurement(Vr,e.correlationId);const t=new fc;t.addClientId(e.extraQueryParameters?.[sc]||this.config.authOptions.clientId);const n=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(n,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(r),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),Xn(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==E.SELECT_ACCOUNT)if(e.sid&&e.prompt===E.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){const n=this.extractAccountSid(e.account);let r=this.extractLoginHint(e.account);if(r&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),r=null),r){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(r);try{const n=wn(e.account.homeAccountId);t.addCcsOid(n)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(n&&e.prompt===E.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(n);try{const n=wn(e.account.homeAccountId);t.addCcsOid(n)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{const n=wn(e.account.homeAccountId);t.addCcsOid(n)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.addExtraQueryParams(e,t),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===G.POP)){const n=new vc(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ja(n.generateCnf.bind(n),Qr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}return t.createQueryString()}createLogoutUrlQueryString(e){const t=new fc;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}function Ic(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[n,r]],[2,[o,i]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return a.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class Tc{constructor(e,t){this.cacheOutcome=he,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||o.EMPTY_STRING,this.wrapperVer=e.wrapperVer||o.EMPTY_STRING,this.telemetryCacheKey=Q.CACHE_KEY+U+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Q.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(Q.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(Q.VALUE_SEPARATOR);return[Q.SCHEMA_VERSION,o,r].join(Q.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Tc.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(Q.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(Q.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?Q.OVERFLOW_TRUE:Q.OVERFLOW_FALSE].join(Q.VALUE_SEPARATOR);return[Q.SCHEMA_VERSION,e.cacheHits,n,r,i].join(Q.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Q.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof xe?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Q.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=Tc.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const i=e.errors.length;for(t=0;t<i;t++){const i=e.failedRequests[2*t]||o.EMPTY_STRING,a=e.failedRequests[2*t+1]||o.EMPTY_STRING,s=e.errors[t]||o.EMPTY_STRING;if(r+=i.toString().length+a.toString().length+s.length+3,!(r<Q.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||o.EMPTY_STRING),e.push(this.regionSource||o.EMPTY_STRING),e.push(this.regionOutcome||o.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return Ic(e)}}class xc{constructor(e,t,n,r,o,i,a,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=c||ja(),this.logger=r.clone(_o,wa,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){_n.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(_n.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri||Is();return On.getAbsoluteUrl(t,Is())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Tc(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(fr,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=n?.length?"true"===n:this.config.auth.instanceAware,a=t&&i?this.config.auth.authority.replace(On.getDomainFromUrl(o),t.environment):o,s=Za.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await Ja(gc,Xr,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw mn(pn);return c}}async function Ac(e,t,n){e.addQueueMeasurement(mo,n);const r=Ya(Ec,yo,t,e,n)(e,t,n);return{verifier:r,challenge:await Ja(_c,vo,t,e,n)(r,e,t,n)}}function Ec(e,t,n){try{const r=new Uint8Array(32);Ya(Fa,wo,t,e,n)(r);return Ra(r)}catch(r){throw ya(ki)}}async function _c(e,t,n,r){t.addQueueMeasurement(vo,r);try{const o=await Ja(Ha,bo,n,t,r)(e,t,r);return Ra(new Uint8Array(o))}catch(o){throw ya(ki)}}async function Rc(e,t,n,r){n.addQueueMeasurement(Er,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a={...e,correlationId:e.correlationId,authority:o,scopes:i};if(a.authenticationScheme){if(a.authenticationScheme===G.SSH){if(!e.sshJwk)throw mn(sn);if(!e.sshKid)throw mn(cn)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}else a.authenticationScheme=G.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!yn.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await Ba(e.claims)),a}async function Pc(e,t,n,r,o){r.addQueueMeasurement(_r,e.correlationId);const i=await Ja(Rc,Er,o,r,e.correlationId)(e,n,r,o);return{...e,...i,account:t,forceRefresh:e.forceRefresh||!1}}class Oc extends xc{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(Hr,this.correlationId);const t=await Ja(Ac,mo,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:o.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=o.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||ja(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=On.getAbsoluteUrl(e.postLogoutRedirectUri,Is())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=On.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Is())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=On.getAbsoluteUrl(Is(),Is())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(qr,this.correlationId);const t=await Ja(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,this.correlationId)(e);return new Sc(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}=e;this.performanceClient.addQueueMeasurement(Ur,this.correlationId);const s=await Ja(this.getDiscoveredAuthority.bind(this),fr,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:_o,version:wa,cpu:o.EMPTY_STRING,os:o.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Dr,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},i=ds.setRequestState(this.browserCrypto,e&&e.state||o.EMPTY_STRING,r),a={...await Ja(Rc,Er,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:i,nonce:e.nonce||ja(),responseMode:this.config.auth.OIDCOptions.serverResponseType},s=e.account||this.browserStorage.getActiveAccount();if(s&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${s.homeAccountId}`,this.correlationId),a.account=s),!a.loginHint&&!s){const e=this.browserStorage.getLegacyLoginHint();e&&(a.loginHint=e)}return a}}const Mc="user_switch",Nc={[Mc]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Lc extends xe{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Lc.prototype),this.name="NativeAuthError",this.ext=n}}function qc(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function Uc(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return us(ns);case"USER_INTERACTION_REQUIRED":return new cs(e,t);case"USER_CANCEL":return ya(Mi);case"NO_NETWORK":return ya(Yi)}return new Lc(e,Nc[e]||t,n)}class Dc extends mc{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(wr,e.correlationId);const t=xt(),n=await Ja(this.executeTokenRequest.bind(this),br,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[f],o=new wc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Ja(o.handleServerTokenResponse.bind(o),Yr,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw mn(Zt);if(this.performanceClient?.addQueueMeasurement(kr,e.correlationId),!e.account)throw wt(Xe);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Ja(this.acquireTokenWithCachedRefreshToken.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof cs&&t.errorCode===ts,r=t instanceof oc&&t.errorCode===ee&&t.subError===te;if(n||r)return Ja(this.acquireTokenWithCachedRefreshToken.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return Ja(this.acquireTokenWithCachedRefreshToken.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(Cr,e.correlationId);const n=Ya(this.cacheManager.getRefreshToken.bind(this.cacheManager),go,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw us(ts);if(n.expiresOn&&At(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw us(rs);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||G.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:hs}};try{return await Ja(this.acquireToken.bind(this),wr,this.logger,this.performanceClient,e.correlationId)(r)}catch(o){if(o instanceof cs&&o.subError===os){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=Et(n);this.cacheManager.removeRefreshToken(e)}throw o}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(br,e.correlationId);const n=this.createTokenQueryParameters(e),r=On.appendQueryString(t.tokenEndpoint,n),o=await Ja(this.createTokenRequestBody.bind(this),Sr,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return Ja(this.executePostToTokenEndpoint.bind(this),yr,this.logger,this.performanceClient,e.correlationId)(r,o,i,a,e.correlationId,yr)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Sr,e.correlationId);const t=e.correlationId,n=new fc;if(n.addClientId(e.tokenBodyParameters?.[sc]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(M),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Xn(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(t),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await kc(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===G.POP){const t=new vc(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ja(t.generateCnf.bind(t),Qr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===G.SSH){if(!e.sshJwk)throw mn(sn);n.addSshJwk(e.sshJwk)}if((!yn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case hs:try{const t=wn(e.ccsCredential.credential);n.addCcsOid(t)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case ps:n.addCcsUpn(e.ccsCredential.credential)}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class Hc extends mc{constructor(e,t){super(e,t)}async acquireToken(e){try{const[t,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...l]});if(n===me){this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");new Dc(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch((()=>{}))}return t}catch(t){if(t instanceof bt&&t.errorCode===at){return new Dc(this.config,this.performanceClient).acquireTokenByRefreshToken(e)}throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Tr,e.correlationId);let t=he;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!yn.isEmptyObj(e.claims))throw this.setCacheOutcome(pe,e.correlationId),wt(at);if(!e.account)throw wt(Xe);const n=e.account.tenantId||function(e){const t=new On(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case S:case I:case T:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(fe,e.correlationId),wt(at);if(i=o.cachedAt,Number(i)>xt()||At(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ge,e.correlationId),wt(at);var i;o.refreshOn&&At(o.refreshOn,0)&&(t=me);const a=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ja(this.generateResultFromCacheRecord.bind(this),xr,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==he&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(xr,t.correlationId),e.idToken&&(n=It(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw wt(Fe);Tt(e,t.maxAge)}return wc.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class Fc extends Oc{async acquireToken(e){this.performanceClient.addQueueMeasurement(lr,e.correlationId);const t=this.initializeServerTelemetryManager(si),n=await Ja(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new Hc(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Ja(r.acquireCachedToken.bind(r),Tr,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof ma&&o.errorCode===ta&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}const $c="brk_client_id",jc="brk_redirect_uri";class zc extends xc{constructor(e,t,n,r,o,i,a,s,c,l,u,d){super(e,t,n,r,o,i,s,c,d),this.apiId=a,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new Fc(e,this.nativeStorageManager,n,r,o,i,s,c,d),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const h=this.nativeMessageHandler.getExtensionId()===Po?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=Tc.makeExtraSkuString({libraryName:_o,libraryVersion:wa,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[hc]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(mr,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(mr,e.correlationId),n=xt();try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(r){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...i}=o,a={method:Lo,request:i},s=await this.nativeMessageHandler.sendMessage(a),c=this.validateNativeResponse(s);return await this.handleNativeResponse(c,o,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(r){throw r instanceof Lc&&this.serverTelemetryManager.setNativeBrokerErrorCode(r.errorCode),r}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:vn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),wt(tt);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw wt(tt);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:Lo,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(s){if(s instanceof Lc&&(this.serverTelemetryManager.setNativeBrokerErrorCode(s.errorCode),qc(s)))throw s}this.browserStorage.setTemporaryCache(Jo,JSON.stringify(r),!0);const i={apiId:ni,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Jo));const i={method:Lo,request:o},a=xt();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,a);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),n}catch(s){throw this.browserStorage.setInteractionInProgress(!1),s}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=It(e.id_token,Ma),o=this.createHomeAccountIdentifier(e,r),i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==i&&e.account.id!==t.accountId)throw Uc(Mc);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=Cc(this.browserStorage,a,o,Ma,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),c=await this.generateAuthenticationResult(e,t,r,s,a.canonicalAuthority,n);return this.cacheAccount(s),this.cacheNativeTokens(e,t,o,r,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return _n.generateHomeAccountId(e.client_info||o.EMPTY_STRING,In,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?vn.fromString(e.scope):vn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===G.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new vc(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw wt(ht);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,i,a){const s=this.addTelemetryFromNativeResponse(e),c=e.scope?vn.fromString(e.scope):vn.fromString(t.scope),l=e.account.properties||{},u=l.UID||n.oid||n.sub||o.EMPTY_STRING,d=l.TenantId||n.tid||o.EMPTY_STRING,h=Sn(r.getAccountInfo(),void 0,n,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const p=await this.generatePopAccessToken(e,t),f=t.tokenType===G.POP?G.POP:G.BEARER;return{authority:i,uniqueId:u,tenantId:d,scopes:c.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:p,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:new Date(1e3*Number(a+e.expires_in)),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,i,a,s){const c=_t(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=s+(t.tokenType===G.POP?o.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e,t),d={idToken:c,accessToken:Rt(n,t.authority,i,t.clientId,r.tid||a,u.printScopes(),l,0,Ma,void 0,t.tokenType,void 0,t.keyId)};this.nativeStorageManager.saveCacheRecord(d,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Ae(Se,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new On(t);n.validateAsUri();const{scopes:r,...o}=e,i=new vn(r||[]);i.appendScopes(l);const a={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case oi:case si:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),E.NONE}if(e.prompt)switch(e.prompt){case E.NONE:case E.CONSENT:case E.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),ya(da)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw ya(pa);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Oo,e.authenticationScheme===G.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new vc(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const o=await Ja(n.generateCnf.bind(n),Qr,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,a.keyId=o.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty($c)&&e.extraParameters.hasOwnProperty(jc)&&e.extraParameters.hasOwnProperty(sc)){const t=e.extraParameters[sc],n=e.redirectUri,r=e.extraParameters[jc];e.extraParameters={child_client_id:t,child_redirect_uri:n},e.redirectUri=r}}}class Bc{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(ho)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Ro,extensionId:this.extensionId,responseId:ja(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Bc(e,t,n,Po);return await r.sendHandshakeRequest(),r}catch(r){const o=new Bc(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Ro,extensionId:this.extensionId,responseId:ja(),body:{method:Mo}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(ya(sa)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Ro&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Mo){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(ya(ca))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===qo){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(Uc(e.code,e.description,e.ext));else{if(!e.result)throw Ae(Se,"Event does not contain result.");e.result.code&&e.result.description?n.reject(Uc(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===No){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case G.BEARER:case G.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class Kc{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(jr,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof oc&&r.subError===Mi?ya(Mi):r}return Ja(this.handleCodeResponseFromServer.bind(this),$r,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement($r,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Ja(this.authModule.updateAuthority.bind(this.authModule),zr,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Ja(this.authModule.acquireToken.bind(this.authModule),Br,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:hs}:e.loginHint?{credential:e.loginHint,type:ps}:null}}function Wc(e,t,n){const r=Pn(e);if(!r)throw Rn(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),ya(Ai)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),ya(Ti));return r}class Vc extends Oc{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,a,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{const t={popupName:this.generatePopupName(e.scopes||l,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),t.popup=this.openSizedPopup("about:blank",t),this.acquireTokenPopupAsync(e,t))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t){this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(ri),r=await Ja(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)(e,ui.Popup);Rs(r.authority);try{const o=await Ja(this.initializeAuthorizationCodeRequest.bind(this),Hr,this.logger,this.performanceClient,this.correlationId)(r),i=await Ja(this.createAuthCodeClient.bind(this),qr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),a=Bc.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let s;a&&(s=this.performanceClient.startMeasurement(gr,e.correlationId));const c=await i.getAuthCodeUrl({...r,nativeBroker:a}),l=new Kc(i,this.browserStorage,o,this.logger,this.performanceClient),u=this.initiateAuthRequest(c,t);this.eventHandler.emitEvent(Js,ui.Popup,{popupWindow:u},null);const d=await this.monitorPopupForHash(u,t.popupWindowParent),h=Ya(Wc,Jr,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(ic.removeThrottle(this.browserStorage,this.config.auth.clientId,o),h.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),s&&s.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw ya(la);const e=new zc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ri,this.performanceClient,this.nativeMessageHandler,h.accountId,this.nativeStorage,r.correlationId),{userRequestState:t}=ds.parseRequestState(this.browserCrypto,r.state);return await e.acquireToken({...r,state:t,prompt:void 0})}return await l.handleCodeResponse(h,r)}catch(o){throw t.popup?.close(),o instanceof xe&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),o}}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Xs,ui.Popup,e);const o=this.initializeServerTelemetryManager(li);try{await this.clearCacheOnLogout(e.account);const i=await Ja(this.createAuthCodeClient.bind(this),qr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{i.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&i.authority.protocolMode===Ce){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Zs,ui.Popup,e),r){const e={apiId:li,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=On.getAbsoluteUrl(r,Is());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const a=i.getLogoutUri(e);this.eventHandler.emitEvent(Zs,ui.Popup,e);const s=this.openPopup(a,t);if(this.eventHandler.emitEvent(Js,ui.Popup,{popupWindow:s},null),await this.monitorPopupForHash(s,t.popupWindowParent).catch((()=>{})),r){const e={apiId:li,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=On.getAbsoluteUrl(r,Is());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(i){throw t.popup?.close(),i instanceof xe&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(ec,ui.Popup,null,i),this.eventHandler.emitEvent(tc,ui.Popup),i}this.eventHandler.emitEvent(tc,ui.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),ya(Ii)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(ya(Mi));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===R.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw ya(Oi);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),ya(Pi)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:o}=t;const i=o.screenLeft?o.screenLeft:o.screenX,a=o.screenTop?o.screenTop:o.screenY,s=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!l||l<0||l>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=To),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=xo),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-xo/2+a)),(!h||h<0||h>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,s/2-To/2+i)),o.open(e,n,`width=${l}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(ui.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Ao}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Ao}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Qc{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Ko,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Yo,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:ni,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ya(Ii)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw wt(De,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(c){throw c instanceof oc&&c.subError===Mi?ya(Mi):c}const i=this.browserStorage.generateNonceKey(r),a=this.browserStorage.getTemporaryCache(i);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await Ja(this.authModule.updateAuthority.bind(this.authModule),zr,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(Go,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class Gc extends Oc{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,a,c,l),this.nativeStorage=s}async acquireToken(e){const t=await Ja(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)(e,ui.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(ni),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(nc,ui.Redirect))};try{const o=await Ja(this.initializeAuthorizationCodeRequest.bind(this),Hr,this.logger,this.performanceClient,this.correlationId)(t),i=await Ja(this.createAuthCodeClient.bind(this),qr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Qc(i,this.browserStorage,o,this.logger,this.performanceClient),s=await i.getAuthCodeUrl({...t,nativeBroker:Bc.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),c=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",r),await a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof xe&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=this.initializeServerTelemetryManager(ii);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,i]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ui.Redirect),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(Ko,!0)||o.EMPTY_STRING,s=On.removeHashFromUrl(a);if(s===On.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!Ss()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Wo,i,!0);const e={apiId:ii,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(a&&"null"!==a)this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),t=await this.navigationClient.navigateInternal(a,e);else{const n=function(){const e=new On(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(Ko,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(r){throw r instanceof xe&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.browserStorage.cleanRequestByInteractionType(ui.Redirect),r}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===R.QUERY?window.location.search:window.location.hash);let n=Pn(t);if(n){try{!function(e,t,n){if(!e.state)throw ya(xi);const r=Cs(t,e.state);if(!r)throw ya(Ei);if(r.interactionType!==n)throw ya(_i)}(n,this.browserCrypto,ui.Redirect)}catch(i){return i instanceof xe&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(Wo,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Wo)),o&&(n=Pn(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw ya(xi);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ya(la);const t=new zc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ri,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=ds.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw ya(Ki);const i=await Ja(this.createAuthCodeClient.bind(this),qr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});ic.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Qc(i,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(ci);try{this.eventHandler.emitEvent(Xs,ui.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:ci,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await Ja(this.createAuthCodeClient.bind(this),qr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===Ce)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Zs,ui.Redirect,t)}const i=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Zs,ui.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);if(!1!==e.onRedirectNavigate(i))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof xe&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(ec,ui.Redirect,null,r),this.eventHandler.emitEvent(tc,ui.Redirect),r}this.eventHandler.emitEvent(tc,ui.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return On.getAbsoluteUrl(t,Is())}}async function Yc(e,t,n,r,o){if(t.addQueueMeasurement(Or,r),!e)throw n.info("Navigate url is empty"),ya(Ii);return o?Ja(Xc,Nr,n,t,r)(e,o,t,r):Ya(Zc,Lr,n,t,r)(e)}async function Jc(e,t,n,r,o,i,a){return r.addQueueMeasurement(Mr,i),new Promise(((r,i)=>{t<ba&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(c),i(ya(Li))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let o="";n&&(o=a===R.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(c),r(o)}),n)})).finally((()=>{Ya(tl,po,o,r,i)(e)}))}function Xc(e,t,n,r){return n.addQueueMeasurement(Nr,r),new Promise(((n,r)=>{const o=el();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Zc(e){const t=el();return t.src=e,t}function el(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function tl(e){document.body===e.parentNode&&document.body.removeChild(e)}class nl extends Oc{constructor(e,t,n,r,o,i,a,s,c,l,u){super(e,t,n,r,o,i,s,l,u),this.apiId=a,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(ur,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==E.NONE&&t.prompt!==E.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${E.NONE}`),t.prompt=E.NONE):t.prompt=E.NONE;const n=await Ja(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,e.correlationId)(t,ui.Silent);Rs(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await Ja(this.createAuthCodeClient.bind(this),qr,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await Ja(this.silentTokenHelper.bind(this),Pr,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(i){if(i instanceof xe&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!o||!(i instanceof xe)||i.errorCode!==Io)throw i;this.performanceClient.addFields({retryError:i.errorCode},this.correlationId);const n=await Ja(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,e.correlationId)(t,ui.Silent);return await Ja(this.silentTokenHelper.bind(this),Pr,this.logger,this.performanceClient,this.correlationId)(o,n)}}logout(){return Promise.reject(ya(Fi))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Pr,n);const r=await Ja(this.initializeAuthorizationCodeRequest.bind(this),Hr,this.logger,this.performanceClient,n)(t),o=await Ja(e.getAuthCodeUrl.bind(e),Fr,this.logger,this.performanceClient,n)({...t,nativeBroker:Bc.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),i=new Kc(e,this.browserStorage,r,this.logger,this.performanceClient),a=await Ja(Yc,Or,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,c=await Ja(Jc,Mr,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),l=Ya(Wc,Jr,this.logger,this.performanceClient,this.correlationId)(c,s,this.logger);if(l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ya(la);const e=new zc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,n),{userRequestState:r}=ds.parseRequestState(this.browserCrypto,t.state);return Ja(e.acquireToken.bind(e),mr,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||E.NONE})}return Ja(i.handleCodeResponse.bind(i),jr,this.logger,this.performanceClient,n)(l,t)}}class rl extends Oc{async acquireToken(e){this.performanceClient.addQueueMeasurement(hr,e.correlationId);const t=await Ja(Rc,Er,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(si),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Ja(o.acquireTokenByRefreshToken.bind(o),kr,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(ya(Fi))}async createRefreshTokenClient(e){const t=await Ja(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Dc(t,this.performanceClient)}}class ol{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw ya(Qi);const r=t.id_token?It(t.id_token,Ma):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.authority?new Za(Za.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||ja()):void 0,a=this.loadAccount(e,n.clientInfo||t.client_info||"",r,i),s=this.loadIdToken(t,a.homeAccountId,a.environment,a.realm),c=this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n),l=this.loadRefreshToken(t,a.homeAccountId,a.environment);return this.generateAuthenticationResult(e,{account:a,idToken:s,accessToken:c,refreshToken:l},r,i)}loadAccount(e,t,n,r){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=_n.createFromAccountInfo(e.account);return this.storage.setAccount(t),t}if(!r||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ya(ea);const o=_n.generateHomeAccountId(t,r.authorityType,this.logger,this.cryptoObj,n),i=n?.tid,a=Cc(this.storage,r,o,Ma,n,t,r.hostnameAndPort,i,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(e,t,n,r){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=_t(t,n,e.id_token,this.config.auth.clientId,r);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,n,r,o,i){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?vn.fromString(t.scope):new vn(e.scopes),s=i.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,l=Rt(n,r,t.access_token,this.config.auth.clientId,o,a.printScopes(),s,c,Ma);return this.storage.setAccessTokenCredential(l),l}loadRefreshToken(e,t,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const r=Pt(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(r),r}generateAuthenticationResult(e,t,n,r){let o,i="",a=[],s=null;t?.accessToken&&(i=t.accessToken.secret,a=vn.fromString(t.accessToken.target).asArray(),s=new Date(1e3*Number(t.accessToken.expiresOn)),o=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const c=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:a,account:c.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:i,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}class il extends Sc{constructor(e){super(e),this.includeRedirectUri=!1}}class al extends Oc{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,s,c,l),this.apiId=a}async acquireToken(e){if(!e.code)throw ya(na);const t=await Ja(this.initializeAuthorizationRequest.bind(this),Dr,this.logger,this.performanceClient,e.correlationId)(e,ui.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await Ja(this.getClientConfiguration.bind(this),Ur,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new il(o);this.logger.verbose("Auth code client created");const a=new Kc(i,this.browserStorage,r,this.logger,this.performanceClient);return await Ja(a.handleCodeResponseFromServer.bind(a),$r,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof xe&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(ya(Fi))}}function sl(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function cl(e,t){try{Es(e)}catch(n){throw t.end({success:!1},n),n}}class ll{constructor(e){var t,n;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Qa(this.logger,this.performanceClient):Ct,this.eventHandler=new rc(this.logger),this.browserStorage=this.isBrowserEnvironment?new ks(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw mn(rn)}return{canonicalAuthority:e.authority?es(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth),this.performanceClient):(t=this.config.auth.clientId,n=this.logger,new ks(t,{cacheLocation:Ho,temporaryCacheLocation:Ho,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},Ct,n));const r={cacheLocation:Ho,temporaryCacheLocation:Ho,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new ks(this.config.auth.clientId,r,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new ol(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,t){const n=new ll(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(Os);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,r=this.performanceClient.startMeasurement(Rr,t);if(this.eventHandler.emitEvent(Ps),n)try{this.nativeExtensionProvider=await Bc.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Ja(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),fo,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(Os),r.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),As(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Bc.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(Yo,!0)||"",i=this.performanceClient.startMeasurement(ar,o);let a;if(this.eventHandler.emitEvent(Gs,ui.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new zc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ii,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);a=Ja(e.handleRedirectPromise.bind(e),uo,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);a=Ja(t.handleRedirectPromise.bind(t),lo,this.logger,this.performanceClient,i.event.correlationId)(e,i)}return a.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Us,ui.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Fs,ui.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:sl(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(Ys,ui.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent($s,ui.Redirect,null,n):this.eventHandler.emitEvent(Ds,ui.Redirect,null,n),this.eventHandler.emitEvent(Ys,ui.Redirect),i.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(ir,t);n.add({accountType:sl(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(_s(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(Hs,ui.Redirect,e):this.eventHandler.emitEvent(qs,ui.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)){r=new zc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ni,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof Lc&&qc(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof cs){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(i){throw n.end({success:!1},i),o?this.eventHandler.emitEvent($s,ui.Redirect,null,i):this.eventHandler.emitEvent(Ds,ui.Redirect,null,i),i}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(or,t);n.add({scenarioId:e.scenarioId,accountType:sl(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),cl(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(i){return Promise.reject(i)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(Hs,ui.Popup,e):this.eventHandler.emitEvent(qs,ui.Popup,e),this.canUseNative(e))o=this.acquireTokenNative({...e,correlationId:t},ri).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,requestId:e.requestId,accountType:sl(e.account)}),e))).catch((n=>{if(n instanceof Lc&&qc(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof cs){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Us,ui.Popup,e):this.eventHandler.emitEvent(Fs,ui.Popup,e),n.end({success:!0,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:sl(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent($s,ui.Popup,null,e):this.eventHandler.emitEvent(Ds,ui.Popup,null,e),n.end({success:!1},e),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(pr,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:sl(e.account)}),cl(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(zs,ui.Silent,n),this.canUseNative(n))r=this.acquireTokenNative(n,oi).catch((e=>{if(e instanceof Lc&&qc(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(Bs,ui.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:sl(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Ks,ui.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(er,t);cl(this.initialized,n),this.eventHandler.emitEvent(Ws,ui.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ya(oa);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Vs,ui.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:sl(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Qs,ui.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},ai,e.nativeAccountId).catch((e=>{throw e instanceof Lc&&qc(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:sl(r.account),success:!0}),r}throw ya(aa)}throw ya(ra)}catch(r){throw this.eventHandler.emitEvent(Qs,ui.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(co,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Ir,e.correlationId),t){case fi:case gi:case mi:const t=this.createSilentCacheClient(e.correlationId);return Ja(t.acquireToken.bind(t),lr,this.logger,this.performanceClient,e.correlationId)(e);default:throw wt(at)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(tr,e.correlationId),t){case fi:case mi:case yi:case vi:const t=this.createSilentRefreshClient(e.correlationId);return Ja(t.acquireToken.bind(t),hr,this.logger,this.performanceClient,e.correlationId)(e);default:throw wt(at)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Ar,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Ja(t.acquireToken.bind(t),ur,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);_s(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);Es(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=_n.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw ya(la);return new zc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Bc.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case E.NONE:case E.CONSENT:case E.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Vc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new nl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,oi,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Fc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new rl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new al(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ai,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return xs(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){"undefined"!==typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){"undefined"!==typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){try{e.key?.includes(k)&&this.eventHandler.emitEvent(Ls);const t=e.newValue||e.oldValue;if(!t)return;const n=JSON.parse(t);if("object"!==typeof n||!_n.isAccountEntity(n))return;const r=jn.toObject(new _n,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(Ms,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(Ns,void 0,r))}catch(e){return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?ja():o.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||di})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||di})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(nr,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),cl(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw ya($i);n.add({accountType:sl(r)});const i={clientId:this.config.auth.clientId,authority:e.authority||o.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},a=JSON.stringify(i),s=this.activeSilentTokenRequests.get(a);if("undefined"===typeof s){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=Ja(this.acquireTokenSilentAsync.bind(this),rr,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(a),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(a),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(a,o),{...await o,state:e.state}}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await s,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(rr,e.correlationId),this.eventHandler.emitEvent(Hs,ui.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Ja(Pc,_r,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||fi;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof cs&&e.subError!==os),r=e.errorCode===Io||e.errorCode===at,o=n&&r||e.errorCode===ts||e.errorCode===rs,i=wi.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==bi){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const i=this.performanceClient.startMeasurement(dr,r.correlationId);i.add({awaitIframeCorrelationId:n});const a=await t;if(i.end({success:a}),a)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Ja(this.acquireTokenBySilentIframe.bind(this),Ar,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Ja(this.acquireTokenBySilentIframe.bind(this),Ar,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(Fs,ui.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,requestId:t.requestId},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent($s,ui.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Bc.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,si).catch((async e=>{if(e instanceof Lc&&qc(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,wt(at);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),Ja(this.acquireTokenFromCache.bind(this),Ir,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===gi)throw n;return this.eventHandler.emitEvent(js,ui.Silent,e),Ja(this.acquireTokenByRefreshToken.bind(this),tr,this.logger,this.performanceClient,e.correlationId)(e,t)})))}}class ul{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new ka(e);return await n.initialize(),ll.createController(n,t)}(e);return new ul(e,t)}constructor(e,t){this.controller=t||new ll(new ka(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const dl=new ul({auth:{clientId:"YOUR_CLIENT_ID",authority:"https://login.microsoftonline.com/YOUR_TENANT_ID",redirectUri:"http://localhost:3000"}}),hl=async()=>{await(async()=>{await dl.initialize()})();const e={scopes:["Sites.Read.All"]};try{return(await dl.loginPopup(e)).account}catch(t){throw console.error("Login failed:",t),t}};function pl(e,t,n){let r=new Date(e.toString());switch(t.toLowerCase()){case"year":r.setFullYear(r.getFullYear()+n);break;case"quarter":r.setMonth(r.getMonth()+3*n);break;case"month":r.setMonth(r.getMonth()+n);break;case"week":r.setDate(r.getDate()+7*n);break;case"day":r.setDate(r.getDate()+n);break;case"hour":r.setTime(r.getTime()+36e5*n);break;case"minute":r.setTime(r.getTime()+6e4*n);break;case"second":r.setTime(r.getTime()+1e3*n);break;default:r=void 0}return r}function fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>!bl(e))).map((e=>e.replace(/^[\\|/]/,"").replace(/[\\|/]$/,""))).join("/").replace(/\\/g,"/")}function gl(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}function ml(e){return"function"===typeof e}function yl(e){return Array.isArray(e)}function vl(e){return/^https?:\/\/|^\/\//i.test(e)}function bl(e){return"undefined"===typeof e||null===e||e.length<1}function wl(e){return"undefined"!==typeof e&&null!==e}function Cl(e){return JSON.stringify(e)}function kl(e,t){return Object.hasOwnProperty.call(e,t)}let Sl;function Il(){return"undefined"===typeof Sl&&(Sl=new xl),Sl}class Tl{constructor(e){this.store=e,this.enabled=this.test()}get(e){if(!this.enabled)return null;const t=this.store.getItem(e);if(!wl(t))return null;const n=JSON.parse(t);return new Date(n.expiration)<=new Date?(this.delete(e),null):n.value}put(e,t,n){this.enabled&&this.store.setItem(e,this.createPersistable(t,n))}delete(e){this.enabled&&this.store.removeItem(e)}async getOrPut(e,t,n){if(!this.enabled)return t();let r=this.get(e);return null===r&&(r=await t(),this.put(e,r,n)),r}async deleteExpired(){if(this.enabled)for(let e=0;e<this.store.length;e++){const t=this.store.key(e);null!==t&&/["|']?pnp["|']? ?: ?1/i.test(this.store.getItem(t))&&await this.get(t)}}test(){try{return this.store.setItem("t","t"),this.store.removeItem("t"),!0}catch(e){return!1}}createPersistable(e,t){return void 0===t&&(t=pl(new Date,"minute",5)),Cl({pnp:1,expiration:t,value:e})}}class xl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this._store=e}get length(){return this._store.size}clear(){this._store.clear()}getItem(e){return this._store.get(e)}key(e){return Array.from(this._store)[e][0]}removeItem(e){this._store.delete(e)}setItem(e,t){this._store.set(e,t)}}function Al(){return function(e){const t=[...e];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(let i=0;i<t.length;i++)Reflect.apply(t[i],this,r)}}function El(){return async function(e){const t=[...e];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.reduce(((e,t)=>e.then((e=>Reflect.apply(t,this,e)))),Promise.resolve(r))}}function _l(){return function(e){const t=[...e];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(let i=0;i<t.length;i++)Reflect.apply(t[i],this,r);return this}}const Rl=Symbol.for("ObserverLifecycleFlags"),Pl=e=>t=>!((t[Rl]||0)&e),Ol=e=>t=>(t[Rl]=(t[Rl]||0)|e,t);Ol(1),Ol(2);class Ml{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.moments=e,this.observers=t,this._onProxy=null,this._emitProxy=null,this._inheritingObservers=!0}using(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r](this);return this}get on(){return null===this._onProxy&&(this._onProxy=new Proxy(this,{get:(e,t)=>Object.assign((n=>(e.cloneObserversOnChange(),Nl(e.observers,t,n,1),e)),{toArray:()=>Reflect.has(e.observers,t)?[...Reflect.get(e.observers,t)]:[],replace:n=>(e.cloneObserversOnChange(),Nl(e.observers,t,n,3),e),prepend:n=>(e.cloneObserversOnChange(),Nl(e.observers,t,n,2),e),clear:()=>!!Reflect.has(e.observers,t)&&(e.cloneObserversOnChange(),e.observers[t].length=0,!0)})})),this._onProxy}log(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.emit.log(e,t)}error(e){wl(e)&&this.emit.error(e)}get emit(){var e=this;return null===this._emitProxy&&(this._emitProxy=new Proxy(this,{get:(t,n)=>function(){const r=Reflect.has(t.observers,n)?Reflect.get(t.observers,n):[];for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if((!yl(r)||r.length<1)&&"error"===n)throw Error(`Unhandled Exception: ${i[0]}`);try{const e=Reflect.has(t.moments,n)?Reflect.get(t.moments,n):"init"===n||"dispose"===n?_l():Al();return Reflect.apply(e,t,[r,...i])}catch(s){if("error"===n)throw s;e.error(s)}finally{r&&r.length>0&&Reflect.set(t.observers,n,r.filter(Pl(2)))}}})),this._emitProxy}start(e){this.emit.init();const t=this.execute(e);return t.finally((()=>{try{this.emit.dispose()}catch(e){const t=Object.assign(Error("Error in dispose."),{innerException:e});this.error(t)}})).catch((()=>{})),t}cloneObserversOnChange(){this._inheritingObservers&&(this._inheritingObservers=!1,this.observers=Ll(this.observers))}}function Nl(e,t,n,r){if(!ml(n))throw Error("Observers must be functions.");if(Reflect.has(e,t))switch(r){case 1:e[t].push(n);break;case 2:e[t].unshift(n);break;case 3:e[t].length=0,e[t].push(n)}else e[t]=[n];return e[t]}function Ll(e){return Reflect.ownKeys(e).reduce(((t,n)=>(t[n]=[...e[n].filter(Pl(1))],t)),{})}function ql(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append",n=arguments.length>2?arguments[2]:void 0;return r=>Reflect.apply(Ul,r,[e,t,n])}function Ul(e,t,n){if(!wl(e)||!wl(e.observers))return this;ml(n)||(n=()=>!0);const r=Ll(e.observers),o=Object.keys(r).filter(n);for(let i=0;i<o.length;i++){const e=o[i],n=this.on[e];"replace"===t&&n.clear();r[e].forEach((e=>n(e)))}return this}function Dl(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Hl={construct:_l(),pre:El(),auth:El(),send:async function(e){if(!yl(e)||e.length<1)return;const t=e[0];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Reflect.apply(t,this,r)},parse:El(),post:El(),data:Al()};let Fl=class extends Ml{constructor(e,t){let n;if(super(Hl),this.InternalResolve=Symbol.for("Queryable_Resolve"),this.InternalReject=Symbol.for("Queryable_Reject"),this.InternalPromise=Symbol.for("Queryable_Promise"),this._query=new URLSearchParams,this.moments[this.InternalPromise]=function(e){const t=[...e];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.reduce(((e,t)=>Reflect.apply(t,this,e)),r)},"string"===typeof e)this._url=fl(e,t);else if(yl(e)){if(2!==e.length)throw Error("When using the tuple param exactly two arguments are expected.");if("string"!==typeof e[1])throw Error("Expected second tuple param to be a string.");n=e[0],this._url=fl(e[1],t)}else n=e,this._url=fl(n._url,t);"undefined"!==typeof n&&(this.observers=n.observers,this._inheritingObservers=!0)}concat(e){return this._url+=e,this}toRequestUrl(){let e=this.toUrl();const t=this.query.toString();return bl(t)||(e+=`${e.indexOf("?")>-1?"&":"?"}${t}`),e}get query(){return this._query}toUrl(){return this._url}execute(e){if(Reflect.ownKeys(this.observers).length<1)throw Error("No observers registered for this request. (https://pnp.github.io/pnpjs/queryable/queryable#no-observers-registered-for-this-request)");return setTimeout((async()=>{const t=gl();let n;const r=(e,n)=>{this.log(`[${t}] ${e}`,n)};try{r("Beginning request",0);const o={...e,headers:{...e.headers,"X-PnPjs-RequestId":t}};let[i,a,s]=await this.emit.pre(this.toRequestUrl(),o,void 0);if(r(`Url: ${i}`,1),"undefined"!==typeof s)return r("Result returned from pre, Emitting data"),this.emit.data(s),void r("Emitted data");r("Emitting auth"),[n,a]=await this.emit.auth(new URL(i),a),r("Emitted auth"),a={...a,...e,headers:{...a.headers,...e.headers}},r("Emitting send");let c=await this.emit.send(n,a);r("Emitted send"),r("Emitting parse"),[n,c,s]=await this.emit.parse(n,c,s),r("Emitted parse"),r("Emitting post"),[n,s]=await this.emit.post(n,s),r("Emitted post"),r("Emitting data"),this.emit.data(s),r("Emitted data")}catch(o){r(`Emitting error: "${o.message||o}"`,3),this.error(o),r("Emitted error",3)}finally{r("Finished request",0)}}),0),this.emit[this.InternalPromise](new Promise(((e,t)=>{this.on[this.InternalResolve].replace(e),this.on[this.InternalReject].replace(t)})))[0]}};var $l;function jl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}};return{method:e,...t,headers:{...t.headers}}}function zl(e){return this.start(jl("GET",e))}function Bl(e){return this.start(jl("POST",e))}function Kl(e,t,n){return Reflect.apply(t,e,[n])}async function Wl(e,t,n){if(!t.ok)throw await Gl.init(t);return[e,t,n]}function Vl(e){let t=e;return kl(e,"d")?t=kl(e.d,"results")?e.d.results:e.d:kl(e,"value")&&(t=e.value),t}function Ql(e){return t=>(t.on.parse.replace(Wl),t.on.parse((async(t,n,r)=>(n.ok&&"undefined"===typeof r&&(r=await e(n)),[t,n,r]))),t)}Fl=Dl([e=>new Proxy(e,{construct(e,t,n){const r=Object.assign((function(e){return ml($l)||($l=function(e){return Kl(this,zl,e)}),Reflect.apply($l,r,[e])}),Reflect.construct(e,t,n));return Reflect.setPrototypeOf(r,n.prototype),r}})],Fl);class Gl extends Error{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.status,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.statusText;super(e),this.response=t,this.status=n,this.statusText=r,this.isHttpRequestError=!0}static async init(e){const t=await e.clone().text();return new Gl(`Error making HttpClient request in queryable [${e.status}] ${e.statusText} ::> ${t}`,e)}}function Yl(e){const{interval:t,replace:n,retries:r}={replace:!0,interval:200,retries:3,...e};return e=>(n&&e.on.send.clear(),e.on.send((function(e,n){let o,i,a=t,s=0;const c=async()=>{if(s>=r)throw i||new Gl(`Retry count exceeded (${r}) for this request. ${o.status}: ${o.statusText};`,o);if(s++,"undefined"!==typeof o&&429!==(null===o||void 0===o?void 0:o.status)&&503!==(null===o||void 0===o?void 0:o.status)&&504!==(null===o||void 0===o?void 0:o.status))return o;"undefined"!==typeof o&&(o.headers.has("Retry-After")?a=1e3*parseInt(o.headers.get("Retry-After"),10):a*=2,this.log(`Attempt #${s} to retry request which failed with ${o.status}: ${o.statusText}`,0),await(t=a,new Promise((e=>{setTimeout(e,t)}))));try{const t=e.toString();return this.log(`Fetch: ${n.method} ${t}`,0),o=await fetch(t,n),o.ok?o:c()}catch(l){if(/AbortError/.test(l.name))throw l;return i=l,c()}var t};return c()})),e)}new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._local=e,this._session=t}get local(){return null===this._local&&(this._local=new Tl("undefined"===typeof localStorage?Il():localStorage)),this._local}get session(){return null===this._session&&(this._session=new Tl("undefined"===typeof sessionStorage?Il():sessionStorage)),this._session}};Symbol.for("CancelScopeId"),new Map;function Jl(e,t){return Object.assign({body:Cl(e)},t)}const Xl=e=>{return t=e,(e,n)=>{const r=new t(e,n);return r.emit.construct(e,n),r};var t};class Zl extends Fl{constructor(e,t){if("string"===typeof e){let n="",r="";if(vl(e)||e.lastIndexOf("/")<0)r=e,n=fl(e,t);else if(e.lastIndexOf("/")>e.lastIndexOf("(")){const o=e.lastIndexOf("/");r=e.slice(0,o),t=fl(e.slice(o),t),n=fl(r,t)}else{const o=e.lastIndexOf("(");r=e.slice(0,o),n=fl(e,t)}super(n),this.parentUrl=r}else{super(e,t);const n=yl(e)?e[0]:e;this.parentUrl=yl(e)?e[1]:n.toUrl()}}toRequestUrl(){const e=new URLSearchParams(this.query);let t=this.toUrl().replace(/'!(@.+?)::((?:[^']|'')+)'/gi,((t,n,r)=>(this.log(`Rewriting aliased parameter from match ${t} to label: ${n} value: ${r}`,0),e.set(n,`'${r}'`),n)));const n=e.toString();return bl(n)||(t+=`${t.indexOf("?")>-1?"&":"?"}${n}`),t}select(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&this.query.set("$select",t.join(",")),this}expand(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&this.query.set("$expand",t.join(",")),this}getParent(e,t){return e([this,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.parentUrl],t)}}const eu=Xl(Zl);class tu extends Zl{filter(e){return this.query.set("$filter",e),this}orderBy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n="$orderby",r=this.query.has(n)?this.query.get(n).split(","):[];return r.push(`${e} ${t?"asc":"desc"}`),this.query.set(n,r.join(",")),this}skip(e){return this.query.set("$skip",e.toString()),this}top(e){return this.query.set("$top",e.toString()),this}}const nu=Xl(tu);class ru extends Zl{}const ou=Xl(ru);const iu=(e,t)=>Kl(e,Bl,t),au=(e,t)=>((t=t||{}).headers={...t.headers||{},"X-HTTP-Method":"DELETE"},iu(e,t));class su{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._root=eu(e)}using(){return this._root.using(...arguments),this}create(e,t){return e(this._root,t)}}function cu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"object"!==typeof e||Reflect.has(e,"length")||(e=e._root),new su(e)}var lu,uu,du;function hu(e){if(bl(e))return"";let t=e.indexOf("_api/");return t<0&&(t=e.indexOf("_vti_bin/")),t>-1?e.substring(0,t):e}function pu(e){return bl(e)?"":/!(@.*?)::(.*?)/gi.test(e)?e.replace(/!(@.*?)::(.*)$/gi,((e,t,n)=>`!${t}::${n.replace(/'/gi,"''")}`)):encodeURIComponent(e.replace(/'/gi,"''"))}function fu(){return e=>(e.on.pre((async(e,t,n)=>(t.cache="no-cache",t.credentials="same-origin",[e,t,n]))),e.using((e=>(e.on.pre((async function(e,t,n){let r="PnPCoreJS:4.6.0:";const{pathname:o}=new URL(e);return r=o.split("/").filter((e=>!bl(e)&&["_api","v2.1","v2.0"].indexOf(e)<0)).map(((e,t,n)=>t===n.length-1?e.replace(/\(.*?$/i,"()"):e[0])).join("."),r.length>32&&(r=r.substring(0,32)),this.log(`Request Tag: ${r}`,0),t.headers={...t.headers,"X-ClientService-ClientTag":r},[e,t,n]})),e)),(e=>(e.on.error((function(e){this.emit[this.InternalReject](e)})),e)),(e=>(e.on.data((function(e){this.emit[this.InternalResolve](e)})),e))),e)}!function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.DistributionList=2]="DistributionList",e[e.SecurityGroup=4]="SecurityGroup",e[e.SharePointGroup=8]="SharePointGroup",e[e.All=15]="All"}(lu||(lu={})),function(e){e[e.None=0]="None",e[e.UserInfoList=1]="UserInfoList",e[e.Windows=2]="Windows",e[e.MembershipProvider=4]="MembershipProvider",e[e.RoleProvider=8]="RoleProvider",e[e.All=15]="All"}(uu||(uu={})),function(e){e[e.Invalid=-1]="Invalid",e[e.DefaultView=0]="DefaultView",e[e.NormalView=1]="NormalView",e[e.DialogView=2]="DialogView",e[e.View=3]="View",e[e.DisplayForm=4]="DisplayForm",e[e.DisplayFormDialog=5]="DisplayFormDialog",e[e.EditForm=6]="EditForm",e[e.EditFormDialog=7]="EditFormDialog",e[e.NewForm=8]="NewForm",e[e.NewFormDialog=9]="NewFormDialog",e[e.SolutionForm=10]="SolutionForm",e[e.PAGE_MAXITEMS=11]="PAGE_MAXITEMS"}(du||(du={}));function gu(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function mu(e){return function(t){return class extends t{constructor(){super(arguments.length<=0?void 0:arguments[0],arguments.length>1&&void 0!==(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:e)}}}}let yu=class extends tu{async add(e,t){const n=Jl({parameters:{Description:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",Language:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1033,Title:e,Url:t,UseSamePermissionsAsParentSite:!(arguments.length>5&&void 0!==arguments[5])||arguments[5],WebTemplate:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"STS"}});return iu(vu(this,"add"),n)}};yu=gu([mu("webs")],yu);const vu=Xl(yu);function bu(e,t){let n="_api/web";const r=/(_api[/|\\](site\/rootweb|site|web))/i.exec(e);return(null===r||void 0===r?void 0:r.length)>0&&(e=hu(e),n=r[1]),(null===t||void 0===t?void 0:t.indexOf("_api"))<0&&(e=fl(e,n)),e}let wu=class extends ru{constructor(e,t){super(e="string"===typeof e?bu(e,t):yl(e)?[e[0],bu(e[1],t)]:[e,bu(e.toUrl(),t)],t),this.delete=function(){return au(this)}}get webs(){return vu(this)}get allProperties(){return ou(this,"allproperties")}get webinfos(){return nu(this,"webinfos")}async getParentWeb(){const{Url:e,ParentWeb:t}=await this.select("Url","ParentWeb/ServerRelativeUrl").expand("ParentWeb")();return(null===t||void 0===t?void 0:t.ServerRelativeUrl)?Cu([this,fl(new URL(e).origin,t.ServerRelativeUrl)]):null}async update(e){return((e,t)=>((t=t||{}).headers={...t.headers,"X-HTTP-Method":"MERGE"},iu(e,t)))(this,Jl(e))}applyTheme(e,t,n,r){const o=Jl({backgroundImageUrl:n,colorPaletteUrl:e,fontSchemeUrl:t,shareGenerated:r});return iu(Cu(this,"applytheme"),o)}applyWebTemplate(e){return iu(Cu(this,`applywebtemplate(webTemplate='${pu(e)}')`))}getChanges(e){return iu(Cu(this,"getchanges"),Jl({query:e}))}mapToIcon(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Cu(this,`maptoicon(filename='${pu(e)}',progid='${pu(n)}',size=${t})`)()}getStorageEntity(e){return Cu(this,`getStorageEntity('${pu(e)}')`)()}setStorageEntity(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return iu(Cu(this,"setStorageEntity"),Jl({comments:r,description:n,key:e,value:t}))}removeStorageEntity(e){return iu(Cu(this,`removeStorageEntity('${pu(e)}')`))}getSubwebsFilteredForCurrentUser(){return nu(this,`getSubwebsFilteredForCurrentUser(nWebTemplateFilter=${arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1},nConfigurationFilter=${arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1})`)}availableWebTemplates(){return nu(this,`getavailablewebtemplates(lcid=${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1033},doincludecrosslanguage=${!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})`)}};wu=gu([mu("_api/web")],wu);const Cu=Xl(wu);su.prototype.batched=function(e){const t=cu(this),[n,r]=xu(t._root,e);return t.using(n),[t,r]},wu.prototype.batched=function(e){const t=Cu(this),[n,r]=xu(t,e);return t.using(n),[t,r]};const ku=Symbol.for("batch_registration"),Su=Symbol.for("batch_request");function Iu(){return Ql((async e=>function(e){const t=[],n="--batchresponse_",r=new RegExp("^HTTP/[0-9.]+ +([0-9]+) +(.*)","i"),o=e.split("\n");let i,a,s="batch",c={};const l=[];for(let u=0;u<o.length;++u){let e=o[u];switch(s){case"batch":if(e.substring(0,n.length)===n)s="batchHeaders";else if(""!==e.trim())throw Error(`Invalid response, line ${u}`);break;case"batchHeaders":""===e.trim()&&(s="status");break;case"status":{const t=r.exec(e);if(3!==t.length)throw Error(`Invalid status, line ${u}`);i=parseInt(t[1],10),a=t[2],s="statusHeaders";break}case"statusHeaders":if(""===e.trim())s="body";else{const t=e.split(":");2===(null===t||void 0===t?void 0:t.length)&&(c[t[0].trim()]=t[1].trim())}break;case"body":for(l.length=0;e.substring(0,n.length)!==n;)l.push(e),e=o[++u];u--,t.push(new Response(204===i?null:l.join(""),{status:i,statusText:a,headers:c})),s="batch",c={}}}if("status"!==s)throw Error("Unexpected end of input");return t}(await e.text())))}class Tu extends Zl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.toUrl().replace(/_api[\\|/].*$/i,"");super(t,"_api/$batch"),this.requestBaseUrl=t,this.using(ql(e,"replace"),Iu()),this.on.dispose((()=>{e.using(ql(this,"replace",(e=>/(auth|send|pre|init)/i.test(e))))}))}}function xu(e,t){const n=[],r=[],o=[],i=gl(),a=new Tu(e),s=new Tu(e),{headersCopyPattern:c}={headersCopyPattern:/Accept|Content-Type|IF-Match/i,...t};return[e=>(e.on.init((function(){if(ml(this[ku]))throw Error("This instance is already part of a batch. Please review the docs at https://pnp.github.io/pnpjs/concepts/batching#reuse.");return n.push(new Promise((e=>{this[ku]=e}))),this})),e.on.pre((async function(e,t,n){return kl(t.headers,"X-PnP-BatchNever")?("function"===typeof this[Su]&&(this[Su](),delete this[Su]),this.using(ql(s,"replace",(e=>/(init|pre)/i.test(e)))),[e,t,n]):(this.on.auth.clear(),this.on.send.replace((async function(e,t){const n=new Promise(((n,r)=>{o.push([this,e.toString(),t,n,r])}));return this.log(`[batch:${i}] (${(new Date).getTime()}) Adding request ${t.method} ${e.toString()} to batch.`,0),r.push(new Promise((e=>{this[Su]=e}))),this[ku](),n})),this.on.dispose((function(){ml(this[ku])&&(this[ku](),delete this[ku]),ml(this[Su])&&(this[Su](),delete this[Su],this.using(ql(s,"replace",(e=>/(auth|pre|send|init|dispose)/i.test(e)))))})),[e,t,n])})),e),async()=>{if(await Promise.all(n),o.length<1)return Promise.all(r).then((()=>{}));const e=[];let t="";for(let n=0;n<o.length;n++){const[,r,s]=o[n];"GET"===s.method?(t.length>0&&(e.push(`--changeset_${t}--\n\n`),t=""),e.push(`--batch_${i}\n`)):(t.length<1&&(t=gl(),e.push(`--batch_${i}\n`),e.push(`Content-Type: multipart/mixed; boundary="changeset_${t}"\n\n`)),e.push(`--changeset_${t}\n`)),e.push("Content-Type: application/http\n"),e.push("Content-Transfer-Encoding: binary\n\n");const l=new Headers(s.headers),u=vl(r)?r:fl(a.requestBaseUrl,r);if("GET"!==s.method){let t=s.method;l.has("X-HTTP-Method")&&(t=l.get("X-HTTP-Method"),l.delete("X-HTTP-Method")),e.push(`${t} ${u} HTTP/1.1\n`)}else e.push(`${s.method} ${u} HTTP/1.1\n`);l.has("Accept")||l.append("Accept","application/json"),l.has("Content-Type")||l.append("Content-Type","application/json;charset=utf-8"),l.forEach(((t,n)=>{c.test(n)&&e.push(`${n}: ${t}\n`)})),e.push("\n"),s.body&&e.push(`${s.body}\n\n`)}t.length>0&&(e.push(`--changeset_${t}--\n\n`),t=""),e.push(`--batch_${i}--\n`);const s=await iu(a,{body:e.join(""),headers:{"Content-Type":`multipart/mixed; boundary=batch_${i}`}});if(s.length!==o.length)throw Error("Could not properly parse responses to match requests in batch.");return new Promise(((e,t)=>{try{for(let e=0;e<s.length;e++){const[,,,t,r]=o[e];try{t(s[e])}catch(n){r(n)}}setTimeout(e,0)}catch(n){setTimeout((()=>t(n)),0)}})).then((()=>Promise.all(r))).then((()=>{}))}]}function Au(e){const t=new Date;return!wl(e)||t>e.expiration?null:e}const Eu=new Map;function _u(e){return t=>(t.on.pre((async function(t,n,r){return this.on.auth((async(t,n)=>{if(/get/i.test(n.method)||n.headers&&(kl(n.headers,"X-RequestDigest")||kl(n.headers,"Authorization")||kl(n.headers,"X-PnPjs-NoDigest")))return[t,n];const r=t.toString(),o=hu(r);let i=Au(Eu.get(o));return!wl(i)&&ml(e)&&(i=Au(e(r,n))),wl(i)||(i=await iu(eu([this,fl(o,"_api/contextinfo")]).using(Ql((e=>e.json())),(e=>(e.on.pre.prepend((async function(e,t,n){return t.headers={...t.headers,"X-PnP-BatchNever":"1"},[e,t,n]})),e))),{headers:{Accept:"application/json","X-PnPjs-NoDigest":"1"}}).then((e=>({expiration:pl(new Date,"second",e.FormDigestTimeoutSeconds),value:e.FormDigestValue})))),wl(i)&&(n.headers={"X-RequestDigest":i.value,...n.headers},Eu.set(o,i)),[t,n]})),[t,n,r]})),t)}class Ru extends Error{constructor(e){super(`SPFx Context supplied to ${e} Behavior is null or undefined.`)}static check(e,t){if("undefined"===typeof t||null===t)throw new Ru(e)}}function Pu(e){return Ru.check("SPFx",e),t=>(t.using((e=>(e.using(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{const r=async function(t,n,r){return n.headers={...n.headers,...e},[t,n,r]};return t?n.on.pre.prepend(r):n.on.pre(r),n}}({Accept:"application/json","Content-Type":"application/json;charset=utf-8"})),e)),fu(),Yl(),Ql((async e=>{if(e.headers.has("Content-Length")&&0===parseFloat(e.headers.get("Content-Length"))||204===e.status)return{};const t=await e.text();return Vl(t.replace(/\s/gi,"").length>0?JSON.parse(t):{})})),_u((t=>{var n,r,o;if(new RegExp(`^${fl(e.pageContext.web.absoluteUrl,"/_api")}`,"i").test(t)&&(null===(r=null===(n=null===e||void 0===e?void 0:e.pageContext)||void 0===n?void 0:n.legacyPageContext)||void 0===r?void 0:r.formDigestValue)){const t=new Date(e.pageContext.legacyPageContext.formDigestValue.split(",")[1]);return{value:e.pageContext.legacyPageContext.formDigestValue,expiration:pl(t,"second",(null===(o=e.pageContext.legacyPageContext)||void 0===o?void 0:o.formDigestTimeoutSeconds)-15||1585)}}}))),t.on.pre.prepend((async(t,n,r)=>(vl(t)||(t=fl(e.pageContext.web.absoluteUrl,t)),[t,n,r]))),t)}Reflect.defineProperty(su.prototype,"web",{configurable:!0,enumerable:!0,get:function(){return this.create(Cu)}});var Ou=function(){return Ou=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ou.apply(this,arguments)};function Mu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Nu(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}function qu(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Uu=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Du=qu((function(e){return Uu.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Hu=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Fu="-ms-",$u="-moz-",ju="-webkit-",zu="comm",Bu="rule",Ku="decl",Wu="@keyframes",Vu=Math.abs,Qu=String.fromCharCode,Gu=Object.assign;function Yu(e){return e.trim()}function Ju(e,t,n){return e.replace(t,n)}function Xu(e,t){return e.indexOf(t)}function Zu(e,t){return 0|e.charCodeAt(t)}function ed(e,t,n){return e.slice(t,n)}function td(e){return e.length}function nd(e){return e.length}function rd(e,t){return t.push(e),e}var od=1,id=1,ad=0,sd=0,cd=0,ld="";function ud(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:od,column:id,length:a,return:""}}function dd(e,t){return Gu(ud("",null,null,"",null,null,0),e,{length:-e.length},t)}function hd(){return cd=sd>0?Zu(ld,--sd):0,id--,10===cd&&(id=1,od--),cd}function pd(){return cd=sd<ad?Zu(ld,sd++):0,id++,10===cd&&(id=1,od++),cd}function fd(){return Zu(ld,sd)}function gd(){return sd}function md(e,t){return ed(ld,e,t)}function yd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vd(e){return od=id=1,ad=td(ld=e),sd=0,[]}function bd(e){return ld="",e}function wd(e){return Yu(md(sd-1,Sd(91===e?e+2:40===e?e+1:e)))}function Cd(e){for(;(cd=fd())&&cd<33;)pd();return yd(e)>2||yd(cd)>3?"":" "}function kd(e,t){for(;--t&&pd()&&!(cd<48||cd>102||cd>57&&cd<65||cd>70&&cd<97););return md(e,gd()+(t<6&&32==fd()&&32==pd()))}function Sd(e){for(;pd();)switch(cd){case e:return sd;case 34:case 39:34!==e&&39!==e&&Sd(cd);break;case 40:41===e&&Sd(e);break;case 92:pd()}return sd}function Id(e,t){for(;pd()&&e+cd!==57&&(e+cd!==84||47!==fd()););return"/*"+md(t,sd-1)+"*"+Qu(47===e?e:pd())}function Td(e){for(;!yd(fd());)pd();return md(e,sd)}function xd(e){return bd(Ad("",null,null,null,[""],e=vd(e),0,[0],e))}function Ad(e,t,n,r,o,i,a,s,c){for(var l=0,u=0,d=a,h=0,p=0,f=0,g=1,m=1,y=1,v=0,b="",w=o,C=i,k=r,S=b;m;)switch(f=v,v=pd()){case 40:if(108!=f&&58==Zu(S,d-1)){-1!=Xu(S+=Ju(wd(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=wd(v);break;case 9:case 10:case 13:case 32:S+=Cd(f);break;case 92:S+=kd(gd()-1,7);continue;case 47:switch(fd()){case 42:case 47:rd(_d(Id(pd(),gd()),t,n),c);break;default:S+="/"}break;case 123*g:s[l++]=td(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+u:p>0&&td(S)-d&&rd(p>32?Rd(S+";",r,n,d-1):Rd(Ju(S," ","")+";",r,n,d-2),c);break;case 59:S+=";";default:if(rd(k=Ed(S,t,n,l,u,o,s,b,w=[],C=[],d),i),123===v)if(0===u)Ad(S,t,k,k,w,i,d,s,C);else switch(99===h&&110===Zu(S,3)?100:h){case 100:case 109:case 115:Ad(e,k,k,r&&rd(Ed(e,k,k,0,0,o,s,b,o,w=[],d),C),o,C,d,s,r?w:C);break;default:Ad(S,k,k,k,[""],C,0,s,C)}}l=u=p=0,g=y=1,b=S="",d=a;break;case 58:d=1+td(S),p=f;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==hd())continue;switch(S+=Qu(v),v*g){case 38:y=u>0?1:(S+="\f",-1);break;case 44:s[l++]=(td(S)-1)*y,y=1;break;case 64:45===fd()&&(S+=wd(pd())),h=fd(),u=d=td(b=S+=Td(gd())),v++;break;case 45:45===f&&2==td(S)&&(g=0)}}return i}function Ed(e,t,n,r,o,i,a,s,c,l,u){for(var d=o-1,h=0===o?i:[""],p=nd(h),f=0,g=0,m=0;f<r;++f)for(var y=0,v=ed(e,d+1,d=Vu(g=a[f])),b=e;y<p;++y)(b=Yu(g>0?h[y]+" "+v:Ju(v,/&\f/g,h[y])))&&(c[m++]=b);return ud(e,t,n,0===o?Bu:s,c,l,u)}function _d(e,t,n){return ud(e,t,n,zu,Qu(cd),ed(e,2,-2),0)}function Rd(e,t,n,r){return ud(e,t,n,Ku,ed(e,0,r),ed(e,r+1,-1),r)}function Pd(e,t){for(var n="",r=nd(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Od(e,t,n,r){switch(e.type){case"@import":case Ku:return e.return=e.return||e.value;case zu:return"";case Wu:return e.return=e.value+"{"+Pd(e.children,r)+"}";case Bu:e.value=e.props.join(",")}return td(n=Pd(e.children,r))?e.return=e.value+"{"+n+"}":""}function Md(e){var t=nd(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}var Nd=function(e,t,n){for(var r=0,o=0;r=o,o=fd(),38===r&&12===o&&(t[n]=1),!yd(o);)pd();return md(e,sd)},Ld=function(e,t){return bd(function(e,t){var n=-1,r=44;do{switch(yd(r)){case 0:38===r&&12===fd()&&(t[n]=1),e[n]+=Nd(sd-1,t,n);break;case 2:e[n]+=wd(r);break;case 4:if(44===r){e[++n]=58===fd()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Qu(r)}}while(r=pd());return e}(vd(e),t))},qd=new WeakMap,Ud=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||qd.get(n))&&!r){qd.set(e,!0);for(var o=[],i=Ld(t,o),a=n.props,s=0,c=0;s<i.length;s++)for(var l=0;l<a.length;l++,c++)e.props[c]=o[s]?i[s].replace(/&\f/g,a[l]):a[l]+" "+i[s]}}},Dd=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Hd(e,t){switch(function(e,t){return 45^Zu(e,0)?(((t<<2^Zu(e,0))<<2^Zu(e,1))<<2^Zu(e,2))<<2^Zu(e,3):0}(e,t)){case 5103:return ju+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ju+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ju+e+$u+e+Fu+e+e;case 6828:case 4268:return ju+e+Fu+e+e;case 6165:return ju+e+Fu+"flex-"+e+e;case 5187:return ju+e+Ju(e,/(\w+).+(:[^]+)/,ju+"box-$1$2"+Fu+"flex-$1$2")+e;case 5443:return ju+e+Fu+"flex-item-"+Ju(e,/flex-|-self/,"")+e;case 4675:return ju+e+Fu+"flex-line-pack"+Ju(e,/align-content|flex-|-self/,"")+e;case 5548:return ju+e+Fu+Ju(e,"shrink","negative")+e;case 5292:return ju+e+Fu+Ju(e,"basis","preferred-size")+e;case 6060:return ju+"box-"+Ju(e,"-grow","")+ju+e+Fu+Ju(e,"grow","positive")+e;case 4554:return ju+Ju(e,/([^-])(transform)/g,"$1"+ju+"$2")+e;case 6187:return Ju(Ju(Ju(e,/(zoom-|grab)/,ju+"$1"),/(image-set)/,ju+"$1"),e,"")+e;case 5495:case 3959:return Ju(e,/(image-set\([^]*)/,ju+"$1$`$1");case 4968:return Ju(Ju(e,/(.+:)(flex-)?(.*)/,ju+"box-pack:$3"+Fu+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ju+e+e;case 4095:case 3583:case 4068:case 2532:return Ju(e,/(.+)-inline(.+)/,ju+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(td(e)-1-t>6)switch(Zu(e,t+1)){case 109:if(45!==Zu(e,t+4))break;case 102:return Ju(e,/(.+:)(.+)-([^]+)/,"$1"+ju+"$2-$3$1"+$u+(108==Zu(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Xu(e,"stretch")?Hd(Ju(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Zu(e,t+1))break;case 6444:switch(Zu(e,td(e)-3-(~Xu(e,"!important")&&10))){case 107:return Ju(e,":",":"+ju)+e;case 101:return Ju(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ju+(45===Zu(e,14)?"inline-":"")+"box$3$1"+ju+"$2$3$1"+Fu+"$2box$3")+e}break;case 5936:switch(Zu(e,t+11)){case 114:return ju+e+Fu+Ju(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ju+e+Fu+Ju(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ju+e+Fu+Ju(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ju+e+Fu+e+e}return e}var Fd="undefined"!==typeof document,$d=Fd?void 0:function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}((function(){return qu((function(){var e={};return function(t){return e[t]}}))})),jd=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ku:e.return=Hd(e.value,e.length);break;case Wu:return Pd([dd(e,{value:Ju(e.value,"@","@"+ju)})],r);case Bu:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pd([dd(e,{props:[Ju(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Pd([dd(e,{props:[Ju(t,/:(plac\w+)/,":"+ju+"input-$1")]}),dd(e,{props:[Ju(t,/:(plac\w+)/,":-moz-$1")]}),dd(e,{props:[Ju(t,/:(plac\w+)/,Fu+"input-$1")]})],r)}return""}))}}],zd=function(e){var t=e.key;if(Fd&&"css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||jd;var o,i,a={},s=[];Fd&&(o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)})));var c,l=[Ud,Dd];if(Fd){var u,d=[Od,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=Md(l.concat(r,d));i=function(e,t,n,r){u=n,Pd(xd(e?e+"{"+t.styles+"}":t.styles),h),r&&(y.inserted[t.name]=!0)}}else{var p=[Od],f=Md(l.concat(r,p)),g=$d(r)(t),m=function(e,t){var n=t.name;return void 0===g[n]&&(g[n]=Pd(xd(e?e+"{"+t.styles+"}":t.styles),f)),g[n]};i=function(e,t,n,r){var o=t.name,i=m(e,t);return void 0===y.compat?(r&&(y.inserted[o]=!0),i):r?void(y.inserted[o]=i):i}}var y={key:t,sheet:new Hu({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return y.sheet.hydrate(s),y};var Bd="undefined"!==typeof document,Kd=function(e){return e()},Wd=!!t.useInsertionEffect&&t.useInsertionEffect,Vd=Bd&&Wd||Kd,Qd="undefined"!==typeof document,Gd=(0,e.createContext)("undefined"!==typeof HTMLElement?zd({key:"css"}):null);Gd.Provider;var Yd=function(t){return(0,e.forwardRef)((function(n,r){var o=(0,e.useContext)(Gd);return t(n,o,r)}))};Qd||(Yd=function(t){return function(n){var r=(0,e.useContext)(Gd);return null===r?(r=zd({key:"css"}),(0,e.createElement)(Gd.Provider,{value:r},t(n,r))):t(n,r)}});var Jd=(0,e.createContext)({});var Xd="undefined"!==typeof document;var Zd=function(e,t,n){var r=e.key+"-"+t.name;(!1===n||!1===Xd&&void 0!==e.compat)&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var eh={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},th=/[A-Z]|^ms/g,nh=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rh=function(e){return 45===e.charCodeAt(1)},oh=function(e){return null!=e&&"boolean"!==typeof e},ih=qu((function(e){return rh(e)?e:e.replace(th,"-$&").toLowerCase()})),ah=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(nh,(function(e,t,n){return ch={name:t,styles:n,next:ch},t}))}return 1===eh[e]||rh(e)||"number"!==typeof t||0===t?t:t+"px"};function sh(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ch={name:n.name,styles:n.styles,next:ch},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ch={name:r.name,styles:r.styles,next:ch},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=sh(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":oh(a)&&(r+=ih(i)+":"+ah(i,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=sh(e,t,a);switch(i){case"animation":case"animationName":r+=ih(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var c=0;c<a.length;c++)oh(a[c])&&(r+=ih(i)+":"+ah(i,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=ch,i=n(e);return ch=o,sh(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var ch,lh=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var uh=Du,dh=function(e){return"theme"!==e},hh=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?uh:dh},ph=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},fh="undefined"!==typeof document,gh=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;Zd(n,r,o);var i=Vd((function(){return function(e,t,n){Zd(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o="",i=t;do{var a=e.insert(t===i?"."+r:"",i,e.sheet,!0);Xd||void 0===a||(o+=a),i=i.next}while(void 0!==i);if(!Xd&&0!==o.length)return o}}(n,r,o)}));if(!fh&&void 0!==i){for(var a,s=r.name,c=r.next;void 0!==c;)s+=" "+c.name,c=c.next;return(0,e.createElement)("style",((a={})["data-emotion"]=n.key+" "+s,a.dangerouslySetInnerHTML={__html:i},a.nonce=n.sheet.nonce,a))}return null},mh=function t(n,r){var o,i,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(o=r.label,i=r.target);var c=ph(n,r,a),l=c||hh(s),u=!l("as");return function(){var d=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==o&&h.push("label:"+o+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var p=d.length,f=1;f<p;f++)h.push(d[f],d[0][f])}var g=Yd((function(t,n,r){var o=u&&t.as||s,a="",d=[],p=t;if(null==t.theme){for(var f in p={},t)p[f]=t[f];p.theme=(0,e.useContext)(Jd)}"string"===typeof t.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,d,t.className):null!=t.className&&(a=t.className+" ");var g=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";ch=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=sh(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=sh(n,t,e[a]),r&&(o+=i[a]);lh.lastIndex=0;for(var s,c="";null!==(s=lh.exec(o));)c+="-"+s[1];var l=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+c;return{name:l,styles:o,next:ch}}(h.concat(d),n.registered,p);a+=n.key+"-"+g.name,void 0!==i&&(a+=" "+i);var m=u&&void 0===c?hh(o):l,y={};for(var v in t)u&&"as"===v||m(v)&&(y[v]=t[v]);return y.className=a,y.ref=r,(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gh,{cache:n,serialized:g,isStringTag:"string"===typeof o}),(0,e.createElement)(o,y))}));return g.displayName=void 0!==o?o:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(e,n){return t(e,Lu({},r,n,{shouldForwardProp:ph(g,n,!0)})).apply(void 0,h)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){mh[e]=mh(e)}));var yh,vh={exports:{}};yh=vh,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&n.push(a)}}else if("object"===i){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var s in o)e.call(o,s)&&o[s]&&n.push(s)}}}return n.join(" ")}yh.exports?(t.default=t,yh.exports=t):window.classNames=t}();var bh,wh,Ch,kh,Sh,Ih,Th,xh,Ah,Eh,_h,Rh,Ph,Oh,Mh=vh.exports,Nh=e.createContext(void 0),Lh=function(){return e.useContext(Nh)},qh="ps-sidebar-root",Uh="ps-sidebar-container",Dh="ps-sidebar-image",Hh="ps-sidebar-backdrop",Fh="ps-collapsed",$h="ps-toggled",jh="ps-rtl",zh="ps-broken",Bh="ps-menu-root",Kh="ps-menuitem-root",Wh="ps-submenu-root",Vh="ps-menu-button",Qh="ps-menu-prefix",Gh="ps-menu-suffix",Yh="ps-menu-label",Jh="ps-menu-icon",Xh="ps-submenu-content",Zh="ps-submenu-expand-icon",ep="ps-disabled",tp="ps-active",np="ps-open",rp=mh.div(bh||(bh=Nu(["\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  z-index: 1;\n  background-color: rgb(0, 0, 0, 0.3);\n"],["\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  z-index: 1;\n  background-color: rgb(0, 0, 0, 0.3);\n"]))),op={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},ip=mh.aside(wh||(wh=Nu(["\n  position: relative;\n  border-right-width: 1px;\n  border-right-style: solid;\n  border-color: #efefef;\n\n  transition: ",";\n\n  width: ",";\n  min-width: ",";\n\n  &."," {\n    width: ",";\n    min-width: ",";\n  }\n\n  &."," {\n    direction: rtl;\n    border-right-width: none;\n    border-left-width: 1px;\n    border-right-style: none;\n    border-left-style: solid;\n  }\n\n  &."," {\n    position: fixed;\n    height: 100%;\n    top: 0px;\n    z-index: 100;\n\n    ","\n\n    &."," {\n      ","\n    }\n\n    &."," {\n      ","\n    }\n\n    &."," {\n      right: -",";\n\n      &."," {\n        right: -",";\n      }\n\n      &."," {\n        right: 0;\n      }\n    }\n  }\n\n  ","\n"],["\n  position: relative;\n  border-right-width: 1px;\n  border-right-style: solid;\n  border-color: #efefef;\n\n  transition: ",";\n\n  width: ",";\n  min-width: ",";\n\n  &."," {\n    width: ",";\n    min-width: ",";\n  }\n\n  &."," {\n    direction: rtl;\n    border-right-width: none;\n    border-left-width: 1px;\n    border-right-style: none;\n    border-left-style: solid;\n  }\n\n  &."," {\n    position: fixed;\n    height: 100%;\n    top: 0px;\n    z-index: 100;\n\n    ","\n\n    &."," {\n      ","\n    }\n\n    &."," {\n      ","\n    }\n\n    &."," {\n      right: -",";\n\n      &."," {\n        right: -",";\n      }\n\n      &."," {\n        right: 0;\n      }\n    }\n  }\n\n  ","\n"])),(function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")}),(function(e){return e.width}),(function(e){return e.width}),Fh,(function(e){return e.collapsedWidth}),(function(e){return e.collapsedWidth}),jh,zh,(function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")}),Fh,(function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")}),$h,(function(e){return e.rtl?"":"left: 0;"}),jh,(function(e){return e.width}),Fh,(function(e){return e.collapsedWidth}),$h,(function(e){return e.rootStyles})),ap=mh.div(Ch||(Ch=Nu(["\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 3;\n\n  ","\n"],["\n  position: relative;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 3;\n\n  ","\n"])),(function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""})),sp=mh.img(kh||(kh=Nu(["\n  &."," {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: center;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 2;\n  }\n"],["\n  &."," {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: center;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 2;\n  }\n"])),Dh),cp=e.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),lp=e.forwardRef((function(t,n){var r,o=t.collapsed,i=t.toggled,a=t.onBackdropClick,s=t.onBreakPoint,c=t.width,l=void 0===c?"250px":c,u=t.collapsedWidth,d=void 0===u?"80px":u,h=t.defaultCollapsed,p=t.className,f=t.children,g=t.breakPoint,m=t.customBreakPoint,y=t.backgroundColor,v=void 0===y?"rgb(249, 249, 249, 0.7)":y,b=t.transitionDuration,w=void 0===b?300:b,C=t.image,k=t.rtl,S=t.rootStyles,I=Mu(t,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),T=e.useRef();T.current=function(e){null===s||void 0===s||s(e)};var x=function(t){var n=e.useState(!!t&&"undefined"!==typeof window&&window.matchMedia(t).matches),r=n[0],o=n[1];return e.useEffect((function(){if(t){var e=window.matchMedia(t),n=function(){e.matches!==r&&o(e.matches)};return n(),e.addEventListener("change",n),function(){return e.removeEventListener("change",n)}}}),[r,t]),r}(m?"(max-width: ".concat(m,")"):g?["xs","sm","md","lg","xl","xxl"].includes(g)?"(max-width: ".concat(op[g],")"):"always"===g||"all"===g?("always"===g&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(g,")"):void 0),A=e.useState(!1),E=A[0],_=A[1],R=Lh(),P=null!==o&&void 0!==o?o:!(E||!h)||(null===R||void 0===R?void 0:R.collapsed),O=null!==i&&void 0!==i?i:null===R||void 0===R?void 0:R.toggled,M=function(){null===a||void 0===a||a(),null===R||void 0===R||R.updateSidebarState({toggled:!1})};return e.useEffect((function(){var e;null===(e=T.current)||void 0===e||e.call(T,x)}),[x]),e.useEffect((function(){null===R||void 0===R||R.updateSidebarState({broken:x,rtl:k,transitionDuration:w})}),[x,null===R||void 0===R?void 0:R.updateSidebarState,k,w]),e.useEffect((function(){E||(null===R||void 0===R||R.updateSidebarState({collapsed:h}),_(!0))}),[h,E,null===R||void 0===R?void 0:R.updateSidebarState]),e.createElement(cp.Provider,{value:{collapsed:P,toggled:O,rtl:k,transitionDuration:w}},e.createElement(ip,Ou({ref:n,"data-testid":"".concat(qh,"-test-id"),rtl:k,rootStyles:S,width:l,collapsedWidth:d,transitionDuration:w,className:Mh(qh,(r={},r[Fh]=P,r[$h]=O,r[zh]=x,r[jh]=k,r),p)},I),e.createElement(ap,{"data-testid":"".concat(Uh,"-test-id"),className:Uh,backgroundColor:v},f),C&&e.createElement(sp,{"data-testid":"".concat(Dh,"-test-id"),src:C,alt:"sidebar background",className:Dh}),x&&O&&e.createElement(rp,{"data-testid":"".concat(Hh,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:M,onKeyPress:M,className:Hh})))})),up=mh.ul(Sh||(Sh=Nu(["\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n"],["\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n"]))),dp=mh.nav(Ih||(Ih=Nu(["\n  &."," {\n    ","\n  }\n"],["\n  &."," {\n    ","\n  }\n"])),Bh,(function(e){return e.rootStyles})),hp=e.createContext(void 0),pp=e.createContext(0),fp=e.forwardRef((function(t,n){var r=t.children,o=t.className,i=t.transitionDuration,a=void 0===i?300:i,s=t.closeOnClick,c=void 0!==s&&s,l=t.rootStyles,u=t.menuItemStyles,d=t.renderExpandIcon,h=Mu(t,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),p=e.useMemo((function(){return{transitionDuration:a,closeOnClick:c,menuItemStyles:u,renderExpandIcon:d}}),[a,c,u,d]);return e.createElement(hp.Provider,{value:p},e.createElement(pp.Provider,{value:0},e.createElement(dp,Ou({ref:n,className:Mh(Bh,o),rootStyles:l},h),e.createElement(up,null,r))))})),gp=function(){var t=e.useContext(hp);if(void 0===t)throw new Error("Menu Component is required!");return t},mp=mh.div(Th||(Th=Nu(["\n  height: 0px;\n  overflow: hidden;\n  z-index: 999;\n  transition: height ","ms;\n  box-sizing: border-box;\n  background-color: white;\n\n  ","\n\n  ","\n\n  ",";\n\n  ",";\n"],["\n  height: 0px;\n  overflow: hidden;\n  z-index: 999;\n  transition: height ","ms;\n  box-sizing: border-box;\n  background-color: white;\n\n  ","\n\n  ","\n\n  ",";\n\n  ",";\n"])),(function(e){return e.transitionDuration}),(function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&"\n     background-color: white;\n     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;\n     "}),(function(e){return e.defaultOpen&&"height: auto;display: block;"}),(function(e){var t=e.collapsed,n=e.firstLevel,r=e.openWhenCollapsed;return t&&n?"\n      position: fixed;\n      padding-left: 0px;\n      width: 200px;\n      border-radius: 4px;\n      height: auto!important;\n      display: block!important;     \n      transition: none!important;     \n      visibility: ".concat(r?"visible":"hidden",";\n     "):"\n      position: static!important;\n      transform: none!important;\n      "}),(function(e){return e.rootStyles})),yp=e.forwardRef((function(t,n){var r=t.children,o=t.open,i=t.openWhenCollapsed,a=t.firstLevel,s=t.collapsed,c=t.defaultOpen,l=Mu(t,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),u=gp().transitionDuration,d=e.useState(c)[0];return e.createElement(mp,Ou({"data-testid":"".concat(Xh,"-test-id"),ref:n,firstLevel:a,collapsed:s,open:o,openWhenCollapsed:i,transitionDuration:u,defaultOpen:d},l),e.createElement(up,null,r))})),vp=mh.span(xh||(xh=Nu(["\n  flex-grow: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  ",";\n"],["\n  flex-grow: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  ",";\n"])),(function(e){return e.rootStyles})),bp=mh.span(Ah||(Ah=Nu(["\n  width: 35px;\n  min-width: 35px;\n  height: 35px;\n  line-height: 35px;\n  text-align: center;\n  display: inline-block;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ","\n\n  ",";\n"],["\n  width: 35px;\n  min-width: 35px;\n  height: 35px;\n  line-height: 35px;\n  text-align: center;\n  display: inline-block;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ","\n\n  ",";\n"])),(function(e){return e.rtl?"margin-left: 10px;":"margin-right: 10px;"}),(function(e){return e.rootStyles})),wp=mh.span(Eh||(Eh=Nu(["\n  ","\n  opacity: ",";\n  transition: opacity ","ms;\n\n  ",";\n"],["\n  ","\n  opacity: ",";\n  transition: opacity ","ms;\n\n  ",";\n"])),(function(e){return e.rtl?"margin-left: 5px;":"margin-right: 5px;"}),(function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"}),(function(e){return e.transitionDuration}),(function(e){return e.rootStyles})),Cp=mh.span(_h||(_h=Nu(["\n  margin-right: 5px;\n  margin-left: 5px;\n  opacity: ",";\n  transition: opacity ","ms;\n\n  ",";\n"],["\n  margin-right: 5px;\n  margin-left: 5px;\n  opacity: ",";\n  transition: opacity ","ms;\n\n  ",";\n"])),(function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"}),(function(e){return e.transitionDuration}),(function(e){return e.rootStyles})),kp=mh.span(Rh||(Rh=Nu(["\n  ","\n\n  ",";\n"],["\n  ","\n\n  ",";\n"])),(function(e){var t=e.collapsed,n=e.level,r=e.rtl;return t&&0===n&&"\n    position: absolute;\n    ".concat(r?"left: 10px;":"right: 10px;","\n    top: 50%;\n    transform: translateY(-50%);\n    \n    ")}),(function(e){return e.rootStyles})),Sp=mh.span(Ph||(Ph=Nu(["\n  display: inline-block;\n  transition: transform 0.3s;\n  ","\n\n  width: 5px;\n  height: 5px;\n  transform: rotate(",");\n"],["\n  display: inline-block;\n  transition: transform 0.3s;\n  ","\n\n  width: 5px;\n  height: 5px;\n  transform: rotate(",");\n"])),(function(e){return e.rtl?"\n          border-left: 2px solid currentcolor;\n          border-top: 2px solid currentcolor;\n        ":" border-right: 2px solid currentcolor;\n          border-bottom: 2px solid currentcolor;\n        "}),(function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"})),Ip=mh.span(Oh||(Oh=Nu(["\n  width: 5px;\n  height: 5px;\n  background-color: currentcolor;\n  border-radius: 50%;\n  display: inline-block;\n"],["\n  width: 5px;\n  height: 5px;\n  background-color: currentcolor;\n  border-radius: 50%;\n  display: inline-block;\n"]))),Tp="top",xp="bottom",Ap="right",Ep="left",_p="auto",Rp=[Tp,xp,Ap,Ep],Pp="start",Op="end",Mp="viewport",Np="popper",Lp=Rp.reduce((function(e,t){return e.concat([t+"-"+Pp,t+"-"+Op])}),[]),qp=[].concat(Rp,[_p]).reduce((function(e,t){return e.concat([t,t+"-"+Pp,t+"-"+Op])}),[]),Up=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Dp(e){return e?(e.nodeName||"").toLowerCase():null}function Hp(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fp(e){return e instanceof Hp(e).Element||e instanceof Element}function $p(e){return e instanceof Hp(e).HTMLElement||e instanceof HTMLElement}function jp(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Hp(e).ShadowRoot||e instanceof ShadowRoot)}var zp={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];$p(o)&&Dp(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});$p(r)&&Dp(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Bp(e){return e.split("-")[0]}var Kp=Math.max,Wp=Math.min,Vp=Math.round;function Qp(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Gp(){return!/^((?!chrome|android).)*safari/i.test(Qp())}function Yp(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&$p(e)&&(o=e.offsetWidth>0&&Vp(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Vp(r.height)/e.offsetHeight||1);var a=(Fp(e)?Hp(e):window).visualViewport,s=!Gp()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/o,l=(r.top+(s&&a?a.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function Jp(e){var t=Yp(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xp(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&jp(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zp(e){return Hp(e).getComputedStyle(e)}function ef(e){return["table","td","th"].indexOf(Dp(e))>=0}function tf(e){return((Fp(e)?e.ownerDocument:e.document)||window.document).documentElement}function nf(e){return"html"===Dp(e)?e:e.assignedSlot||e.parentNode||(jp(e)?e.host:null)||tf(e)}function rf(e){return $p(e)&&"fixed"!==Zp(e).position?e.offsetParent:null}function of(e){for(var t=Hp(e),n=rf(e);n&&ef(n)&&"static"===Zp(n).position;)n=rf(n);return n&&("html"===Dp(n)||"body"===Dp(n)&&"static"===Zp(n).position)?t:n||function(e){var t=/firefox/i.test(Qp());if(/Trident/i.test(Qp())&&$p(e)&&"fixed"===Zp(e).position)return null;var n=nf(e);for(jp(n)&&(n=n.host);$p(n)&&["html","body"].indexOf(Dp(n))<0;){var r=Zp(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function af(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function sf(e,t,n){return Kp(e,Wp(t,n))}function cf(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function lf(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var uf={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Bp(n.placement),c=af(s),l=[Ep,Ap].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return cf("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:lf(e,Rp))}(o.padding,n),d=Jp(i),h="y"===c?Tp:Ep,p="y"===c?xp:Ap,f=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],g=a[c]-n.rects.reference[c],m=of(i),y=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,v=f/2-g/2,b=u[h],w=y-d[l]-u[p],C=y/2-d[l]/2+v,k=sf(b,C,w),S=c;n.modifiersData[r]=((t={})[S]=k,t.centerOffset=k-C,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Xp(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function df(e){return e.split("-")[1]}var hf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pf(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,g=void 0===f?0:f,m="function"===typeof u?u({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=Ep,w=Tp,C=window;if(l){var k=of(n),S="clientHeight",I="clientWidth";if(k===Hp(n)&&"static"!==Zp(k=tf(n)).position&&"absolute"===s&&(S="scrollHeight",I="scrollWidth"),o===Tp||(o===Ep||o===Ap)&&i===Op)w=xp,g-=(d&&k===C&&C.visualViewport?C.visualViewport.height:k[S])-r.height,g*=c?1:-1;if(o===Ep||(o===Tp||o===xp)&&i===Op)b=Ap,p-=(d&&k===C&&C.visualViewport?C.visualViewport.width:k[I])-r.width,p*=c?1:-1}var T,x=Object.assign({position:s},l&&hf),A=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Vp(t*r)/r||0,y:Vp(n*r)/r||0}}({x:p,y:g}):{x:p,y:g};return p=A.x,g=A.y,c?Object.assign({},x,((T={})[w]=v?"0":"",T[b]=y?"0":"",T.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",T)):Object.assign({},x,((t={})[w]=v?g+"px":"",t[b]=y?p+"px":"",t.transform="",t))}var ff={passive:!0};var gf={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,c=Hp(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,ff)})),s&&c.addEventListener("resize",n.update,ff),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,ff)})),s&&c.removeEventListener("resize",n.update,ff)}},data:{}},mf={left:"right",right:"left",bottom:"top",top:"bottom"};function yf(e){return e.replace(/left|right|bottom|top/g,(function(e){return mf[e]}))}var vf={start:"end",end:"start"};function bf(e){return e.replace(/start|end/g,(function(e){return vf[e]}))}function wf(e){var t=Hp(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Cf(e){return Yp(tf(e)).left+wf(e).scrollLeft}function kf(e){var t=Zp(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Sf(e){return["html","body","#document"].indexOf(Dp(e))>=0?e.ownerDocument.body:$p(e)&&kf(e)?e:Sf(nf(e))}function If(e,t){var n;void 0===t&&(t=[]);var r=Sf(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Hp(r),a=o?[i].concat(i.visualViewport||[],kf(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(If(nf(a)))}function Tf(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xf(e,t,n){return t===Mp?Tf(function(e,t){var n=Hp(e),r=tf(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;var l=Gp();(l||!l&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s+Cf(e),y:c}}(e,n)):Fp(t)?function(e,t){var n=Yp(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Tf(function(e){var t,n=tf(e),r=wf(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Kp(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Kp(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+Cf(e),c=-r.scrollTop;return"rtl"===Zp(o||n).direction&&(s+=Kp(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(tf(e)))}function Af(e,t,n,r){var o="clippingParents"===t?function(e){var t=If(nf(e)),n=["absolute","fixed"].indexOf(Zp(e).position)>=0&&$p(e)?of(e):e;return Fp(n)?t.filter((function(e){return Fp(e)&&Xp(e,n)&&"body"!==Dp(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=xf(e,n,r);return t.top=Kp(o.top,t.top),t.right=Wp(o.right,t.right),t.bottom=Wp(o.bottom,t.bottom),t.left=Kp(o.left,t.left),t}),xf(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ef(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Bp(o):null,a=o?df(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case Tp:t={x:s,y:n.y-r.height};break;case xp:t={x:s,y:n.y+n.height};break;case Ap:t={x:n.x+n.width,y:c};break;case Ep:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?af(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case Pp:t[l]=t[l]-(n[u]/2-r[u]/2);break;case Op:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}function _f(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,c=void 0===s?"clippingParents":s,l=n.rootBoundary,u=void 0===l?Mp:l,d=n.elementContext,h=void 0===d?Np:d,p=n.altBoundary,f=void 0!==p&&p,g=n.padding,m=void 0===g?0:g,y=cf("number"!==typeof m?m:lf(m,Rp)),v=h===Np?"reference":Np,b=e.rects.popper,w=e.elements[f?v:h],C=Af(Fp(w)?w:w.contextElement||tf(e.elements.popper),c,u,a),k=Yp(e.elements.reference),S=Ef({reference:k,element:b,strategy:"absolute",placement:o}),I=Tf(Object.assign({},b,S)),T=h===Np?I:k,x={top:C.top-T.top+y.top,bottom:T.bottom-C.bottom+y.bottom,left:C.left-T.left+y.left,right:T.right-C.right+y.right},A=e.modifiersData.offset;if(h===Np&&A){var E=A[o];Object.keys(x).forEach((function(e){var t=[Ap,xp].indexOf(e)>=0?1:-1,n=[Tp,xp].indexOf(e)>=0?"y":"x";x[e]+=E[n]*t}))}return x}function Rf(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?qp:c,u=df(r),d=u?s?Lp:Lp.filter((function(e){return df(e)===u})):Rp,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=_f(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[Bp(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}var Pf={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,y=Bp(m),v=c||(y===m||!f?[yf(m)]:function(e){if(Bp(e)===_p)return[];var t=yf(e);return[bf(e),t,bf(t)]}(m)),b=[m].concat(v).reduce((function(e,n){return e.concat(Bp(n)===_p?Rf(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,C=t.rects.popper,k=new Map,S=!0,I=b[0],T=0;T<b.length;T++){var x=b[T],A=Bp(x),E=df(x)===Pp,_=[Tp,xp].indexOf(A)>=0,R=_?"width":"height",P=_f(t,{placement:x,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),O=_?E?Ap:Ep:E?xp:Tp;w[R]>C[R]&&(O=yf(O));var M=yf(O),N=[];if(i&&N.push(P[A]<=0),s&&N.push(P[O]<=0,P[M]<=0),N.every((function(e){return e}))){I=x,S=!1;break}k.set(x,N)}if(S)for(var L=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return I=t,"break"},q=f?3:1;q>0;q--){if("break"===L(q))break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Of(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Mf(e){return[Tp,Ap,xp,Ep].some((function(t){return e[t]>=0}))}var Nf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=qp.reduce((function(e,n){return e[n]=function(e,t,n){var r=Bp(e),o=[Ep,Tp].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Ep,Ap].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}};var Lf={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,g=void 0===f?0:f,m=_f(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),y=Bp(t.placement),v=df(t.placement),b=!v,w=af(y),C="x"===w?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,I=t.rects.popper,T="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,x="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(k){if(i){var _,R="y"===w?Tp:Ep,P="y"===w?xp:Ap,O="y"===w?"height":"width",M=k[w],N=M+m[R],L=M-m[P],q=p?-I[O]/2:0,U=v===Pp?S[O]:I[O],D=v===Pp?-I[O]:-S[O],H=t.elements.arrow,F=p&&H?Jp(H):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=$[R],z=$[P],B=sf(0,S[O],F[O]),K=b?S[O]/2-q-B-j-x.mainAxis:U-B-j-x.mainAxis,W=b?-S[O]/2+q+B+z+x.mainAxis:D+B+z+x.mainAxis,V=t.elements.arrow&&of(t.elements.arrow),Q=V?"y"===w?V.clientTop||0:V.clientLeft||0:0,G=null!=(_=null==A?void 0:A[w])?_:0,Y=M+W-G,J=sf(p?Wp(N,M+K-G-Q):N,M,p?Kp(L,Y):L);k[w]=J,E[w]=J-M}if(s){var X,Z="x"===w?Tp:Ep,ee="x"===w?xp:Ap,te=k[C],ne="y"===C?"height":"width",re=te+m[Z],oe=te-m[ee],ie=-1!==[Tp,Ep].indexOf(y),ae=null!=(X=null==A?void 0:A[C])?X:0,se=ie?re:te-S[ne]-I[ne]-ae+x.altAxis,ce=ie?te+S[ne]+I[ne]-ae-x.altAxis:oe,le=p&&ie?function(e,t,n){var r=sf(e,t,n);return r>n?n:r}(se,te,ce):sf(p?se:re,te,p?ce:oe);k[C]=le,E[C]=le-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};function qf(e,t,n){void 0===n&&(n=!1);var r=$p(t),o=$p(t)&&function(e){var t=e.getBoundingClientRect(),n=Vp(t.width)/e.offsetWidth||1,r=Vp(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=tf(t),a=Yp(e,o,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==Dp(t)||kf(i))&&(s=function(e){return e!==Hp(e)&&$p(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:wf(e);var t}(t)),$p(t)?((c=Yp(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Cf(i))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function Uf(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Df(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Hf={placement:"bottom",modifiers:[],strategy:"absolute"};function Ff(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function $f(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Hf:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hf,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;l(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:Fp(e)?If(e):e.contextElement?If(e.contextElement):[],popper:If(t)};var u=function(e){var t=Uf(e);return Up.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:c,options:r}),l=function(){};a.push(s||l)}})),c.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(Ff(t,n)){o.rects={reference:qf(t,of(n),"fixed"===o.options.strategy),popper:Jp(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,l=i.options,u=void 0===l?{}:l,d=i.name;"function"===typeof a&&(o=a({state:o,options:u,name:d,instance:c})||o)}else o.reset=!1,r=-1}}},update:Df((function(){return new Promise((function(e){c.forceUpdate(),e(o)}))})),destroy:function(){l(),s=!0}};if(!Ff(e,t))return c;function l(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var jf,zf,Bf=$f({defaultModifiers:[gf,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ef({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,l={placement:Bp(t.placement),variation:df(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,pf(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,pf(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},zp,Nf,Pf,Lf,uf,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=_f(t,{elementContext:"reference"}),s=_f(t,{altBoundary:!0}),c=Of(a,r),l=Of(s,o,i),u=Mf(c),d=Mf(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),Kf=function(e){var t=e.rtl,n=e.level,r=e.collapsed,o=e.disabled,i=e.active;return"\n    display: flex;\n    align-items: center;\n    height: 50px;\n    text-decoration: none;\n    color: inherit;\n    box-sizing: border-box;\n    cursor: pointer;\n\n    ".concat(t?"padding-left: 20px;\n           padding-right: ".concat(0===n?20:20*(r?n:n+1),"px;\n            "):"padding-right: 20px;\n           padding-left: ".concat(0===n?20:20*(r?n:n+1),"px;\n           "),"\n\n    &:hover {\n      background-color: #f3f3f3;\n    }\n\n    ").concat(o&&" \n      pointer-events: none;\n      cursor: default;\n      color:#adadad;\n        ","\n\n    ").concat(i&&"background-color: #e2eef9;","\n  \n  ")},Wf=e.forwardRef((function(t,n){var r=t.className,o=t.component,i=t.children,a=Mu(t,["className","component","children"]);if(o){if("string"===typeof o)return e.createElement(o,Ou(Ou({className:Mh(r)},a),{ref:n}),i);var s=o.props,c=s.className,l=Mu(s,["className"]);return e.cloneElement(o,Ou(Ou(Ou({className:Mh(r,c)},a),l),{ref:n}),i)}return e.createElement("a",Ou({ref:n,className:Mh(r)},a),i)})),Vf=mh.li(jf||(jf=Nu(["\n  position: relative;\n  width: 100%;\n\n  ",";\n\n  ",";\n\n  > ."," {\n    ",";\n\n    ",";\n  }\n"],["\n  position: relative;\n  width: 100%;\n\n  ",";\n\n  ",";\n\n  > ."," {\n    ",";\n\n    ",";\n  }\n"])),(function(e){return e.menuItemStyles}),(function(e){return e.rootStyles}),Vh,(function(e){var t=e.level,n=e.disabled,r=e.active,o=e.collapsed,i=e.rtl;return Kf({level:t,disabled:n,active:r,collapsed:o,rtl:i})}),(function(e){return e.buttonStyles})),Qf=e.forwardRef((function(t,n){var r,o=t.children,i=t.className,a=t.label,s=t.icon,c=t.title,l=t.prefix,u=t.suffix,d=t.open,h=t.defaultOpen,p=t.active,f=void 0!==p&&p,g=t.disabled,m=void 0!==g&&g,y=t.rootStyles,v=t.component,b=t.onOpenChange,w=t.onClick,C=t.onKeyUp,k=Mu(t,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),S=e.useContext(pp),I=e.useContext(cp),T=I.collapsed,x=I.rtl,A=I.transitionDuration,E=gp(),_=E.renderExpandIcon,R=E.closeOnClick,P=E.menuItemStyles,O=E.transitionDuration,M=e.useState(!!h),N=M[0],L=M[1],q=e.useState(!1),U=q[0],D=q[1],H=e.useState(!1),F=H[0],$=H[1],j=e.useRef(null),z=e.useRef(null),B=e.useRef(),K=function(t){var n=t.level,r=t.buttonRef,o=t.contentRef,i=e.useContext(cp),a=i.collapsed,s=i.toggled,c=i.transitionDuration,l=e.useRef();return e.useEffect((function(){return 0===n&&a&&o.current&&r.current&&(l.current=Bf(r.current,o.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var e;return null===(e=l.current)||void 0===e?void 0:e.destroy()}}),[n,a,o,r]),e.useEffect((function(){if(o.current&&r.current){var e=new ResizeObserver((function(){var e;null===(e=l.current)||void 0===e||e.update()}));e.observe(o.current),e.observe(r.current)}setTimeout((function(){var e;null===(e=l.current)||void 0===e||e.update()}),c)}),[c,s,o,r]),{popperInstance:l.current}}({level:S,buttonRef:j,contentRef:z}).popperInstance,W=e.useCallback((function(){var e,t=z.current;if(t){var n=null===(e=null===t||void 0===t?void 0:t.querySelector(".".concat(Xh," > ul")))||void 0===e?void 0:e.clientHeight;t.style.overflow="hidden",t.style.height="".concat(n,"px"),B.current=setTimeout((function(){t.style.overflow="auto",t.style.height="auto"}),O)}}),[O]),V=function(){var e,t=z.current;if(t){var n=null===(e=null===t||void 0===t?void 0:t.querySelector(".".concat(Xh," > ul")))||void 0===e?void 0:e.clientHeight;t.style.overflow="hidden",t.style.height="".concat(n,"px"),t.offsetHeight,t.style.height="0px"}},Q=function(){0===S&&T||("undefined"===typeof d?(clearTimeout(Number(B.current)),N?V():W(),null===b||void 0===b||b(!N),L(!N)):null===b||void 0===b||b(!d))};e.useEffect((function(){0===S&&T||"undefined"===typeof d||!F||(clearTimeout(Number(B.current)),d?W():V())}),[T,W,a,S,b,d]);var G=function(e){if(P){var t={level:S,disabled:m,active:f,isSubmenu:!0,open:null!==d&&void 0!==d?d:N},n=P.root,r=P.button,o=P.label,i=P.icon,a=P.prefix,s=P.suffix,c=P.subMenuContent,l=P.SubMenuExpandIcon;switch(e){case"root":return"function"===typeof n?n(t):n;case"button":return"function"===typeof r?r(t):r;case"label":return"function"===typeof o?o(t):o;case"icon":return"function"===typeof i?i(t):i;case"prefix":return"function"===typeof a?a(t):a;case"suffix":return"function"===typeof s?s(t):s;case"SubMenuExpandIcon":return"function"===typeof l?l(t):l;case"subMenuContent":return"function"===typeof c?c(t):c;default:return}}};e.useEffect((function(){setTimeout((function(){return null===K||void 0===K?void 0:K.update()}),A),T&&0===S&&D(!1)}),[T,S,x,A,K]),e.useEffect((function(){var e=function(e){var t,n,r;!U&&(null===(t=j.current)||void 0===t?void 0:t.contains(e))?D(!0):(R&&!(null===(n=e.closest(".".concat(Kh)))||void 0===n?void 0:n.classList.contains(Wh))||!(null===(r=z.current)||void 0===r?void 0:r.contains(e))&&U)&&D(!1)},t=function(t){e(t.target)},n=function(t){"Enter"===t.key?e(t.target):"Escape"===t.key&&D(!1)},r=function(){document.removeEventListener("click",t),document.removeEventListener("keyup",n)};return r(),T&&0===S&&(document.addEventListener("click",t,!1),document.addEventListener("keyup",n,!1)),function(){r()}}),[T,S,R,U]),e.useEffect((function(){$(!0)}),[]);var Y=((r={})[tp]=f,r[ep]=m,r[np]=null!==d&&void 0!==d?d:N,r);return e.createElement(Vf,{ref:n,className:Mh(Kh,Wh,Y,i),menuItemStyles:G("root"),level:S,collapsed:T,rtl:x,disabled:m,active:f,buttonStyles:G("button"),rootStyles:y},e.createElement(Wf,Ou({"data-testid":"".concat(Vh,"-test-id"),ref:j,title:c,className:Mh(Vh,Y),onClick:function(e){null===w||void 0===w||w(e),Q()},onKeyUp:function(e){null===C||void 0===C||C(e),"Enter"===e.key&&Q()},component:v,tabIndex:0},k),s&&e.createElement(bp,{rtl:x,className:Mh(Jh,Y),rootStyles:G("icon")},s),l&&e.createElement(wp,{collapsed:T,transitionDuration:A,firstLevel:0===S,className:Mh(Qh,Y),rtl:x,rootStyles:G("prefix")},l),e.createElement(vp,{className:Mh(Yh,Y),rootStyles:G("label")},a),u&&e.createElement(Cp,{collapsed:T,transitionDuration:A,firstLevel:0===S,className:Mh(Gh,Y),rootStyles:G("suffix")},u),e.createElement(kp,{rtl:x,className:Mh(Zh,Y),collapsed:T,level:S,rootStyles:G("SubMenuExpandIcon")},_?_({level:S,disabled:m,active:f,open:null!==d&&void 0!==d?d:N}):T&&0===S?e.createElement(Ip,null):e.createElement(Sp,{rtl:x,open:null!==d&&void 0!==d?d:N}))),e.createElement(yp,{ref:z,openWhenCollapsed:U,open:null!==d&&void 0!==d?d:N,firstLevel:0===S,collapsed:T,defaultOpen:d&&!F||h,className:Mh(Xh,Y),rootStyles:G("subMenuContent")},e.createElement(pp.Provider,{value:S+1},o)))})),Gf=mh.li(zf||(zf=Nu(["\n  width: 100%;\n  position: relative;\n\n  ",";\n\n  ",";\n\n  > ."," {\n    ",";\n\n    ",";\n  }\n"],["\n  width: 100%;\n  position: relative;\n\n  ",";\n\n  ",";\n\n  > ."," {\n    ",";\n\n    ",";\n  }\n"])),(function(e){return e.menuItemStyles}),(function(e){return e.rootStyles}),Vh,(function(e){var t=e.level,n=e.disabled,r=e.active,o=e.collapsed,i=e.rtl;return Kf({level:t,disabled:n,active:r,collapsed:o,rtl:i})}),(function(e){return e.buttonStyles})),Yf=e.forwardRef((function(t,n){var r,o=t.children,i=t.icon,a=t.className,s=t.prefix,c=t.suffix,l=t.active,u=void 0!==l&&l,d=t.disabled,h=void 0!==d&&d,p=t.component,f=t.rootStyles,g=Mu(t,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),m=e.useContext(pp),y=e.useContext(cp),v=y.collapsed,b=y.rtl,w=y.transitionDuration,C=gp().menuItemStyles,k=function(e){if(C){var t={level:m,disabled:h,active:u,isSubmenu:!1},n=C.root,r=C.button,o=C.label,i=C.icon,a=C.prefix,s=C.suffix;switch(e){case"root":return"function"===typeof n?n(t):n;case"button":return"function"===typeof r?r(t):r;case"label":return"function"===typeof o?o(t):o;case"icon":return"function"===typeof i?i(t):i;case"prefix":return"function"===typeof a?a(t):a;case"suffix":return"function"===typeof s?s(t):s;default:return}}},S=((r={})[tp]=u,r[ep]=h,r);return e.createElement(Gf,{ref:n,className:Mh(Kh,S,a),menuItemStyles:k("root"),level:m,collapsed:v,rtl:b,disabled:h,active:u,buttonStyles:k("button"),rootStyles:f},e.createElement(Wf,Ou({className:Mh(Vh,S),"data-testid":"".concat(Vh,"-test-id"),component:p,tabIndex:0},g),i&&e.createElement(bp,{rtl:b,className:Mh(Jh,S),rootStyles:k("icon")},i),s&&e.createElement(wp,{collapsed:v,transitionDuration:w,firstLevel:0===m,className:Mh(Qh,S),rtl:b,rootStyles:k("prefix")},s),e.createElement(vp,{className:Mh(Yh,S),rootStyles:k("label")},o),c&&e.createElement(Cp,{collapsed:v,transitionDuration:w,firstLevel:0===m,className:Mh(Gh,S),rootStyles:k("suffix")},c)))})),Jf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xf=e.createContext&&e.createContext(Jf),Zf=["attr","size","title"];function eg(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(this,arguments)}function ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ng(Object(n),!0).forEach((function(t){og(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function og(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ig(t){return t&&t.map(((t,n)=>e.createElement(t.tag,rg({key:n},t.attr),ig(t.child))))}function ag(t){return n=>e.createElement(sg,tg({attr:rg({},t.attr)},n),ig(t.child))}function sg(t){var n=n=>{var r,{attr:o,size:i,title:a}=t,s=eg(t,Zf),c=i||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:r,style:rg(rg({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Xf?e.createElement(Xf.Consumer,null,(e=>n(e))):n(Jf)}function cg(e){return ag({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function lg(e){return ag({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}const ug=n.p+"static/media/avantlogo.fb1baefcb75c0c943ee9.png";var dg=n(579);function hg(e){return{padding:"10px 15px",marginRight:"10px",backgroundColor:e?"#485460":"#1e272e",color:"#ffffff",border:"none",borderRadius:"5px",cursor:e?"default":"pointer"}}const pg=function(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)("all"),[i,a]=(0,e.useState)(""),[s,c]=(0,e.useState)(""),l=t.filter((e=>{const t="all"===r||e.status===r,n=e.question.toLowerCase().includes(i.toLowerCase());return t&&n}));return(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h2",{children:"Frequently Asked Questions"}),(0,dg.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),""!==s.trim()){const e={id:Date.now(),question:s,answer:"",author:"Anonymous",date:(new Date).toISOString(),status:"unanswered"};n([...t,e]),c("")}},style:{marginBottom:"20px"},children:[(0,dg.jsx)("textarea",{value:s,onChange:e=>c(e.target.value),placeholder:"Type your question here...",required:!0,style:{width:"100%",height:"80px",padding:"10px"}}),(0,dg.jsx)("button",{type:"submit",style:{marginTop:"10px",padding:"10px 20px",backgroundColor:"#1e272e",color:"#ffffff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Post Question"})]}),(0,dg.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,dg.jsx)("input",{type:"text",placeholder:"Search questions...",value:i,onChange:e=>a(e.target.value),style:{padding:"10px",width:"100%",marginBottom:"10px"}}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("button",{onClick:()=>o("all"),disabled:"all"===r,style:hg("all"===r),children:"All"}),(0,dg.jsx)("button",{onClick:()=>o("answered"),disabled:"answered"===r,style:hg("answered"===r),children:"Answered"}),(0,dg.jsx)("button",{onClick:()=>o("unanswered"),disabled:"unanswered"===r,style:hg("unanswered"===r),children:"Unanswered"})]})]}),(0,dg.jsx)("ul",{style:{listStyleType:"none",padding:0},children:l.length>0?l.map((e=>(0,dg.jsxs)("li",{style:{backgroundColor:"#ffffff",padding:"15px",marginBottom:"10px",borderRadius:"5px"},children:[(0,dg.jsx)("h4",{style:{margin:"0 0 10px"},children:e.question}),e.answer?(0,dg.jsxs)("p",{children:[(0,dg.jsx)("strong",{children:"Answer:"})," ",e.answer]}):(0,dg.jsx)("p",{style:{fontStyle:"italic"},children:"This question has not been answered yet."}),(0,dg.jsxs)("p",{style:{fontSize:"0.9em",color:"#555"},children:["Posted by ",e.author," on ",new Date(e.date).toLocaleDateString()]})]},e.id))):(0,dg.jsx)("p",{children:"No questions found."})})]})};n(844);Object.create(null);const fg={},gg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];bg(t[0])&&fg[t[0]]||(bg(t[0])&&(fg[t[0]]=new Date),function(){if(console?.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];bg(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))},mg=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}},yg=(e,t,n)=>{e.loadNamespaces(t,mg(e,n))},vg=(e,t,n,r)=>{bg(n)&&(n=[n]),n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,mg(e,r))},bg=e=>"string"===typeof e,wg=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Cg={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},kg=e=>Cg[e];let Sg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(wg,kg)};let Ig;const Tg={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Sg={...Sg,...e}}(e.options.react),(e=>{Ig=e})(e)}},xg=(0,e.createContext)();class Ag{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Eg=(e,t,n,r)=>e.getFixedT(t,n,r),_g=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:r}=n,{i18n:o,defaultNS:i}=(0,e.useContext)(xg)||{},a=r||o||Ig;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ag),!a){gg("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return bg(t)?t:"object"===typeof(n=t)&&null!==n&&bg(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react?.wait&&gg("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Sg,...a.options.react,...n},{useSuspense:c,keyPrefix:l}=s;let u=t||i||a.options?.defaultNS;u=bg(u)?[u]:u||["translation"],a.reportNamespaces.addUsedNamespaces?.(u);const d=(a.isInitialized||a.initializedStoreOnce)&&u.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(gg("i18n.languages were undefined or empty",t.languages),!0)}(e,a,s))),h=((t,n,r,o)=>(0,e.useCallback)(Eg(t,n,r,o),[t,n,r,o]))(a,n.lng||null,"fallback"===s.nsMode?u:u[0],l),p=()=>h,f=()=>Eg(a,n.lng||null,"fallback"===s.nsMode?u:u[0],l),[g,m]=(0,e.useState)(p);let y=u.join();n.lng&&(y=`${n.lng}${y}`);const v=((t,n)=>{const r=(0,e.useRef)();return(0,e.useEffect)((()=>{r.current=n?r.current:t}),[t,n]),r.current})(y),b=(0,e.useRef)(!0);(0,e.useEffect)((()=>{const{bindI18n:e,bindI18nStore:t}=s;b.current=!0,d||c||(n.lng?vg(a,n.lng,u,(()=>{b.current&&m(f)})):yg(a,u,(()=>{b.current&&m(f)}))),d&&v&&v!==y&&b.current&&m(f);const r=()=>{b.current&&m(f)};return e&&a?.on(e,r),t&&a?.store.on(t,r),()=>{b.current=!1,a&&e?.split(" ").forEach((e=>a.off(e,r))),t&&a&&t.split(" ").forEach((e=>a.store.off(e,r)))}}),[a,y]),(0,e.useEffect)((()=>{b.current&&d&&m(p)}),[a,l,d]);const w=[g,a,d];if(w.t=g,w.i18n=a,w.ready=d,d)return w;if(!d&&!c)return w;throw new Promise((e=>{n.lng?vg(a,n.lng,u,(()=>e())):yg(a,u,(()=>e()))}))};const Rg=e=>"string"===typeof e,Pg=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},Og=e=>null==e?"":""+e,Mg=/###/g,Ng=e=>e&&e.indexOf("###")>-1?e.replace(Mg,"."):e,Lg=e=>!e||Rg(e),qg=(e,t,n)=>{const r=Rg(t)?t.split("."):t;let o=0;for(;o<r.length-1;){if(Lg(e))return{};const t=Ng(r[o]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return Lg(e)?{}:{obj:e,k:Ng(r[o])}},Ug=(e,t,n)=>{const{obj:r,k:o}=qg(e,t,Object);if(void 0!==r||1===t.length)return void(r[o]=n);let i=t[t.length-1],a=t.slice(0,t.length-1),s=qg(e,a,Object);for(;void 0===s.obj&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),s=qg(e,a,Object),s&&s.obj&&"undefined"!==typeof s.obj[`${s.k}.${i}`]&&(s.obj=void 0);s.obj[`${s.k}.${i}`]=n},Dg=(e,t)=>{const{obj:n,k:r}=qg(e,t);if(n)return n[r]},Hg=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Rg(e[r])||e[r]instanceof String||Rg(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Hg(e[r],t[r],n):e[r]=t[r]);return e},Fg=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jg=e=>Rg(e)?e.replace(/[&<>"'\/]/g,(e=>$g[e])):e;const zg=[" ",",","?","!",";"],Bg=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Kg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let o=e;for(let i=0;i<r.length;){if(!o||"object"!==typeof o)return;let e,t="";for(let a=i;a<r.length;++a)if(a!==i&&(t+=n),t+=r[a],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<r.length-1)continue;i+=a-i+1;break}o=e}return o},Wg=e=>e&&e.replace("_","-"),Vg={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Qg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Vg,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(Rg(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Qg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Qg(this.logger,e)}}var Gg=new Qg;class Yg{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let o=0;o<r;o++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,o]=t;for(let i=0;i<o;i++)r.apply(r,[e,...n])}))}}}class Jg extends Yg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):Rg(n)&&o?a.push(...n.split(o)):a.push(n)));const s=Dg(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!s&&i&&Rg(n)?Kg(this.data&&this.data[e]&&this.data[e][t],n,o):s}addResource(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),Ug(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in n)(Rg(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let s=Dg(this.data,a)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Hg(s,n,o):s={...s,...n},Ug(this.data,a,s),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var Xg={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,o))})),t}};const Zg={};class em extends Yg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Gg.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const r=zg.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const o=Bg.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!o.test(e);if(!i){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i})(e,n,r);if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),e=i.join(r)}return Rg(o)&&(o=[o]),{key:e,namespaces:o}}translate(e,t,n){if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t={...t}),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:i,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(l){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${e}${i}`,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${i}`}return r?{res:i,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:i}const u=this.resolve(e,t);let d=u&&u.res;const h=u&&u.usedKey||i,p=u&&u.exactUsedKey||i,f=Object.prototype.toString.apply(d),g=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!Rg(d)&&"boolean"!==typeof d&&"number"!==typeof d;if(!(m&&d&&y&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||Rg(g)&&Array.isArray(d))if(m&&Rg(g)&&Array.isArray(d))d=d.join(g),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,a=!1;const l=void 0!==t.count&&!Rg(t.count),h=em.hasDefaultValue(t),p=l?this.pluralResolver.getSuffix(c,t.count,t):"",f=t.ordinal&&l?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",g=l&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=g&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(r=!0,d=m),this.isValidLookup(d)||(a=!0,d=i);const y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,v=h&&m!==d&&this.options.updateMissing;if(a||r||v){if(this.logger.log(v?"updateKey":"missingKey",c,s,i,v?m:d),o){const e=this.resolve(i,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const o=h&&r!==d?r:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,o,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,o,v,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);g&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],i+n,t[`defaultValue${n}`]||m)}))})):r(e,i,m))}d=this.extendTranslation(d,e,t,u,n),a&&d===i&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${i}`),(a||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${i}`:i,r?d:void 0):this.options.parseMissingKeyHandler(d))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:a}):`key '${i} (${this.language})' returned an object instead of string.`;return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(o){const e=Array.isArray(d),n=e?[]:{},r=e?p:h;for(const i in d)if(Object.prototype.hasOwnProperty.call(d,i)){const e=`${r}${o}${i}`;n[i]=this.translate(e,{...t,joinArrays:!1,ns:a}),n[i]===e&&(n[i]=d[i])}d=n}}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=Rg(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let c=n.replace&&!Rg(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,n.lng||this.language||r.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):i.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=Rg(a)?[a]:a;return void 0!==e&&null!==e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=Xg.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rg(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),c=s.key;n=c;let l=s.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const u=void 0!==a.count&&!Rg(a.count),d=u&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==a.context&&(Rg(a.context)||"number"===typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);l.forEach((e=>{this.isValidLookup(t)||(i=e,!Zg[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(Zg[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;o=n;const i=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,c,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(i.push(c+e),a.ordinal&&0===e.indexOf(r)&&i.push(c+e.replace(r,this.options.pluralSeparator)),d&&i.push(c+t)),h){const n=`${c}${this.options.contextSeparator}${a.context}`;i.push(n),u&&(i.push(n+e),a.ordinal&&0===e.indexOf(r)&&i.push(n+e.replace(r,this.options.pluralSeparator)),d&&i.push(n+t))}}let s;for(;s=i.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Rg(e.replace);let r=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const tm=e=>e.charAt(0).toUpperCase()+e.slice(1);class nm{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gg.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Wg(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Wg(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Rg(e)&&e.indexOf("-")>-1){if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(t){}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map((e=>e.toLowerCase())):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=tm(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=tm(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=tm(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),Rg(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Rg(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):Rg(e)&&o(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&o(this.formatLanguageCode(e))})),r}}let rm=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],om={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const im=["v1","v2","v3"],am=["v4"],sm={zero:0,one:1,two:2,few:3,many:4,other:5};class cm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Gg.create("pluralResolver"),this.options.compatibilityJSON&&!am.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return rm.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:om[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=Wg("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const i=new Intl.PluralRules(n,{type:r});return this.pluralRulesCache[o]=i,i}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>sm[e]-sm[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const o=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"===typeof r?`_plural_${r.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!im.includes(this.options.compatibilityJSON)}}const lm=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,n)=>{const r=Dg(e,n);return void 0!==r?r:Dg(t,n)})(e,t,n);return!i&&o&&Rg(n)&&(i=Kg(e,n,r),void 0===i&&(i=Kg(t,n,r))),i},um=e=>e.replace(/\$/g,"$$$$");class dm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Gg.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:o,prefixEscaped:i,suffix:a,suffixEscaped:s,formatSeparator:c,unescapeSuffix:l,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:jg,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=o?Fg(o):i||"{{",this.suffix=a?Fg(a):s||"}}",this.formatSeparator=c||",",this.unescapePrefix=l?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=d?Fg(d):h||Fg("$t("),this.nestingSuffix=p?Fg(p):f||Fg(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let o,i,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const o=lm(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...r,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),i=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(lm(t,s,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:i})};this.resetRegExp();const l=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,u=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>um(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?um(this.escape(e)):um(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const n=o[1].trim();if(i=c(n),void 0===i)if("function"===typeof l){const t=l(e,o,r);i=Rg(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(u){i=o[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),i=""}else Rg(i)||this.useRawValueToEscape||(i=Og(i));const s=t.safeValue(i);if(e=e.replace(o[0],s),u?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let i=`{${r[1]}`;e=r[0],i=this.interpolate(i,o);const a=i.match(/'/g),s=i.match(/"/g);(a&&a.length%2===0&&!s||s.length%2!==0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o={...t,...o})}catch(c){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,c),`${e}${n}${i}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];o={...i},o=o.replace&&!Rg(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,c=!0}if(r=t(a.call(this,n[1].trim(),o),o),r&&n[0]===e&&!Rg(r))return r;Rg(r)||(r=Og(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),c&&(r=s.reduce(((e,t)=>this.format(e,t,i.lng,{...i,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const hm=e=>{const t={};return(n,r,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const a=r+JSON.stringify(i);let s=t[a];return s||(s=e(Wg(r),o),t[a]=s),s(n)}};class pm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Gg.create("formatter"),this.options=e,this.formats={number:hm(((e,t)=>n=>new Intl.NumberFormat(e,{...t}).format(n))),currency:hm(((e,t)=>n=>new Intl.NumberFormat(e,{...t,style:"currency"}).format(n))),datetime:hm(((e,t)=>n=>new Intl.DateTimeFormat(e,{...t}).format(n))),relativetime:hm(((e,t)=>n=>new Intl.RelativeTimeFormat(e,{...t}).format(n,t.range||"day"))),list:hm(((e,t)=>n=>new Intl.ListFormat(e,{...t}).format(n)))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=hm(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce(((e,t)=>{const{formatName:o,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),o=r.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();n[i]||(n[i]=o),"false"===o&&(n[i]=!1),"true"===o&&(n[i]=!0),isNaN(o)||(n[i]=parseInt(o,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[o]){let t=e;try{const a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[o](e,s,{...i,...r,...a})}catch(a){this.logger.warn(a)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e)}}class fm extends Yg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Gg.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const o={},i={},a={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,r=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),!t&&n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:o}=qg(e,t,Object);r[o]=r[o]||[],r[o].push(n)})(n.loaded,[o],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:i});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*o,i)}),o):i(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"===typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(c){a(c)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Rg(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Rg(t)&&(t=[t]);const o=this.queueLoad(e,t,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,((n,i)=>{n&&this.logger.warn(`${t}loading namespace ${o} for language ${r} failed`,n),!n&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${r}`,i),this.loaded(e,n,i)}))}saveMissing(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){const c={...i,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,n,r,c):l(e,t,n,r),o&&"function"===typeof o.then?o.then((e=>a(null,e))).catch(a):a(null,o)}catch(s){a(s)}else l(e,t,n,r,a,c)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}const gm=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),Rg(e[1])&&(t.defaultValue=e[1]),Rg(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),mm=e=>(Rg(e.ns)&&(e.ns=[e.ns]),Rg(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Rg(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),ym=()=>{};class vm extends Yg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=mm(e),this.services={},this.logger=Gg,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(Rg(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=gm();this.options={...r,...this.options,...mm(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Gg.init(o(this.modules.logger),this.options):Gg.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!==typeof Intl&&(t=pm);const n=new nm(this.options);this.store=new Jg(this.options.resources,this.options);const i=this.services;i.logger=Gg,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new cm(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(i.formatter=o(t),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new dm(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new fm(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new em(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=ym),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const i=Pg(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ym;const n=Rg(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=Pg();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=ym),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Xg.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=Pg();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Rg(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{i(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const o=function(e,t){let i;if("object"!==typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];i=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else i={...t};i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||o.keyPrefix);const l=r.options.keySeparator||".";let u;return u=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${l}${e}`)):i.keyPrefix?`${i.keyPrefix}${l}${e}`:e,r.t(u,i)};return Rg(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,e)||r&&!i(o,e)))}loadNamespaces(e,t){const n=Pg();return this.options.ns?(Rg(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Pg();Rg(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=r.concat(o),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new nm(gm());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new vm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ym;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new vm(r);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));return["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new Jg(this.store.data,r),o.services.resourceStore=o.store),o.translator=new em(o.services,r),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit(e,...n)})),o.init(r,t),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const bm=vm.createInstance();bm.createInstance=vm.createInstance;bm.createInstance,bm.dir,bm.init,bm.loadResources,bm.reloadResources,bm.use,bm.changeLanguage,bm.getFixedT,bm.t,bm.exists,bm.setDefaultNamespace,bm.hasLoadedNamespace,bm.loadNamespaces,bm.loadLanguages;const wm=JSON.parse('{"header":{"title":"Avant Sant\xe9 | SAP Training"},"menu":{"departments":"Departments","faq":"FAQ"},"welcome":{"title":"Welcome to the Company Portal","description":"Select a department from the sidebar to view content."},"userManual":"User Manual","viewManual":"View Manual","trainingVideos":"Training Videos"}'),Cm=JSON.parse('{"header":{"title":"Avant Sant\xe9 | Entrenamiento SAP"},"menu":{"departments":"Departamentos","faq":"Preguntas Frecuentes"},"welcome":{"title":"Bienvenido al Portal de la Empresa","description":"Seleccione un departamento desde la barra lateral para ver el contenido."},"userManual":"Manual del Usuario","viewManual":"Ver Manual","trainingVideos":"Videos de Entrenamiento"}');bm.use(Tg).init({resources:{en:{translation:wm},es:{translation:Cm}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const km={border:"none",position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",maxWidth:"100%"};let Sm={FICO:null,HCM:null,MM:(0,dg.jsx)("iframe",{src:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/embed.aspx?UniqueId=db1cda7d-9df9-410d-a441-08534d32dcc9&embed=%7B%22ust%22%3Atrue%2C%22hv%22%3A%22CopyEmbedCode%22%7D&referrer=StreamWebApp&referrerScenario=EmbedDialog.Create",width:"640",height:"360",frameborder:"0",scrolling:"no",allowfullscreen:!0,title:"Avant Sante- Key user training MM Module (1)-20240821_163156-Meeting Recording.mp4",style:km}),PM:(0,dg.jsx)("iframe",{src:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/embed.aspx?UniqueId=a7087f24-3800-428d-a84d-1afc44b23600&embed=%7B%22ust%22%3Atrue%7D&referrer=StreamWebApp&referrerScenario=EmbedDialog.Create",width:"640",height:"360",frameBorder:"0",scrolling:"no",allowFullScreen:!0,title:"Avant Sante- Key user Training for Plant Maintenance(PM)-1-20240821_165245-Meeting Recording.mp4",style:km}),PS:(0,dg.jsx)("iframe",{src:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/embed.aspx?UniqueId=1ae74590-7179-4ad4-ba72-86f02ab46450&embed=%7B%22ust%22%3Atrue%2C%22hv%22%3A%22CopyEmbedCode%22%7D&referrer=StreamWebApp&referrerScenario=EmbedDialog.Create",width:"640",height:"360",frameborder:"0",scrolling:"no",allowfullscreen:!0,title:"Avant Sante- Key User Training for Project Systems(PS) -1-20240821_160210-Meeting Recording.mp4",style:km}),QM:(0,dg.jsx)("iframe",{src:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/embed.aspx?UniqueId=d8da4937-8d37-4efe-ae73-d56551b2036e&embed=%7B%22ust%22%3Atrue%2C%22hv%22%3A%22CopyEmbedCode%22%7D&referrer=StreamWebApp&referrerScenario=EmbedDialog.Create",width:"640",height:"360",frameborder:"0",scrolling:"no",allowfullscreen:!0,title:"Avant Sante- Key user Training for Plant Maintenance(PM)-1-20240821_165245-Meeting Recording.mp4",style:km}),SD:null};const Im=(0,dg.jsx)("div",{style:{width:"640px",height:"360px",backgroundColor:"#e0e0e0",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"5px"},children:(0,dg.jsx)("p",{children:"No video available for this department"})}),Tm=e=>{let{videoKey:t}=e;const n=Sm[t]||Im;return(0,dg.jsx)("div",{style:{maxWidth:"640px"},children:(0,dg.jsx)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden"},children:n})})};const xm=t=>{var n;let{documents:r}=t;const[o,i]=(0,e.useState)((null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.embedUrl)||null);return r&&0!==r.length?(console.log(r,o),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h3",{children:"Select a Document"}),(0,dg.jsx)("ul",{children:r.map(((e,t)=>(0,dg.jsx)("li",{children:(0,dg.jsx)("button",{onClick:()=>i(e.embedUrl),style:{padding:"10px 20px",backgroundColor:"#0078d7",color:"#ffffff",textDecoration:"none",borderRadius:"5px",marginTop:"10px",cursor:"pointer"},children:e.title})},t)))}),o?(0,dg.jsx)("iframe",{src:o,width:"100%",height:"600px",frameBorder:"0",style:{border:"none"},allowFullScreen:!0,title:"Document Viewer",children:"This is an embedded Microsoft Office document, powered by Office."}):(0,dg.jsx)("p",{children:"No document selected"})]})):(0,dg.jsx)("p",{children:"No documents available for this department."})},Am={colors:{primaryStart:"#1e272e",primaryEnd:"#485460",secondary:"#485460",background:"#f1f2f6",text:"#ffffff",heading:"#1e272e",cardBackground:"#ffffff"},fonts:{primary:"Roboto, sans-serif"}},Em={FICO:{documents:[{title:"FICO User Manual",embedUrl:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/Doc.aspx?sourcedoc={1a4eb5b1-b15b-4101-98ea-4e35e9392b5e}&amp;action=embedview"}],videos:[{title:"Introduction to FICO",videoUrl:"https://www.youtube.com/watch?v=ER4xnUGztaE/videos/fico1.mp4",thumbnailUrl:"https://img.youtube.com/vi/ER4xnUGztaE/hqdefault.jpg"},{title:"FICO Advanced Techniques",videoUrl:"https://www.youtube.com/watch?v=2_8c4zgScQs&list=PLFZrWCcy6oceSnP42lZiBMxjVRKRyTg4M",thumbnailUrl:"https://img.youtube.com/vi/2_8c4zgScQs/hqdefault.jpg"}],manual:"This is the user manual for the FICO department.",manualUrl:"https://avantsante.sharepoint.com/:w:/s/ClinicalResearchInformatics/EbG1ThpbsQFBmOpONek5K14BLqjJgEHHtW_DSEXvb0JJHw?e=esA7sZ"},HCM:{documents:[{title:"HCM Employee FIORI User Manual",embedUrl:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/Doc.aspx?sourcedoc={04d56469-f8f1-4094-8997-e11248443830}&amp;action=embedview"},{title:"HCM HR GUI and FIORI User Manual",embedUrl:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/Doc.aspx?sourcedoc={955c9702-37e5-4824-9cf6-9b929b644bad}&amp;action=embedview"},{title:"HCM Manager FIORI User Manual",embedUrl:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/Doc.aspx?sourcedoc={a416b56e-78af-462e-88fa-51dde55ed2ea}&amp;action=embedview"}],videos:[{title:"Introduction to HCM",videoUrl:"https://www.youtube.com/watch?v=FPj8HOc59WU",thumbnailUrl:"https://img.youtube.com/vi/FPj8HOc59WU/hqdefault.jpg"},{title:"HCM Best Practices",videoUrl:"https://www.youtube.com/watch?v=h-W4DB_B7zs",thumbnailUrl:"https://img.youtube.com/vi/h-W4DB_B7zs/hqdefault.jpg"}],manual:"This is the user manual for the HCM department."},MM:{documents:[{title:"Product master",embedUrl:"https://avantsante.sharepoint.com/sites/ClinicalResearchInformatics/_layouts/15/Doc.aspx?sourcedoc={858809a7-283b-4fb2-832e-dc9b5aa9fc60}&amp;action=embedview"}],videos:[{title:"Introduction to MM",videoUrl:"https://www.youtube.com/watch?v=jkxtXXWqMqo",thumbnailUrl:"https://img.youtube.com/vi/jkxtXXWqMqo/hqdefault.jpg"},{title:"MM Workflow Management",videoUrl:"https://www.youtube.com/watch?v=p93SN2eAPH8&list=PL5LE1pk3CSPpExvyO2gFaaaWE9S8-qcYl",thumbnailUrl:"https://img.youtube.com/vi/p93SN2eAPH8/hqdefault.jpg"}],manual:"This is the user manual for the MM department."},PM:{videos:[{title:"Introduction to PM",videoUrl:"https://www.youtube.com/watch?v=XshztGYetHE",thumbnailUrl:"https://img.youtube.com/vi/XshztGYetHE/hqdefault.jpg"},{title:"PM Project Planning",videoUrl:"https://www.youtube.com/watch?v=tAfCHycGa0E",thumbnailUrl:"https://img.youtube.com/vi/tAfCHycGa0E/hqdefault.jpg"}],manual:"This is the user manual for the PM department."},PS:{videos:[{title:"Introduction to PS",videoUrl:"https://www.youtube.com/watch?v=oyMnDdvY3sk",thumbnailUrl:"https://img.youtube.com/vi/oyMnDdvY3sk/hqdefault.jpg"},{title:"PS System Integration",videoUrl:"https://www.youtube.com/watch?v=cxXq_QTRSQ4",thumbnailUrl:"https://img.youtube.com/vi/cxXq_QTRSQ4/hqdefault.jpg"}],manual:"This is the user manual for the PS department."},QM:{videos:[{title:"Introduction to QM",videoUrl:"https://www.youtube.com/watch?v=xAloEjXREZk",thumbnailUrl:"https://img.youtube.com/vi/xaLoEjXREZk/hqdefault.jpg"},{title:"QM Quality Control",videoUrl:"https://www.youtube.com/watch?v=v3p7GEvU-1A",thumbnailUrl:"https://img.youtube.com/vi/v3p7GEvU-1A/hqdefault.jpg"}],manual:"This is the user manual for the QM department."},SD:{videos:[{title:"Introduction to SD",videoUrl:"https://www.youtube.com/watch?v=7YUkIyTSZoY",thumbnailUrl:"https://img.youtube.com/vi/7YUkIyTSZoY/hqdefault.jpg"},{title:"SD Sales Strategies",videoUrl:"https://www.youtube.com/watch?v=B_U466VcQxo",thumbnailUrl:"https://img.youtube.com/vi/B_U466VcQxo/hqdefault.jpg"}],manual:"This is the user manual for the SD department."}};const _m=function(){var t,n;const[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)(null),[s,c]=(0,e.useState)(null),[l,u]=(0,e.useState)("home"),{t:d,i18n:h}=_g();(0,e.useEffect)((()=>{(async()=>{try{const e=await hl();(e=>{cu().using(Pu({headers:{Authorization:`Bearer ${e}`}}))})(e.idTokenClaims.access_token);const t=await(async e=>{const t=Cu(e);return await t.lists.getByTitle("Documents").items.get()})("url");o(t)}catch(e){console.error("Error fetching documents:",e)}})()}),[]);const p=e=>{h.changeLanguage(e)};return(0,dg.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",fontFamily:Am.fonts.primary},children:[(0,dg.jsxs)("header",{style:{display:"flex",alignItems:"center",backgroundColor:Am.colors.primaryStart,padding:"10px 20px",color:Am.colors.text},children:[(0,dg.jsx)("img",{src:ug,alt:"Company Logo",style:{height:"40px",marginRight:"20px"}}),(0,dg.jsx)("h1",{style:{margin:0},children:"Avant Sant\xe9 | SAP Training"}),(0,dg.jsxs)("div",{style:{marginLeft:"auto",marginRight:"20px"},children:[(0,dg.jsx)("button",{onClick:()=>p("en"),children:"English"}),(0,dg.jsx)("button",{onClick:()=>p("es"),children:"Espa\xf1ol"})]})]}),(0,dg.jsxs)("div",{style:{display:"flex",flex:1},children:[(0,dg.jsx)(lp,{rootStyles:{[`.${Uh}`]:{background:`linear-gradient(to bottom, ${Am.colors.primaryStart}, ${Am.colors.primaryEnd})`,color:Am.colors.text,width:"250px"}},children:(0,dg.jsxs)(fp,{menuItemStyles:{button:e=>{let{active:t}=e;return{color:Am.colors.text,backgroundColor:t?Am.colors.secondary:"rgba(0,0,0,0.2)",transition:"background-color 0.3s ease",fontWeight:"bold","&:hover":{backgroundColor:Am.colors.secondary}}},icon:{color:Am.colors.text},label:{fontWeight:"bold"}},children:[(0,dg.jsx)(Qf,{label:d("menu.departments"),icon:(0,dg.jsx)(cg,{}),children:Object.keys(Em).map((e=>(0,dg.jsx)(Yf,{onClick:()=>(e=>{a(e),c(null),u("department")})(e),active:i===e&&"department"===l,children:e},e)))}),(0,dg.jsx)(Yf,{icon:(0,dg.jsx)(lg,{}),onClick:()=>{u("faq"),a(null),c(null)},active:"faq"===l,children:d("menu.faq")})]})}),(0,dg.jsx)("main",{style:{flex:1,padding:"20px",backgroundColor:Am.colors.background,overflowY:"auto"},children:"department"===l&&i?(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsxs)("h2",{style:{color:Am.colors.heading},children:[i," Department"]}),(0,dg.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h3",{children:d("trainingVideos")}),(0,dg.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"},children:Em[i].videos.map(((e,t)=>(0,dg.jsxs)("div",{onClick:()=>c(e),style:{cursor:"pointer",width:"200px",textAlign:"center",border:s===e?`2px solid ${Am.colors.primaryStart}`:"none",borderRadius:"5px"},children:[(0,dg.jsx)("img",{src:e.thumbnailUrl,alt:e.title,style:{width:"100%",height:"auto",borderRadius:"5px"}}),(0,dg.jsx)("p",{children:e.title})]},t)))})]}),s&&(0,dg.jsx)(Tm,{videoKey:i}),(0,dg.jsxs)("div",{children:[(0,dg.jsx)("h3",{children:d("userManual")}),(0,dg.jsx)(xm,{manualUrl:null===(t=Em[i])||void 0===t?void 0:t.manualUrl,theme:Am,documents:(null===(n=Em[i])||void 0===n?void 0:n.documents)||[]})]})]})]}):"faq"===l?(0,dg.jsx)(pg,{}):(0,dg.jsxs)(dg.Fragment,{children:[(0,dg.jsx)("h2",{style:{color:Am.colors.heading},children:d("welcome.title")}),(0,dg.jsx)("p",{children:d("welcome.description")})]})})]})]})};r.render((0,dg.jsx)(e.StrictMode,{children:(0,dg.jsx)(_m,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.3322c0ae.js.map